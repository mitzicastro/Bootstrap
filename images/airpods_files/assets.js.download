window.evolv = window.evolv || {};

(function (evolv) {
  evolv.javascript = evolv.javascript || {};
  evolv.javascript.variants = evolv.javascript.variants || {};

  evolv.javascript.variants["evolv_web_yy2fsn8a2_ecw3st2kq"] = function (resolve, reject) {
    if ($('#evc1v1')
	.length === 0) {

	var htmlSection = $("<div>")
		.addClass("htmlscripts section")
		.attr("id", "evc1v1");
	var regDiv = $("<div>");
	var regDiv1 = $("<div>")
		.addClass("Container");

	var section = $("<section>")
		.attr("id", "ev-shop")
		.attr("data-promo", "shop")
		.addClass("override-1 override-2 override-3");

	var divGrid = $("<div>")
		.addClass(" Grid u-colorBackgroundSecondary u-paddingTop--xs48  u-paddingBottom--xs16 u-paddingY--md64 u-marginTop--md64 u-flexAlignContentStart--xs u-flexAlignContentEnd--md");

	var divHeaderCol = $("<div>")
		.addClass("Col Col--xs12");
	var shopH1 = $("<h1>")
		.addClass("u-fontDisplay u-textLineHeightExtraTight u-colorPrimary u-text--xs40 u-text--lg64 u-marginBottom--xs24 u-marginBottom--lg32 animate-slideup active-animate ev-shopHeader")
		.html("Shop");

	var divLinksCol = $("<div>")
		.addClass("Col Col--xs-12 Col--md3 ev-paddingBottom ev-deals-column")
		.attr("id", "deals-column");
	var divLinksCol1 = $("<div>")
		.addClass("Col Col--xs-12 Col--md3 ev-phones-column")
		.attr("id", "phones-column");
// 	var divLinksCol2 = $("<div>")
// 		.addClass("Col Col--xs-12 Col--md3 ev-shop-safe-column")
// 		.attr("id", "shop-safe-column");
	var divLinksCol4 = $("<div>")
		.addClass("Col Col--xs-12 Col--md3 ev-mobile-plans-column")
		.attr("id", "plans-column");
// 	var divLinksCol5 = $("<div>")
// 		.addClass("Col Col--xs-12 Col--md3 ev-home-plans-column")
// 		.attr("id", "home-plans-column");
	var divLinksCol6 = $("<div>")
		.addClass("Col Col--xs-12 Col--md3 ev-smartwatches-column")
		.attr("id", "smartwatches-column");
	var divLinksCol3 = $("<div>")
		.addClass("Col Col--xs-12 Col--md3 ev-accessories-column")
		.attr("id", "accessories-column");
	var divLinksCol7 = $("<div>")
		.addClass("Col Col--xs-12 Col--md3 ev-tablets-column")
		.attr("id", "tablets-column");

	var barAnimate = $("<div>")
		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
	var barAnimate1 = $("<div>")
		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
// 	var barAnimate2 = $("<div>")
// 		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
	var barAnimate4 = $("<div>")
		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
// 	var barAnimate5 = $("<div>")
// 		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
	var barAnimate6 = $("<div>")
		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
	var barAnimate3 = $("<div>")
		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");
	var barAnimate7 = $("<div>")
		.addClass("Bar Bar--secondary u-marginTop--0 u-paddingY--0 animate-slideup active-animate");

	var uPadding = $("<div>")
		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
	var uPadding1 = $("<div>")
		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
// 	var uPadding2 = $("<div>")
// 		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
	var uPadding4 = $("<div>")
		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
// 	var uPadding5 = $("<div>")
// 		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
	var uPadding6 = $("<div>")
		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
	var uPadding3 = $("<div>")
		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");
	var uPadding7 = $("<div>")
		.addClass("u-paddingY--xs32 u-paddingTop--md16 u-paddingBottom--md0 ev-mobile-padding");

	var shopLinkDeals = $("<a>")
		.attr("data-ev-scrollto", "Deals")
		.attr("href", "#")
		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
		.html("Deals");
	var shopLinkPhones = $("<a>")
		.attr("data-ev-scrollto", "Phones")
		.attr("href", "#")
		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
		.html("Phones");
// 	var shopLinkSafe = $("<a>")
// 		.attr("data-ev-scrollto", "Shop safe")
// 		.attr("href", "#")
// 		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
// 		.html("Shop Safe");
	var shopLinkMobile = $("<a>")
		.attr("data-ev-scrollto", "Plans")
		.attr("href", "#")
		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
		.html("Plans");
// 	var shopLinkHome = $("<a>")
// 		.attr("data-ev-scrollto", "Plans")
// 		.attr("href", "#")
// 		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
// 		.html("Home Internet Plans");
	var shopLinkWatch = $("<a>")
		.attr("data-ev-scrollto", "Smartwatches")
		.attr("href", "#")
		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
		.html("Smartwatches");
	var shopLinkAccess = $("<a>")
		.attr("data-ev-scrollto", "Accessories")
		.attr("href", "#")
		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
		.html("Accessories");
	var shopLinkTablet = $("<a>")
		.attr("data-ev-scrollto", "Tablets")
		.attr("href", "#")
		.addClass("Button Button--cta u-textBold u-fontDisplay u-flexAlignSelfStart animate-slideup active-animate ev-arrow-right ev-link-adjustment")
		.html("Tablets");

	$('main .basepagepar >:nth-child(1)')
		.before(htmlSection.append(regDiv.append(section.append(regDiv1.append(divGrid.append(divHeaderCol.append(shopH1))
			.append(divLinksCol.append(barAnimate)
				.append(uPadding.append(shopLinkDeals)))
			.append(divLinksCol1.append(barAnimate1)
				.append(uPadding1.append(shopLinkPhones)))
		// 	.append(divLinksCol2.append(barAnimate2)
		// 		.append(uPadding2.append(shopLinkSafe)))
		  .append(divLinksCol3.append(barAnimate3)
				.append(uPadding3.append(shopLinkAccess)))
			.append(divLinksCol4.append(barAnimate4)
				.append(uPadding4.append(shopLinkMobile)))
		// 	.append(divLinksCol5.append(barAnimate5)
		// 		.append(uPadding5.append(shopLinkHome)))
			.append(divLinksCol6.append(barAnimate6)
				.append(uPadding6.append(shopLinkWatch)))
			
			.append(divLinksCol7.append(barAnimate7)
				.append(uPadding7.append(shopLinkTablet))))))))

	$(document)
		.on('click', "[data-ev-scrollto]", function(event) {
			event.preventDefault();
			var filterH2 = $(this)
				.attr("data-ev-scrollto");
			window.__evolv_shop_web.scrollToArea(filterH2);
			setTimeout(function(filterH2) {
				window.__evolv_shop_web.scrollToArea(filterH2);
			}, 500, filterH2);
			setTimeout(function(filterH2) {
				window.__evolv_shop_web.scrollToArea(filterH2);
			}, 900, filterH2);
			setTimeout(function(filterH2) {
				window.__evolv_shop_web.scrollToArea(filterH2);
			}, 1200, filterH2);
		})

};
  };

  evolv.javascript.variants["evolv_web_yy2fsn8a2_ecw3st2kq"].timing = "immediate";

  evolv.javascript.variants["evolv_web_yy2fsn8a2"] = function (resolve, reject) {
    //click.event
$('main[role=main]').on('click touchend', 'a', function(e) {
    console.log('Evolv Shop web triggered ')
    try {
        //AA Event
        window.evolv.client.emit('shoplinks.engagement')
    } catch (e) {
        console.log(e);
    }
})

window.__evolv_shop_web = {
    scrollToArea: function(filterH2) {
        var correctionAdjustment = -1 * (50 + (25 * $(window).width() / 1440));
        var correctTag = filterH2 === "Deals" ? "h1" : "h2";
        var bottomofMenu = $(".gnav20-ribbontext").get(0).getBoundingClientRect().bottom

        var topOfRect = $(correctTag).filter(function(i, elem) {
            return $(elem).text().trim() === filterH2
        }).get(0).getBoundingClientRect().top

        var currentPosition = $("html,body").get(0).scrollTop;

        $("html,body").animate({
            scrollTop: topOfRect + currentPosition + correctionAdjustment - bottomofMenu + "px"
        });
    }
};
  };

  evolv.javascript.variants["evolv_web_yy2fsn8a2"].timing = "immediate";

  evolv.javascript.variants["evolv_web_t6gv1xwrj_m2sow1884"] = function (resolve, reject) {
    
var acci = window.__evolv_accessory_interstitial;
acci.setControlListener('ev-c1v2-ran', 'ev-c1v2-t', variantC1V2);
function variantC1V2() {
  function changes(){
    $('[class*=ItemCardMobile__DeviceCard]').parent().addClass("ev-c1-card");
    $("[class*=ItemCardDesktop__ItemTile]").parent().addClass("ev-c1-card");
    $("[class*=ItemCardDesktop__ItemTile]").parent().removeClass('col-xs-4');
    $("[class*=ItemCardDesktop__ItemTile]").parent().addClass('col-xs-6');
  }
  changes();
  $(document).on("click touchend", function () {
    setTimeout(function () {
      changes();
    }, 10, changes);
  });
};
  };

  evolv.javascript.variants["evolv_web_t6gv1xwrj_m2sow1884"].timing = "immediate";

  evolv.javascript.variants["evolv_web_t6gv1xwrj_59walguv6"] = function (resolve, reject) {
    
var acci = window.__evolv_accessory_interstitial;
acci.setControlListener('ev-c2v3-ran', 'ev-c2v3-t', variantC2V3);
function variantC2V3() {
  window.__evolv_accessory_interstitial.variantC2run(3);
};
  };

  evolv.javascript.variants["evolv_web_t6gv1xwrj_59walguv6"].timing = "immediate";

  evolv.javascript.variants["evolv_web_t6gv1xwrj_tjbwudpch"] = function (resolve, reject) {
    
var acci = window.__evolv_accessory_interstitial;
acci.setControlListener('ev-c3v2-ran', 'ev-c3v2-t', variantC3V2);
function variantC3V2() {
  function changes(){
    if($($("h2").get(0)).find('div').length > 0){
      $($("h2").get(0)).find('div').get(0).childNodes[0].data = "Take advantage of our deals for ";
      if($("#ev-c3v2-additional-text").length === 0){
        $($("h2").get(0)).find('div').append('<span id="ev-c3v2-additional-text"> accessories</span>');
      }
    }
  }
  changes();
  $(document).on("click touchend", function () {
    setTimeout(function () {
      changes();
    }, 10, changes);
  });
};
  };

  evolv.javascript.variants["evolv_web_t6gv1xwrj_tjbwudpch"].timing = "immediate";

  evolv.javascript.variants["evolv_web_t6gv1xwrj_zm5hwjwrk"] = function (resolve, reject) {
    
var acci = window.__evolv_accessory_interstitial;
acci.setControlListener('ev-c5v6-ran', 'ev-c5v6-t', variantC5V6);
function variantC5V6() {
  function goToShop(){
    setTimeout(function(){
      window.location = "/shop"
    }, 500);
  }
  function changes(goToShop){
    if($(window).width() >= 768){
      // desktop
      
      // single line heading
      if($($("h1").get(0)).length > 0){
        $("h1").parent().parent().removeClass("col-xs-5").addClass("col-xs-10")
      }
  
      // reduced height
      if($($("h1").get(0)).length > 0){
        $("h1").parent().parent().parent().addClass("ev-c5-reduce-height");
        $($("h1").parent().parent().find("button").parent().get(0)).addClass("ev-c5-reduce-height-button");
        if($("#ev-keep-shopping").length === 0){
          $(".ev-c5-reduce-height-button").after('<div class="ev-keep-shopping" id="ev-keep-shopping"><button width="225px" aria-label="Go to cart" data-analyticstrack="keep-shopping" data-track="{&quot;type&quot;:&quot;button&quot;, &quot;name&quot;:&quot;accessory interstitial device keep shopping&quot;}" class="ev-button" display="flex" role="button" aria-disabled="false" tabindex="0"><span tabindex="-1" display="flex" width="225px" class="ev-inner-button">Keep shopping</span></button></div>');
          $("#ev-keep-shopping > button").on("click touchend", goToShop);
        }
        //.addClass("ev-c5-reduce-height-sister")
        $($($("h1").parent().parent().parent().parent().parent().children("div").get(1)).children("div").get(0)).addClass("ev-c5-reduce-height-sister");
      }
    }
    else{
      if($($("h1").get(0)).length > 0){
        $("h1").parent().parent().parent().addClass("ev-c5-reduce-height");
        $($("h1").parent().parent().parent().parent().children("div").get(1)).addClass("ev-c5-reduce-height-button");
        if($("#ev-keep-shopping").length === 0){
          $(".ev-c5-reduce-height-button").after('<div class="ev-keep-shopping" id="ev-keep-shopping"><button width="225px" aria-label="Go to cart" data-analyticstrack="keep-shopping" data-track="{&quot;type&quot;:&quot;button&quot;, &quot;name&quot;:&quot;accessory interstitial device keep shopping&quot;}" class="ev-button" display="flex" role="button" aria-disabled="false" tabindex="0"><span tabindex="-1" display="flex" width="225px" class="ev-inner-button">Keep shopping</span></button></div>');
          $("#ev-keep-shopping > button").on("click touchend", goToShop);
        }
        $($($("h1").parent().parent().parent().parent().parent().children("div").get(1)).children("div").get(0)).addClass("ev-c5-reduce-height-sister");
      }
    }
  }
  changes(goToShop);
  $(document).on("click touchend", function () {
    setTimeout(function (changes, goToShop) {
      changes(goToShop);
    }, 10, changes, goToShop);
  });
};
  };

  evolv.javascript.variants["evolv_web_t6gv1xwrj_zm5hwjwrk"].timing = "immediate";

  evolv.javascript.variants["evolv_web_t6gv1xwrj"] = function (resolve, reject) {
    var __evolv_accessory_interstitial_conversion = function () {
  try {
    window.evolv.client.emit("accessoryinterstitialadd.engagement");
  } catch (e) {
    console.log(e);
  }
  console.log("evolv accessoryinterstitial.engagement triggered");
};

$(document).on(
  "click touchend",
  '[data-analyticstrack="recommended-accessories-tabs-Bundles"]',
  __evolv_accessory_interstitial_conversion
);
$(document).on(
  "click touchend",
  '[data-analyticstrack="content-impression"]',
  __evolv_accessory_interstitial_conversion
);

window.__evolv_accessory_interstitial = {
  deviceFullName: $('h1 > span:nth-child(1)').text(),
  deviceName: $($("h2").get(0)).find('div > span > span').text(),
  startControl: function () {
    var acci = window.__evolv_accessory_interstitial;

    acci.variantTrigger('ev-c1v1-t');
    acci.variantTrigger('ev-c1v2-t');
    acci.variantTrigger('ev-c2v1-t');
    acci.variantTrigger('ev-c2v2-t');
    acci.variantTrigger('ev-c2v3-t');
    acci.variantTrigger('ev-c2v4-t');
    acci.variantTrigger('ev-c2v5-t');
    acci.variantTrigger('ev-c3v1-t');
    acci.variantTrigger('ev-c3v2-t');
    acci.variantTrigger('ev-c3v3-t');
    acci.variantTrigger('ev-c3v4-t');
    acci.variantTrigger('ev-c5v1-t');
    acci.variantTrigger('ev-c5v2-t');
    acci.variantTrigger('ev-c5v3-t');
    acci.variantTrigger('ev-c5v4-t');
    acci.variantTrigger('ev-c5v5-t');
    acci.variantTrigger('ev-c5v6-t');

    /*** override example below ***/
    // // // comment out original trigger and put this to override a variant
    // acci.variantTrigger('ev-c1v1-mod-t');
    // acci.setControlListener('ev-c1v1-mod-ran', 'ev-c1v1-ran', function(){
    //   console.log("test override");
    // });
  },
  controlParent: $('.aem-page.page').parent(),
  variantTrigger: function (vTrig) {
    var parent = window.__evolv_accessory_interstitial.controlParent;
    parent.addClass(vTrig);
    parent.trigger(vTrig);
  },
  setControlListener: function (vRan, vTrig, cb) {
    var parent = window.__evolv_accessory_interstitial.controlParent;
    parent.addClass(vRan);
    parent.trigger(vRan);
    if (parent.hasClass(vTrig)) {
      cb();
    }
    else {
      parent.on("vTrig", cb);
    }
  },
  variantC2run: function (variantNum) {
    var deviceName = window.__evolv_accessory_interstitial.deviceName;
    var bundles = window.__evolv_accessory_interstitial.bundles;
    // var deviceName = "Galaxy S20 FE 5G UW";
    function shortenTitle(title) {
      return title.substr(0, 60) + "...";
    }
    var bundleNumber = bundles.filter(function (item) {
      return item.compatiblePhones.includes(deviceName);
    }).length;
    if (bundleNumber > 0) {
      if ($("#ev-extra-tabs").length === 0) {
        var extraTabs = $("<div>");
        extraTabs.attr("id", "ev-extra-tabs");
        var extraTabsList = $("<ul>");
        extraTabs.append(extraTabsList);

        var bundlesTabButton = $('<li class="ev-tab-bundles ev-active-button"><button id="ev-bundles-active-button" data-analyticstrack="recommended-accessories-tabs-Bundles" data-track="{&quot;type&quot;:&quot;tab&quot;,&quot;name&quot;:&quot;Bundles&quot;,&quot;viewName&quot;:&quot;Cases tab&quot;}">Bundles</button></li>');
        extraTabsList.append(bundlesTabButton);
        bundlesTabButton.on("click touchend", function (event) {
          event.preventDefault();
          $(this).removeClass("ev-inactive-button");
          $(".ev-active-button").addClass("ev-inactive-button").removeClass("ev-active-button");
          $(this).addClass("ev-active-button");
          $("#ev-bundles-content-wrapper").show();
          $("#ev-original-content-wrapper").hide();
          setTimeout(function (variantNum) {
            window.__evolv_accessory_interstitial.variantC2run(variantNum);
          }, 50, variantNum);
        });
        var originalTabs = [];
        $("[class*=StyledTabList]").children().map(function (i) {
          // console.log($(this).find("span").text());
          // console.log($(this).find("button").attr("id"));
          // console.log(i);
          var heading = $(this).find("span").text();
          var extraClass = "ev-tab-" + heading.trim().toLowerCase().replace(" ", "-");
          $(this).addClass(extraClass);
          originalTabs.push({
            heading: heading,
            id: $(this).find("button").attr("id"),
            extraClass: extraClass,
            index: i
          });
        });
        originalTabs.map(function (tabData) {
          var tab = $("<li>");
          var button = $("<button>");
          tab.addClass("ev-inactive-button");
          button.text(tabData.heading);
          button.attr("data-ev-original-tab", tabData.id);
          tab.addClass(tabData.extraClass);
          tab.on("click touchend", function (event) {
            event.preventDefault();
            var id = $(this).find("button").attr("data-ev-original-tab");
            $("#" + id).click();

            $(this).removeClass("ev-inactive-button");
            $(".ev-active-button").addClass("ev-inactive-button").removeClass("ev-active-button");
            $(this).addClass("ev-active-button");
            $("#ev-original-content-wrapper").show();
            $("#ev-bundles-content-wrapper").hide();
            setTimeout(function (variantNum) {
              window.__evolv_accessory_interstitial.variantC2run(variantNum);
            }, 50, variantNum);
          });
          tab.append(button);
          extraTabsList.append(tab);
        });

        $("[class*=TabsWrapper]").attr("id", "ev-original-tabs");
        $("[class*=TabsWrapper] + div").attr("id", "ev-original-content-wrapper");
        $("[class*=TabsWrapper]").after(extraTabs);

        // hide original content in favor of bundles the first time
        $("#ev-original-content-wrapper").hide();
      }
      if ($("#ev-bundles-inactive-button").length === 0) {
        var bundlesTabButton = $('<li class="ev-tab-bundles ev-inactive-button"><button id="ev-bundles-inactive-button" data-analyticstrack="recommended-accessories-tabs-Bundles" data-track="{&quot;type&quot;:&quot;tab&quot;,&quot;name&quot;:&quot;Bundles&quot;,&quot;viewName&quot;:&quot;Cases tab&quot;}">Bundles</button></li>');
        bundlesTabButton.on("click touchend", function (event) {
          event.preventDefault();
          setTimeout(function (variantNum) {
            window.__evolv_accessory_interstitial.variantC2run(variantNum);
          }, 50, variantNum);
        });
        $("[class*=StyledTabList]").prepend(bundlesTabButton);
      }
      // always hide original tabs
      $("[class*=StyledTabList]").hide();

      if ($("#ev-bundles-content-wrapper").length === 0) {
        var bundlesContent = $("<div>");

        bundlesContent.attr("id", "ev-bundles-content-wrapper");
        if (vzwDL.page.platform === "desktop" || vzwDL.page.platform === "tablet") {
          // desktop
          bundles.filter(function (item) {
            return item.compatiblePhones.includes(deviceName);
          }).forEach(function (bundleData) {
            // console.log(bundleData);
            var bundleProdId = bundleData.prodId;
            var bundleSku = bundleData.skuId;
            var bundleName = bundleData.name;
            var bundleDiscount = bundleData.discount;
            var bundleShortName = shortenTitle(bundleName);
            var bundleRetail = bundleData.retailPrice;
            var bundlePrice = bundleData.price;
            var bundleImage = bundleData.imageUrl;
            var bundleItems = bundleData.items;
            var bundleInStock = bundleData.stock === "In-stock";
            var bundleId = bundleData.id;
            var bundleAccessoryBundle = bundleData.accessoryBundle;
            var bundleProductId = bundleData.productId;
            // var bundleSku = "fakesku";
            // var bundleName = "Symmetry Series Case for Galaxy S20 FE 5G UW";
            // var bundleRetail = "61.11";
            // var bundlePrice = "49.99";
            // var bundleImage = "otterbox-symmetry-case-protection-wireless-charging-bundle-gs-20-fe-iset";
            bundleImage = "https://ss71.vzw.com/is/image/VerizonWireless/" + bundleImage;
            bundleImage += "?bgc=f6f6f6";

            //         <div class="col-xs-4">
            var itemColumn = $("<div>").addClass("col-xs-4");
            //     <div class="ItemCardDesktop__ItemTile-sc-1tj5wvt-4 dcgCxw">
            var itemCard = $("<div>").addClass("ev-item-card-desktop");

            var itemPromoRow = $("<div>").addClass("row ev-item-row-promo-desktop");
            //         <div class="ItemCardDesktop__TileContent-sc-1tj5wvt-6 gYkrkf row">
            var itemRow1 = $("<div>").addClass("row ev-item-row-desktop");
            //             <div class="col-xs-8">
            var innerColumn1 = $("<div>").addClass("col-xs-8");
            var innerColumn1b = $("<div>").addClass("col-xs-12");
            //                 <div class="ItemCardDesktop__DescriptionContainer-sc-1tj5wvt-9 MXiiF">
            var descriptionContainer = $("<div>").addClass("ev-description-container");
            //                     <div class="ItemCardDesktop__TitleContainer-sc-1tj5wvt-1 egzYWP">
            var titleContainer = $("<div>").addClass("ev-title-container");
            if (variantNum !== 4) {
              //                         <h3 font-size="20" font-weight="700" font-family="Verizon-NHG-eDS" lineheight="20" primitive="h3" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 jRLWhX StyledTitle-sc-155xzr0-0 jvAJZO">
              var titleH3 = $("<h3>").addClass("ev-title-h3");

              //                             <span>OtterBox</span> <br> <span>Symmetry Clear Series Case for iPhone 12/iPhone 12
              var titleSpan = $("<span>").addClass("ev-title-span");
              titleSpan.text(bundleShortName);

              titleContainer.append(titleH3.append(titleSpan));
              descriptionContainer.append(titleContainer);
            }
            else {
              titleContainer.addClass("ev-title-container-v4");
              //                         <h3 font-size="20" font-weight="700" font-family="Verizon-NHG-eDS" lineheight="20" primitive="h3" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 jRLWhX StyledTitle-sc-155xzr0-0 jvAJZO">
              var titleH3 = $("<h3>").addClass("ev-title-h3");

              //                             <span>OtterBox</span> <br> <span>Symmetry Clear Series Case for iPhone 12/iPhone 12
              var titleSpan = $("<span>").addClass("ev-title-span");
              titleSpan.text("3-item bundle");

              titleContainer.append(titleH3.append(titleSpan));
              descriptionContainer.append(titleContainer);

              bundleItems.forEach(function (item) {
                var itemSpan = $("<span>").addClass("ev-item-span");
                itemSpan.text(item);
                descriptionContainer.append(itemSpan);
              });
            }

            innerColumn1.append(descriptionContainer);


            //                                 Pro</span></h3>
            //                     </div>
            //                 </div>
            if (variantNum === 0) {
              //                 <div class="ItemCardDesktop__PriceContainer-sc-1tj5wvt-11 kbtcFV">
              var priceWrapper = $("<div>").addClass("ev-price-wrapper");
              //                     <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD">
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                     </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.text("$" + bundlePrice);
              priceWrapper.append(retailPriceP, priceDiv.append(priceSpan));
              innerColumn1.append(priceWrapper)
            }
            else if (variantNum === 1 || variantNum === 2) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper-v1");
              var discount = $("<div>").addClass("ev-discount-amount");
              discount.text(bundleDiscount + " off");
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                     </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.html("$" + bundlePrice + " was&nbsp;");
              priceWrapper.append(discount, priceDiv.append(priceSpan), retailPriceP);
              innerColumn1b.append(priceWrapper);
            }
            else if (variantNum === 3) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper-v3");
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                     </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.html("$" + bundlePrice + " was&nbsp;");
              priceWrapper.append(priceDiv.append(priceSpan), retailPriceP);
              innerColumn1b.append(priceWrapper);
            }
            else if (variantNum === 4) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper-v4");
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                     </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.html("$" + bundlePrice + " was&nbsp;");
              priceWrapper.append(priceDiv.append(priceSpan), retailPriceP);
              innerColumn1b.append(priceWrapper);
            }
            //                     <p></p>
            //                 </div>
            //             </div>

            //             <div class="col-xs-4">
            var innerColumn2 = $("<div>").addClass("col-xs-4");
            //<img tabindex="0" aria-hidden="false" aria-label="OtterBox Symmetry Clear Series Case for iPhone 12/iPhone 12 Pro" src="https://ss71.vzw.com/is/image/VerizonWireless/otterbox-symmetry-clear-series-case-olaf-kristoff-stardust-77-66205-iset?bgc=f6f6f6" class="ItemCardDesktop__Image-sc-1tj5wvt-0 gzoMTl"></div>
            var image = $("<img>").addClass("ev-bundle-image");
            image.attr("src", bundleImage);
            image.attr("alt", bundleName);
            innerColumn2.append(image);

            itemRow1.append(innerColumn1, innerColumn2, innerColumn1b);
            //         </div>


            //         <div class="ItemCardDesktop__ButtonContainer-sc-1tj5wvt-8 dyFMW row">

            //             <div class="pad20 onlyLeftPad row">
            var itemRow2 = $("<div>").addClass("row ev-item-row2-desktop");
            //                 <div class="">
            var buttonColumn = $("<div>").addClass("ev-button-column");
            // <button 
            // class="StyledButton-bc3yhn-2 hgVasP buttons__StyledButton-sc-1awtxm8-0 gGngAj center_element" 
            // width="auto" 
            // data-impression="Manual:rtAccessoriesRecommendation:rt_accessory:InterstitialPage:Cases:77-66205:1" 
            // data-analyticstrack="content-impression" 
            // data-track="{&quot;type&quot;:&quot;impression&quot;, &quot;name&quot;:&quot;Manual|rtAccessoriesRecommendation|rt_accessory|InterstitialPage|Cases|77-66205|1&quot;}" 
            // display="flex" 
            // aria-label="Add to order OtterBox Symmetry Clear Series Case for iPhone 12/iPhone 12 Pro" 
            /// role="button" aria-disabled="false" tabindex="0"><span class="HitArea-bc3yhn-0 fnTZIk"></span><span tabindex="-1" display="flex" width="auto" class="StyledChildWrapper-bc3yhn-1 jevPII">Add to order</span></button></div>
            var button = $("<button>").addClass("ev-add-to-order-button");
            button.attr("data-impression", "Manual:rtAccessoriesRecommendation:rt_accessory:InterstitialPage:Bundles:" + bundleSku + ":1");
            button.attr("data-analyticstrack", "content-impression");
            button.attr("data-track", "{&quot;type&quot;:&quot;impression&quot;, &quot;name&quot;:&quot;Manual|rtAccessoriesRecommendation|rt_accessory|InterstitialPage|Bundles|" + bundleSku + "|1&quot;}");
            button.attr("aria-label", "Add to order " + bundleName);
            button.attr("role", "button");
            button.attr("aria-disabled", "false");
            button.attr("data-ev-prod-id", bundleProdId);
            button.attr("data-ev-sku-id", bundleSku);
            button.attr("data-ev-quantity", 1);
            button.attr("data-ev-cart-id", bundleId);
            button.attr("data-ev-product-id", bundleProductId);
            button.attr("data-ev-accessory-bundle", bundleAccessoryBundle);

            if (!bundleInStock) {
              window.__evolv_accessory_interstitial.disableButton(button);
            }

            var buttonSpan = $("<span>").addClass("ev-button-span");
            buttonSpan.text("Add to order");

            buttonColumn.append(button.append(buttonSpan));

            if (variantNum === 2) {
              var details = $("<div>").addClass("ev-see-details");
              details.text("See details");

              buttonColumn.append(details);
            }
            itemRow2.append(buttonColumn);
            //                 <div class="pad5 noBottomPad noRightPad"></div>
            //             </div>
            //         </div>
            //     </div>
            // </div>

            itemColumn.append(itemCard.append(itemPromoRow, itemRow1, itemRow2));
            bundlesContent.append(itemColumn);
            bundlesContent.addClass("row");
          });
        }
        else {
          bundles.filter(function (item) {
            return item.compatiblePhones.includes(deviceName);
          }).forEach(function (bundleData) {
            // console.log(bundleData);
            var bundleProdId = bundleData.prodId;
            var bundleSku = bundleData.skuId;
            var bundleName = bundleData.name;
            var bundleDiscount = bundleData.discount;
            var bundleShortName = shortenTitle(bundleName);
            var bundleRetail = bundleData.retailPrice;
            var bundlePrice = bundleData.price;
            var bundleImage = bundleData.imageUrl;
            var bundleItems = bundleData.items;
            var bundleInStock = bundleData.stock === "In-stock";
            var bundleId = bundleData.id;
            var bundleAccessoryBundle = bundleData.accessoryBundle;
            var bundleProductId = bundleData.productId;
            // var bundleSku = "fakesku";
            // var bundleName = "Symmetry Series Case for Galaxy S20 FE 5G UW";
            // var bundleRetail = "61.11";
            // var bundlePrice = "49.99";
            // var bundleImage = "otterbox-symmetry-case-protection-wireless-charging-bundle-gs-20-fe-iset";
            bundleImage = "https://ss71.vzw.com/is/image/VerizonWireless/" + bundleImage;
            bundleImage += "?bgc=f6f6f6";
            // mobile
            //       <div class="col-xs-12">
            var itemColumn = $("<div>").addClass("col-xs-12");

            //     <div class="ItemCardMobile__DeviceCard-gh1ybx-1 cpSDAV">
            var itemCard = $("<div>").addClass("ev-item-card-mobile");

            //         <div class="row" style="height: 50%; margin-bottom: 0.5vh;">
            var itemRow1 = $("<div>").addClass("row ev-item-row-mobile");
            //             <div class="col-xs-8">
            var innerColumn1 = $("<div>").addClass("col-xs-8");
            //                 <div class="ItemCardMobile__TitleContainer-gh1ybx-3 igUYAR">
            var headingWrapper = $("<div>").addClass("ev-title-wrapper");
            if (variantNum !== 4) {
              // var brandP = $("<p>").addClass("ev-brand-p");
              var nameP = $("<p>").addClass("ev-name-p");
              nameP.text(bundleShortName);
              nameP.attr("font-size", "20");
              nameP.attr("font-weight", "700");
              nameP.attr("font-family", "Verizon-NHG-eDS");
              nameP.attr("lineheight", "20");
              nameP.attr("color", "#000000");
              nameP.attr("aria-hidden", "false");
              //                     <p font-size="20" font-weight="700" font-family="Verizon-NHG-eDS" lineheight="20" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 jRLWhX StyledTitle-sc-155xzr0-0 jvAJZO">
              //                         <span>OtterBox</span></p>
              //                     <p font-size="20" font-weight="700" font-family="Verizon-NHG-eDS" lineheight="20" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 jRLWhX StyledTitle-sc-155xzr0-0 jvAJZO"><span>Symmetry
              //                             Clear Series Case for iPhone 12/iPhone 12 Pro</span></p>
              //                 </div>
              headingWrapper.append(nameP);
            }
            else {
              // var brandP = $("<p>").addClass("ev-brand-p");
              var nameP = $("<p>").addClass("ev-name-p");
              nameP.text("3-item-bundle");
              nameP.attr("font-size", "20");
              nameP.attr("font-weight", "700");
              nameP.attr("font-family", "Verizon-NHG-eDS");
              nameP.attr("lineheight", "20");
              nameP.attr("color", "#000000");
              nameP.attr("aria-hidden", "false");
              //                     <p font-size="20" font-weight="700" font-family="Verizon-NHG-eDS" lineheight="20" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 jRLWhX StyledTitle-sc-155xzr0-0 jvAJZO">
              //                         <span>OtterBox</span></p>
              //                     <p font-size="20" font-weight="700" font-family="Verizon-NHG-eDS" lineheight="20" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 jRLWhX StyledTitle-sc-155xzr0-0 jvAJZO"><span>Symmetry
              //                             Clear Series Case for iPhone 12/iPhone 12 Pro</span></p>
              //                 </div>
              headingWrapper.append(nameP);

              bundleItems.forEach(function (item) {
                var itemSpan = $("<p>").addClass("ev-item-p");
                itemSpan.text(item);
                headingWrapper.append(itemSpan);
              });
            }
            innerColumn1.append(headingWrapper);
            if (variantNum === 0) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper");
              //                 <div style="margin-bottom: 0.5rem;"></div>
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD"></p>
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD">
              //                 </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.text("$" + bundlePrice);
              //                 <p></p>
              //             </div>

              innerColumn1.append(priceWrapper.append(retailPriceP, priceDiv.append(priceSpan)));

            }
            else if (variantNum === 1 || variantNum === 2) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper-v1");
              //                 <div style="margin-bottom: 0.5rem;"></div>
              var discount = $("<div>").addClass("ev-discount-amount");
              discount.text(bundleDiscount + " off");
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD"></p>
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD">
              //                 </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.html("$" + bundlePrice + " was&nbsp;");
              //                 <p></p>
              //             </div>

              innerColumn1.append(priceWrapper.append(discount, priceDiv.append(priceSpan), retailPriceP));

            }
            else if (variantNum === 3) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper-v3");
              //                 <div style="margin-bottom: 0.5rem;"></div>
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD"></p>
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD">
              //                 </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.html("$" + bundlePrice + " was&nbsp;");
              //                 <p></p>
              //             </div>

              innerColumn1.append(priceWrapper.append(priceDiv.append(priceSpan), retailPriceP));

            }
            else if (variantNum === 4) {
              var priceWrapper = $("<div>").addClass("ev-price-wrapper-v4");
              //                 <div style="margin-bottom: 0.5rem;"></div>
              var retailPriceP = $("<p>").addClass("ev-retail-price");
              retailPriceP.text("$" + bundleRetail);
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD"></p>
              //                 <p font-size="16" font-weight="400" font-family="Verizon-NHG-eDS" lineheight="20" letter-spacing="0.5" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 efzNBw StyledBody-sc-1s1yqd8-0 etfxRD">
              //                 </p><div><span aria-label="$49.99" class="">$49.99</span></div>
              var priceDiv = $("<div>").addClass("ev-bundle-price-div");
              var priceSpan = $("<span>").addClass("ev-bundle-price");
              priceSpan.attr("aria-label", "$" + bundlePrice);
              priceSpan.html("$" + bundlePrice + " was&nbsp;");
              //                 <p></p>
              //             </div>

              innerColumn1.append(priceWrapper.append(priceDiv.append(priceSpan), retailPriceP));

            }
            //             <div class="col-xs-4">
            var innerColumn2 = $("<div>").addClass("col-xs-4");
            // <img aria-hidden="true" src="https://ss71.vzw.com/is/image/VerizonWireless/otterbox-symmetry-clear-series-case-olaf-kristoff-stardust-77-66205-iset?bgc=f6f6f6" class="ItemCardMobile__Image-gh1ybx-0 iogxrA"></div>
            var image = $("<img>").addClass("ev-bundle-image");
            image.attr("src", bundleImage);
            innerColumn2.append(image);
            //         </div>

            //         <div class="row">
            var itemRow2 = $("<div>").addClass("row ev-item-row2-mobile");
            //             <div class="col-xs-5">
            var buttonColumn = $("<div>").addClass("col-xs-12");
            //<button class="StyledButton-bc3yhn-2 hgVasP buttons__StyledButton-sc-1awtxm8-0 gGngAj center_element" width="auto" data-analyticstrack="content-impression" aria-label="Add to order" data-impression="SOI:rtAccessoriesRecommendation:rt_accessory:InterstitialPage:Cases:77-66205:1" data-track="{&quot;type&quot;:&quot;impression&quot;, &quot;name&quot;:&quot;SOI|rtAccessoriesRecommendation|rt_accessory|InterstitialPage|Cases|77-66205|1&quot;}" display="flex" role="button" aria-disabled="false" tabindex="0"><span class="HitArea-bc3yhn-0 fnTZIk"></span>
            var button = $("<button>").addClass("ev-add-to-order-button");
            button.attr("data-analyticstrack", "content-impression");
            button.attr("aria-label", "Add to order");
            button.attr("data-impression", "SOI:rtAccessoriesRecommendation:rt_accessory:InterstitialPage:Bundles:" + bundleSku + ":1");
            button.attr("data-track", "{&quot;type&quot;:&quot;impression&quot;, &quot;name&quot;:&quot;SOI|rtAccessoriesRecommendation|rt_accessory|InterstitialPage|Bundles|" + bundleSku + "|1&quot;}");
            button.attr("role", "button");
            button.attr("aria-disabled", "false");
            button.attr("data-ev-prod-id", bundleProdId);
            button.attr("data-ev-sku-id", bundleSku);
            button.attr("data-ev-quantity", 1);
            button.attr("data-ev-cart-id", bundleId);
            button.attr("data-ev-product-id", bundleProductId);
            button.attr("data-ev-accessory-bundle", bundleAccessoryBundle);

            if (!bundleInStock) {
              window.__evolv_accessory_interstitial.disableButton(button);
            }
            var buttonSpan = $("<span>").addClass("ev-button-span");
            buttonSpan.text("Add to order");
            //width="auto" 
            // data-analyticstrack="content-impression" aria-label="Add to order" 
            // data-impression="SOI:rtAccessoriesRecommendation:rt_accessory:InterstitialPage:Cases:77-66205:1" 
            // data-track="{&quot;type&quot;:&quot;impression&quot;, &quot;name&quot;:&quot;SOI|rtAccessoriesRecommendation|rt_accessory|InterstitialPage|Cases|77-66205|1&quot;}" display="flex" role="button" aria-disabled="false" tabindex="0"


            //<span tabindex="-1" display="flex" width="auto" class="StyledChildWrapper-bc3yhn-1 jevPII">Add to order</span></button></div>
            //             <div class="col-xs-7 pad5 onlyTopPad"></div>
            //         </div>
            //     </div>
            // </div>
            itemRow1.append(innerColumn1, innerColumn2);

            buttonColumn.append(button.append(buttonSpan));
            if (variantNum === 2) {
              var details = $("<div>").addClass("ev-see-details");
              details.text("See details");

              buttonColumn.append(details);
            }
            itemRow2.append(buttonColumn);
            itemColumn.append(itemCard.append(itemRow1, itemRow2));
            bundlesContent.append(itemColumn);
          });

        }
        $("#ev-extra-tabs").after(bundlesContent);


        $(".ev-add-to-order-button").on("click touchend", function (event) {
          event.preventDefault();
          var buttonColumn = $(this).parent(".ev-button-column");
          var button = $(this);
          var url = "https://www.verizon.com/soe/digital/auth/cartservice/cart/add-accessories";
          var rightCookie = document.cookie.substr(document.cookie.indexOf("XSRF-TOKEN=") + "XSRF-TOKEN=".length);
          var xsrf = rightCookie.substr(0, rightCookie.indexOf(";"));
          // rightCookie = document.cookie.substr(document.cookie.indexOf("s_ecid=") + "s_ecid=".length);
          // var s_ecid = rightCookie.substr(0, rightCookie.indexOf(";")).substr(8);
          var candidateVisitors = document.cookie.split("MCMID%7C");
          visitorId = candidateVisitors[candidateVisitors.length - 1];
          visitorId = visitorId.substr(0, visitorId.indexOf("%7C"));
          rightCookie = document.cookie.substr(document.cookie.indexOf("rtmprod=") + "rtmprod=".length);
          var rtmcart = rightCookie.substr(0, rightCookie.indexOf(";"));
          rtmcart = JSON.parse(decodeURIComponent(rtmcart));
          var referrer = rtmcart.url;
          var button = $(this);
          var cartId = button.attr("data-ev-cart-id");
          var productId = button.attr("data-ev-product-id");
          var accessoryBundle = button.attr("data-ev-accessory-bundle");
          var phoneNumber = "";

          var isEupFlow = /eup/.test(vzdl.page.flow);
          var flowName = "AAL";
          if(isEupFlow){
            flowName = "EUP";
            phoneNumber = $('h1').parent().parent().children("p").filter( function(i, elem) {
              if($(elem).text().length > 0 && /^[0-9]*$/.test($(elem).text())){
                  return true;
              }
            }).text();
          }


          var data = null;
          if (flowName === "AAL") {
            data = {
              "cartInfo":
              {
                "clientAppName": "VZW-ECOM",
                "correlationId": "69a66ef4d7e344dfb2db299209ea8333",
                "cartId": "",
                "caseId": "",
                "accountNumber": "",
                "cartCreator": "",
                "processingMTN": "newLine1",
                "processAction": "addAccessoryRecommendations",
                "processStep": "AccessoryInterestial",
                "intendType": "AAL",
                "pageId": "GW",
                "intent": "Accessory",
                "cradleFlowJourney": "PromoHub"
              }, "data":
              {
                "depletionType": "F",
                "lines":
                  [{
                    "mtn": "newLine1",
                    "mdnFilterValue": "newLine1",
                    "addAccessories":
                      [
                        // { "id": "sku"+skuId, 
                        // {
                        //   "id": "4090655",
                        //   "qty": 1,
                        //   "isSoftSku": false,
                        //   "accessoryBundle": false
                        // }
                        // {
                        //   "id": "WTLPNBUNBLK",
                        //   "qty": 1,
                        //   "isSoftSku": false,
                        //   "accessoryBundle": false,
                        //   "productId": "acc12200166"
                        //   // "category": "iPhone-Cases",
                        //   // "isEcpdDiscountEligilble": true
                        // }
                        {
                          accessoryBundle: accessoryBundle,
                          id: cartId,
                          isEcpdDiscountEligilble: false,
                          isSoftSku: false,
                          productId: productId,
                          qty: 1
                        }
                      ], "ispuFlow": false,
                    "depletionLocationCode": null
                  }
                  ]
              }
            }
          }
          else {
            data = {
              "cartInfo": {
                "clientAppName": "VZW-ECOM",
                "correlationId": "69a66ef4d7e344dfb2db299209ea8333",
                "cartId": "",
                "caseId": "",
                "accountNumber": "",
                "cartCreator": "",
                "processingMTN": phoneNumber,
                "processAction": "addAccessoryRecommendations",
                "processStep": "AccessoryInterestial",
                "intendType": "EUP",
                "pageId": "GW",
                "intent": "Accessory",
                "cradleFlowJourney": "PromoHub"
              },
              "data": {
                "depletionType": "F",
                "lines": [
                  {
                    "mtn": phoneNumber,
                    "mdnFilterValue": phoneNumber,
                    "addAccessories": [
                      // {
                      //   "id": "77-81984",
                      //   "qty": 1,
                      //   "isSoftSku": false,
                      //   "accessoryBundle": false
                      // }
                      {
                        accessoryBundle: accessoryBundle,
                        id: cartId,
                        isEcpdDiscountEligilble: false,
                        isSoftSku: false,
                        productId: productId,
                        qty: 1
                      }
                    ],
                    "ispuFlow": false,
                    "depletionLocationCode": null
                  }
                ]
              }
            }
          }
          // console.log({dataToSend: data});
          $.ajax({
            type: 'POST',
            url: url,
            headers: {
              "Accept": "application/json",
              "Accept-Encoding": "gzip, deflate, br",
              "Accept-Language": "en-US",
              "X-XSRF-TOKEN": xsrf,
              "X-CSRF-TOKEN": xsrf,
              "channelId": "VZW-DOTCOM",
              "Content-Type": "application/json",
              "DESTINATION_CLIENT_ID": "NSA",
              "flowName": flowName,
              "visitorId": visitorId,
              "from-referrer": referrer,
              "fromReferrer": referrer,
              "cartId": "",
              "isAuthenticated": "true"
            },
            data: JSON.stringify(data)
          })
            .done(function (response) {
              // console.log("success")
              // console.log(response);
              if (response.hasOwnProperty("errors")) {
                // console.log(response);
                window.__evolv_accessory_interstitial.disableButton(button);
              }
              else {
                var svg = '<svg width="15px" height="15px" viewBox="0 0 18.2 18.4" class="Icon__StyledSVG-r9ph41-0 iJvvXq"><g><path fill="black" d="M9.1,0.1c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S14.1,0.1,9.1,0.1z M9.1,17c-4.3,0-7.9-3.5-7.9-7.9s3.5-7.9,7.9-7.9S17,4.8,17,9.1 S13.5,17,9.1,17z"></path><polygon fill="black" points="7.6,11.2 5,8.6 4.2,9.4 7.6,12.8 14,6.4 13.2,5.6"></polygon></g></svg>'
                var svgDiv = $("<div>").addClass("ev-checkmark").append(svg);
                var svgDesc = $("<div>").addClass("ev-checkmark-description").text("Added");
                buttonColumn.empty();
                buttonColumn.append(svgDiv, svgDesc);
              }

            })
            .fail(function (response) {
              console.log("ev-error");
              console.log(response);
              // console.log("error")
              // console.log(response);
            });

        });
      }
    }
  },
  disableButton: function (button) {
    button.prop("disabled", true);
    button.attr("aria-disabled", "false");
  },
  bundles: [
    {
      id: "18500002",
      productId: "18500002",
      accessoryBundle: true,
      // stock: "Out of stock",
      stock: "In-stock",
      name: "Otterbox Symmetry Case, Protection & Wireless Charging Bundle for Galaxy S20 FE 5G UW",
      pName: "Galaxy S20 FE 5G UW",
      retailPrice: 149.97,
      price: 104.98,
      prodId: "18500002",
      skuId: "4090654",
      parentUrl: "",
      imageUrl: "otterbox-symmetry-case-protection-wireless-charging-bundle-gs-20-fe-iset",
      compatiblePhones: ["Galaxy S20 FE 5G UW"],
      discount: "30%",
      items: [
        "Symmetry Series Case for Galaxy S20 FE 5G UW - Black",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for Galaxy S20 FE 5G UW",
        "Verizon Wireless Charging Pad"
      ]
    },
    {
      id: "18500001",
      productId: "18500001",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Gear4 Crystal Palace Case, Protection & Car Charging Bundle for Galaxy S20 FE 5G UW",
      pName: "Galaxy S20 FE 5G UW",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "18500001",
      skuId: "4090653",
      parentUrl: "",
      imageUrl: "gear4-crystal-palace-case-protection-car-charging-bundle-gs-20-fe-iset",
      compatiblePhones: ["Galaxy S20 FE 5G UW"],
      discount: "30%",
      items: [
        "Crystal Palace Case for Galaxy S20 FE 5G UW - Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for Galaxy S20 FE 5G UW",
        "Verizon USB-C Car Charger with Fast Charge Technology"
      ]
    },
    {
      id: "18500003",
      productId: "18500003",
      accessoryBundle: true,
      stock: "In-stock",
      name: "ksny Protective Hardshell Case, Protection & Wireless Charging Bundle for Galaxy S20 FE 5G UW",
      pName: "Galaxy S20 FE 5G UW",
      retailPrice: 139.97,
      price: 97.98,
      prodId: "18500003",
      skuId: "4090655",
      parentUrl: "ksny-protective-hardshell-case-protection-and-wireless-charging-bundle-for-samsung-galaxy-s20-fe-5g-uw",
      imageUrl: "ksny-protective-hardshell-case-protection-wireless-charging-bundle-gs-20-fe-iset",
      compatiblePhones: ["Galaxy S20 FE 5G UW"],
      discount: "30%",
      items: [
        "Protective Hardshell Case for Galaxy S20 FE 5G UW - Hollyhock Floral/Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for Galaxy S20 FE 5G UW",
        "Verizon Wireless Charging Pad"
      ]
    },
    {
      id: "18600001",
      productId: "18600001",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Google Case, Protection and Wireless Charging Bundle for Pixel 5",
      pName: "Pixel 5",
      retailPrice: 139.97,
      price: 97.99,
      prodId: "18600001",
      skuId: "4110101",
      parentUrl: "google-case-protection-and-wireless-charging-bundle-for-pixel-5",
      imageUrl: "gear4-crystal-palace-case-protection-car-charging-bundle-redfin-iset",
      compatiblePhones: ["Pixel 5"],
      discount: "30%",
      items: [
        "Pixel 5 Case - Basically Black",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for Pixel 5",
        "Verizon Wireless Charging Pad"
      ]
    },
    {
      id: "18600010",
      productId: "18600010",
      accessoryBundle: true,
      // stock: "Out of stock",
      stock: "In-stock",
      name: "Otterbox Symmetry Case, Protection and Wireless Charging Bundle for Pixel 5",
      pName: "Pixel 5",
      retailPrice: 149.97,
      price: 104.98,
      prodId: "18600010",
      skuId: "",
      parentUrl: "",
      imageUrl: "otterbox-symmetry-case-protection-wireless-charging-bundle-redfin-iset",
      compatiblePhones: ["Pixel 5"],
      discount: "30%",
      items: [
        "Symmetry Series Case for Pixel 5 - Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for Pixel 5",
        "Verizon Wireless Charging Pad"
      ],
      display: false
    },
    {
      id: "18600002",
      productId: "18600002",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Gear4 Crystal Palace Case, Protection and Car Charging Bundle for Pixel 5",
      pName: "Pixel 5",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "18600002",
      skuId: "4110109",
      parentUrl: "gear4-crystal-palace-case-protection-and-car-charging-bundle-for-google-pixel-5",
      imageUrl: "gear4-crystal-palace-case-protection-car-charging-bundle-redfin-iset",
      compatiblePhones: ["Pixel 5"],
      discount: "30%",
      items: [
        "Crystal Palace Case for Pixel 5 - Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for Pixel 5",
        "Verizon USB-C Car Charger with Fast Charge Technology"
      ]
    },
    {
      id: "19200001",
      productId: "19200001",
      accessoryBundle: true,
      stock: "In-stock",
      name: "OtterBox Defender Pro Case, Protection and Wireless Charging Bundle for Galaxy S21 5G",
      pName: "Galaxy S21 5G",
      retailPrice: 149.97,
      price: 104.98,
      prodId: "19200001",
      skuId: "sku4290213",
      parentUrl: "otterbox-defender-pro-case-protection-and-wireless-charging-bundle-for-galaxy-s21-5g",
      imageUrl: "samsung-palette-o1-otterbox-defender-pro-case-protection-wireless-charging-109240-gg-bundle-iset",
      compatiblePhones: ["Galaxy S21 5G"],
      discount: "30%",
      items: [
        "Defender Pro Series For Samsung Palette O1 - Black",
        "InvisibleShield GlassFusion+ for Samsung Palette O1",
        "Wireless Charging Pad with Fast Charge - Black"
      ]
    },
    {
      id: "19200002",
      productId: "19200002",
      accessoryBundle: true,
      stock: "In-stock",
      name: "OtterBox Symmetry Series Case, Protection and Wireless Charging Stand Bundle for Galaxy S21 5G",
      pName: "Galaxy S21 5G",
      retailPrice: 159.97,
      price: 111.98,
      prodId: "19200002",
      skuId: "sku4290222",
      parentUrl: "otterbox-symmetry-series-case-protection-and-wireless-charging-stand-bundle-for-galaxy-s21-5g",
      imageUrl: "samsung-palette-o1-otterbox-symmetry-series-protection-wireless-charging-stand-109240-gg-bundle-iset",
      compatiblePhones: ["Galaxy S21 5G"],
      discount: "30%",
      items: [
        "Symmetry Series For Samsung Palette O1 - Clear",
        "InvisibleShield GlassFusion+ for Samsung Palette O1",
        "Wireless Charging Stand with Fast Charge - Black"
      ]
    },
    {
      id: "19200003",
      productId: "19200003",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Speck Presidio2 GRIP Case, Protection and Charging Bundle for Galaxy S21 5G",
      pName: "Galaxy S21 5G",
      retailPrice: 124.97,
      price: 87.98,
      prodId: "19200003",
      skuId: "sku4290223",
      parentUrl: "speck-presidio2-grip-case-protection-and-charging-bundle-for-galaxy-s21-5g",
      imageUrl: "samsung-palette-o1-speck-presidio2-grip-case-protect-charging-109240-gg-bundle-iset",
      compatiblePhones: ["Galaxy S21 5G"],
      discount: "30%",
      items: [
        "Presidio2 GRIP for Samsung Palette O1 - Coastal Blue",
        "InvisibleShield GlassFusion+ for Samsung Palette O1",
        "Verizon USB-C + USB-A Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "19200004",
      productId: "19200004",
      accessoryBundle: true,
      stock: "In-stock",
      name: "OtterBox Defender Pro Case, Protection and Wireless Charging Stand Bundle for Galaxy S21+ 5G",
      pName: "Galaxy S21 Plus",
      retailPrice: 169.97,
      price: 118.98,
      prodId: "19200004",
      skuId: "sku4290360",
      parentUrl: "otterbox-defender-pro-case-protection-and-wireless-charging-stand-bundle-for-galaxy-s21-plus-5g",
      imageUrl: "otterbox-defender-pro-case-protection-and-wireless-charging-stand-bundle-palette-t2-iset",
      compatiblePhones: ["Galaxy S21 Plus"],
      discount: "30%",
      items: [
        "Defender Pro Series For Samsung Palette T2 - Black",
        "InvisibleShield GlassFusion+ for Samsung Palette T2",
        "Wireless Charging Stand with Fast Charge - Black"
      ]
    },
    {
      id: "19200006",
      productId: "19200006",
      accessoryBundle: true,
      stock: "In-stock",
      name: "GEAR4 Crystal Palace Case, Protection and Wireless Charging Bundle for Galaxy S21+ 5G",
      pName: "Galaxy S21 Plus",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "19200006",
      skuId: "sku4290483",
      parentUrl: "gear4-crystal-palace-case-protection-and-wireless-charging-bundle-for-galaxy-s21-plus-5g",
      imageUrl: "gear4-crystal-palace-case-protection-and-wireless-charging-bundle-palette-t2-iset",
      compatiblePhones: ["Galaxy S21 Plus"],
      discount: "30%",
      items: [
        "Crystal Palace Case for Samsung Palette T2 - Clear ",
        "InvisibleShield GlassFusion+ for Samsung Palette T2",
        "Wireless Charging Pad with Fast Charge - Black"
      ]
    },
    {
      id: "19200007",
      productId: "19200007",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Tech21 Evo Check Case, Protection and Universal Mount Bundle for Galaxy S21+ 5G",
      pName: "Galaxy S21 Plus",
      retailPrice: 109.97,
      price: 76.98,
      prodId: "19200007",
      skuId: "sku4290484",
      parentUrl: "tech21-evo-check-case-protection-and-universal-mount-bundle-for-galaxy-s21-plus-5g",
      imageUrl: "tech21-evo-check-case-protection-and-universal-mount-bundle-palette-t2-iset",
      compatiblePhones: ["Galaxy S21 Plus"],
      discount: "30%",
      items: [
        "Evo Check for Samsung Palette T2 - Smokey / Black",
        "InvisibleShield GlassFusion+ for Samsung Palette T2",
        "All-In-1 (6PC) Universal Mount"
      ]
    },
    {
      id: "19200008",
      productId: "19200008",
      accessoryBundle: true,
      stock: "In-stock",
      name: "OtterBox Symmetry Series Case, Protection and Wireless Charging Bundle for Galaxy S21 Ultra 5G",
      pName: "Galaxy S21 Ultra 5G",
      retailPrice: 139.97,
      price: 97.98,
      prodId: "19200008",
      skuId: "sku4290486",
      parentUrl: "otterbox-symmetry-series-case-protection-and-wireless-charging-bundle-for-galaxy-s21-ultra-5g",
      imageUrl: "otterbox-symmetry-series-case-protection-and-wireless-charging-bundle-palette-p3-iset",
      compatiblePhones: ["Galaxy S21 Ultra 5G"],
      discount: "30%",
      items: [
        "Symmetry Series For Samsung Palette P3 - Black",
        "InvisibleShield GlassFusion+ for Samsung Palette P3",
        "Wireless Charging Pad with Fast Charge - Black"
      ]
    },
    {
      id: "19200009",
      productId: "19200009",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Case-Mate Twinkle Ombre Case, Protection and Wireless Charging Bundle for Galaxy S21 Ultra 5G",
      pName: "Galaxy S21 Ultra 5G",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "19200009",
      skuId: "sku4290487 ",
      parentUrl: "case-mate-twinkle-ombre-case-protection-and-wireless-charging-bundle-for-galaxy-s21-ultra-5g",
      imageUrl: "case-mate-twinkle-ombre-case-protection-and-wireless-charging-bundle-palette-p3-iset",
      compatiblePhones: ["Galaxy S21 Ultra 5G"],
      discount: "30%",
      items: [
        "Twinkle Ombre for Samsung Palette P3 - Stardust",
        "InvisibleShield GlassFusion+ for Samsung Palette P3",
        "Wireless Charging Pad with Fast Charge - Black"
      ]
    },
    {
      id: "19200010",
      productId: "19200010",
      accessoryBundle: true,
      stock: "In-stock",
      name: "OtterBox Symmetry Series Case, Protection and Wireless Charging Stand Bundle for Galaxy S21 Ultra 5G",
      pName: "Galaxy S21 Ultra 5G",
      retailPrice: 159.97,
      price: 111.98,
      prodId: "19200010",
      skuId: "sku4290488",
      parentUrl: "otterbox-symmetry-series-case-protection-and-wireless-charging-stand-bundle-for-galaxy-s21-ultra-5g",
      imageUrl: "otterbox-symmetry-series-case-protection-and-wireless-charging-stand-bundle-palette-p3-iset",
      compatiblePhones: ["Galaxy S21 Ultra 5G"],
      discount: "30%",
      items: [
        "Symmetry Series For Samsung Palette P3 - Black",
        "InvisibleShield GlassFusion+ for Samsung Palette P3",
        "Wireless Charging Stand with Fast Charge - Black"
      ]
    },
    {
      id: "19300001",
      productId: "19300001",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Symmetry Series Case, Protection & Wireless Charging Bundle for Galaxy A42 5G",
      pName: "Galaxy A42 5G",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "19300001",
      skuId: "",
      parentUrl: "",
      imageUrl: "symmetry-series-case-protection-wireless-charging-bundle-for-galaxy-a42-5g-iset",
      compatiblePhones: ["Galaxy A42 5G"],
      discount: "30%",
      items: [
        "Symmetry Series Case for Galaxy A42 5G - Black",
        "InvisibleShield Glass Elite+ for Galaxy A42 5G",
        "Verizon 30W Power Delivery 2.0 Vehicle Charge"
      ]
    },
    {
      id: "19400002",
      productId: "19400002",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Speck Presidio Exotech Case, Protection & Wireless Charging Bundle for Galaxy A42 5G",
      pName: "Galaxy A42 5G",
      retailPrice: 109.97,
      price: 76.98,
      prodId: "19400002",
      skuId: "",
      parentUrl: "",
      imageUrl: "speck-presidio-exotech-case-protection-wireless-charging-bundle-galaxy-a42-5g-iset",
      compatiblePhones: ["Galaxy A42 5G"],
      discount: "30%",
      items: [
        "Presidio Exotech for Galaxy A42 5G - Clear",
        "InvisibleShield Glass Elite+ for Galaxy A42 5G",
        "Verizon USB-C Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "19000006",
      productId: "19000006",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Otterbox Defender Pro Series Case, Protection & Charging Bundle for iPhone 12 mini",
      pName: "iPhone 12 mini",
      retailPrice: 149.97,
      price: 104.98,
      prodId: "19000006",
      skuId: "",
      parentUrl: "",
      imageUrl: "otterbox-defender-pro-series-case-protection-charging-bundle-for-anna-iset",
      compatiblePhones: ["iPhone 12 mini"],
      discount: "30%",
      items: [
        "Defender Pro Series Case for iPhone 12 mini - Black",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12 mini",
        "Lightning Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "19000007",
      productId: "19000007",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Otterbox Symmetry Clear Series Case, Protection & Wireless Charging Bundle for iPhone 12 mini",
      pName: "iPhone 12 mini",
      retailPrice: 149.97,
      price: 90.98,
      prodId: "19000007",
      skuId: "",
      parentUrl: "",
      imageUrl: "otterbox-symmetry-clear-series-case-protection-wireless-charging-bundle-for-anna-iset",
      compatiblePhones: ["iPhone 12 mini"],
      discount: "30%",
      items: [
        "Symmetry Clear Series Case for iPhone 12 mini - Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12 mini",
        "Wireless Charging Pad - Black"
      ]
    },
    {
      id: "19000008",
      productId: "19000008",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Tech21 Evo Check Case, Protection & Charging Bundle for iPhone 12 mini",
      pName: "iPhone 12 mini",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "19000008",
      skuId: "",
      parentUrl: "",
      imageUrl: "tech21-evo-check-case-protection-charging-bundle-for-anna-iset",
      compatiblePhones: ["iPhone 12 mini"],
      discount: "30%",
      items: [
        "Evo Check Case for iPhone 12 mini - Smokey/Black",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12 mini",
        "Lightning Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "19000002",
      productId: "19000002",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Gear4 Crystal Palace Case, Protection & Charging Bundle for iPhone 12 Pro Max",
      pName: "iPhone 12 Pro Max",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "19000002",
      skuId: "",
      parentUrl: "",
      imageUrl: "gear4-crystal-palace-case-protection-and-charging-bundle-for-elsa-iset",
      compatiblePhones: ["iPhone 12 Pro Max"],
      discount: "30%",
      items: [
        "Crystal Palace Case for iPhone 12 Pro Max - Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12 Pro Max",
        "Lightning Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "19000003",
      productId: "19000003",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Otterbox Defender Pro Series Case, Protection & Wireless Charging Bundle for iPhone 12 Pro Max",
      pName: "iPhone 12 Pro Max",
      retailPrice: 159.97,
      price: 111.98,
      prodId: "19000003",
      skuId: "",
      parentUrl: "",
      imageUrl: "otterbox-defender-pro-series-case-protection-and-wireless-charging-bundle-for-elsa-iset",
      compatiblePhones: ["iPhone 12 Pro Max"],
      discount: "30%",
      items: [
        "Defender Pro Series Case for iPhone 12 Pro Max - Varsity Blues",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12 Pro Max",
        "Wireless Charging Pad - Black"
      ]
    },
    {
      id: "19000004",
      productId: "19000004",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Otterbox Symmetry Series Case, Protection & Wireless Charging Bundle for iPhone 12 Pro Max",
      pName: "iPhone 12 Pro Max",
      retailPrice: 149.97,
      price: 104.98,
      prodId: "19000004",
      skuId: "",
      parentUrl: "",
      imageUrl: "otterbox-symmetry-series-case-protection-wireless-charging-bundle-for-elsa-iset",
      compatiblePhones: ["iPhone 12 Pro Max"],
      discount: "30%",
      items: [
        "Symmetry Series Case for iPhone 12 Pro Max - Black",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12 Pro Max",
        "Wireless Charging Pad - Black"
      ]
    },
    {
      id: "18700001",
      productId: "18700001",
      accessoryBundle: true,
      stock: "In-stock",
      name: "ksny Defensive Hardshell Case, Protection & Charging Bundle for iPhone 12/iPhone 12 Pro",
      pName: "iPhone 12/iPhone 12 Pro",
      retailPrice: 139.97,
      price: 97.98,
      prodId: "18700001",
      skuId: "",
      parentUrl: "",
      imageUrl: "apple-o-k-ksny-defensive-hardshell-case-protection-charging-bundle-99268-gg-bundle-iset",
      compatiblePhones: ["iPhone 12", "iPhone 12 Pro"],
      discount: "30%",
      items: [
        "Defensive Hardshell Case for iPhone 12/iPhone 12 Pro - Hollyhock Floral/Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12/iPhone 12 Pro",
        "Lightning Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "18700002",
      productId: "18700002",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Case-Mate Tough Clear Plus Case, Protection & Charging Bundle for iPhone 12/iPhone 12 Pro",
      pName: "iPhone 12/iPhone 12 Pro",
      retailPrice: 129.97,
      price: 90.98,
      prodId: "18700002",
      skuId: "",
      parentUrl: "",
      imageUrl: "case-mate-tough-clear-plus-case-protection-charging-bundle-olaf-kristoff-iset",
      compatiblePhones: ["iPhone 12", "iPhone 12 Pro"],
      discount: "30%",
      items: [
        "Tough Clear Plus Case for iPhone 12/iPhone 12 Pro - Clear",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12/iPhone 12 Pro",
        "Lightning Wall Charger with Fast Charge - 30W"
      ]
    },
    {
      id: "18700003",
      productId: "18700003",
      accessoryBundle: true,
      stock: "In-stock",
      name: "Otterbox Defender Pro Series Case, Protection & Charging Bundle for iPhone 12/iPhone 12 Pro",
      pName: "iPhone 12/iPhone 12 Pro",
      retailPrice: 159.97,
      price: 111.98,
      prodId: "18700003",
      skuId: "",
      parentUrl: "",
      imageUrl: "otterbox-defender-pro-series-case-protection-charging-bundle-olaf-kristoff-iset",
      compatiblePhones: ["iPhone 12", "iPhone 12 Pro"],
      discount: "30%",
      items: [
        "Defender Pro Series Case for iPhone 12/iPhone 12 Pro - Black",
        "InvisibleShield Glass Elite Screen Protector with VisionGuard+ for iPhone 12/iPhone 12 Pro",
        "Wireless Charging Pad - Black"
      ]
    }
  ]
}

var deviceName = window.__evolv_accessory_interstitial.deviceName;
var bundles = window.__evolv_accessory_interstitial.bundles;
var bundleNumber = bundles.filter(function (item) {
      return item.compatiblePhones.includes(deviceName);
    }).length;
// filtering for only add a line or eup flows
if((vzwDL['cp.intendType'] === "AAL" || vzwDL['cp.intendType'] === "EUP") && bundleNumber > 0){
  window.__evolv_accessory_interstitial.startControl();
};
  };

  evolv.javascript.variants["evolv_web_t6gv1xwrj"].timing = "immediate";

  evolv.javascript.variants["evolv_web_fzknfdyqx_jaig8wdnw"] = function (resolve, reject) {
    window.__evolv_accessory_entry_point.updateTreatmentTracking("c");
window.__evolv_accessory_entry_point.createDeviceBox();;
  };

  evolv.javascript.variants["evolv_web_fzknfdyqx_jaig8wdnw"].timing = "immediate";

  evolv.javascript.variants["evolv_web_fzknfdyqx"] = function (resolve, reject) {
    if(typeof window.__evolv_accessory_entry_point === 'undefined' || window.__evolv_accessory_entry_point === null){
  window.__evolv_accessory_entry_point = {
    createDeviceBoxStart: false,
    createDeviceBoxInterval: null,
    createDeviceBoxTries: 0,
    createDeviceBoxMaxTries: 3000,
    trackingCode: "_t_a",
    // createDeviceBoxMaxTries: 10,
    createMainButton: function(){
      trackingCode = window.__evolv_accessory_entry_point.trackingCode;
      var buttonParentTag = $('button').filter(function (i, e) { return $(e).text() === "Add a line" }).parent();


      // <div class="ev-main-button-wrapper ev-desktop">
      //    <button analyticstrack="mvo_shop_accessories_cta" 
      //        data-track="mvo_shop_accessories_cta" 
      //        class="ev-main-button" 
      //        id="ev-main-accessory-button-desktop" 
      //        data-clickstream="Shop accessories">
      //        Shop accessories</button></div>

      // <div class="ev-main-button-wrapper ev-mobile">
      //    <button analyticstrack="mvo_shop_accessories_cta" 
      //      data-track="mvo_shop_accessories_cta" 
      //      class="ev-main-button" 
      //      id="ev-main-accessory-button-mobile"
      //       data-clickstream="Shop accessories">
      //        Get accessories</button></div>
      if(buttonParentTag.length === 1){
        if($('#ev-main-accessory-button-desktop').length === 0){
          var buttonWrapperTag = $("<div>");
          buttonWrapperTag.addClass("ev-main-button-wrapper ev-desktop ev-override-1 ev-override-2 ev-override-3");
          var buttonTag = $("<button>");
          buttonTag.attr("analyticstrack", "mvo_shop_accessories_cta" + trackingCode);
          buttonTag.attr("data-track", "mvo_shop_accessories_cta" + trackingCode);
          buttonTag.attr("id", "ev-main-accessory-button-desktop");
          buttonTag.attr("data-clickstream", "Shop accessories");
          buttonTag.addClass("ev-main-button");
          buttonTag.html("Shop accessories");

          buttonWrapperTag.append(buttonTag);
          buttonParentTag.append(buttonWrapperTag);
          buttonTag.on("click touchend", function(event){
            setTimeout(function(){
              window.location = "https://www.verizon.com/products/";
            }, 50);
          });
        }
        if($('#ev-main-accessory-button-mobile').length === 0){
          var buttonWrapperTag = $("<div>");
          buttonWrapperTag.addClass("ev-main-button-wrapper ev-mobile ev-override-1 ev-override-2 ev-override-3");
          var buttonTag = $("<button>");
          buttonTag.attr("analyticstrack", "mvo_shop_accessories_cta" + trackingCode);
          buttonTag.attr("data-track", "mvo_shop_accessories_cta" + trackingCode);
          buttonTag.attr("id", "ev-main-accessory-button-mobile");
          buttonTag.attr("data-clickstream", "Shop accessories");
          buttonTag.addClass("ev-main-button");
          buttonTag.html("Shop accessories");

          buttonWrapperTag.append(buttonTag);
          buttonParentTag.append(buttonWrapperTag);

          buttonTag.on("click touchend", function(event){
            setTimeout(function(){
              window.location = "https://www.verizon.com/products/";
            }, 50);
          });
        }
      }

    },

    createMainCTALink: function(){
      trackingCode = window.__evolv_accessory_entry_point.trackingCode;
      var elementBeforeTag = $('h2').filter( function(i, e){ return $(e).text() === "My devices" } ).parent().parent();

      if(elementBeforeTag.length > 0){
        if($('#ev-main-accessory-a').length === 0){
          var aWrapperTag = $("<div>");
          aWrapperTag.addClass("ev-main-a-wrapper ev-override-1 ev-override-2 ev-override-3");
          var aTag = $("<a>");
          aTag.attr("analyticstrack", "mvo_shop_accessories_carot_cta" + trackingCode);
          aTag.attr("data-track", "mvo_shop_accessories_carot_cta" + trackingCode);
          aTag.attr("id", "ev-main-accessory-a");
          aTag.attr("data-clickstream", "Shop accessories");
          aTag.attr("href", "https://www.verizon.com/products/");
          aTag.addClass("ev-main-a");
          aTag.html("<span>Shop accessories</span>");

          aWrapperTag.append(aTag);
          elementBeforeTag.before(aWrapperTag);
        }
      }
      // <div class="ev-main-a-wrapper">
      //    <a analyticstrack="mvo_shop_accessories_cta" 
      //      data-track="mvo_shop_accessories_cta" 
      //      class="ev-main-a" 
      //      id="ev-main-accessory-a"
      //       data-clickstream="Shop accessories"
      //      href="https://www.verizon.com/products/">
      //        Shop accessories</a></div>
    },

    createDeviceBox: function(){
      // will trigger device box helper for 10 seconds or until the box is created
      this.createDeviceBoxIntervalFunc();
      
      if(!this.createDeviceBoxStart){
        this.createDeviceBoxStart = true;
        $(document).on("click touchend", this.createDeviceBoxIntervalFunc.bind(this));

        $(window).on("resize", this.updateDeviceBox.bind(this));
      }

    },
    createDeviceBoxIntervalFunc: function(){
      if(this.createDeviceBoxInterval === null){
        this.createDeviceBoxInterval = setInterval(function(createDeviceBoxHelper, acep){
          createDeviceBoxHelper();
          acep.createDeviceBoxTries++;
          if($("#ev-device-box").length > 0){
            // device box created
            clearInterval(acep.createDeviceBoxInterval);
            acep.createDeviceBoxInterval = null;
            acep.createDeviceBoxTries = 0;
            acep.updateDeviceBox();
            var updateDeviceBoxTimedEvent = function(acep){
                acep.updateDeviceBox();
              }
            // console.log(acep)
            for(var i = 1; i < 20; i++){
              setTimeout(updateDeviceBoxTimedEvent, 100 * i, acep);
            }
            for(var i = 1; i < 30; i++){
              setTimeout(updateDeviceBoxTimedEvent, 1000 * i, acep);
            }
          }
          else if(acep.createDeviceBoxTries >= acep.createDeviceBoxMaxTries){

            clearInterval(acep.createDeviceBoxInterval);
            acep.createDeviceBoxInterval = null;
            acep.createDeviceBoxTries = 0;
          }
        }, 100, this.createDeviceBoxHelper.bind(this), window.__evolv_accessory_entry_point);
      }
      else{
        // reset tries
        acep.createDeviceBoxTries = 0;
      }
    },
    createDeviceBoxHelper: function(){
      trackingCode = window.__evolv_accessory_entry_point.trackingCode;
      var deviceSectionTag = $("#devicesSection");
      
      if(deviceSectionTag.length > 0){
        // console.log("trying");
        if($("#ev-device-box").length === 0){
          var outerTag = $("<div>");
          outerTag.addClass("ev-device-box-outer-container ev-override-1 ev-override-2 ev-override-3");
          var deviceBoxTag = $("<div>");
          deviceBoxTag.attr("id", "ev-device-box");
          var deviceBoxInnerTag = $("<div>");
          deviceBoxInnerTag.addClass("ev-device-box-inner-container");

          var aWrapperTag = $("<div>");
          aWrapperTag.addClass("ev-box-a-wrapper");
          var aTag = $("<a>");
          aTag.attr("analyticstrack", "mvo_shop_accessories_box_cta" + trackingCode);
          aTag.attr("data-track", "mvo_shop_accessories_box_cta" + trackingCode);
          aTag.attr("id", "ev-box-accessory-a");
          aTag.attr("data-clickstream", "Shop accessories");
          aTag.attr("href", "https://www.verizon.com/products/");
          aTag.addClass("ev-box-a");
          aTag.html("<span>Check out the best deals for your devices.</span>");

          aWrapperTag.append(aTag);
          deviceBoxInnerTag.append(aWrapperTag);
          deviceBoxTag.append(deviceBoxInnerTag);
          outerTag.append(deviceBoxTag);
          deviceSectionTag.append(outerTag);
        }
      }
    },
    updateDeviceBox: function(){
      console.log("Running updates");
      // will do something soon to resize the box as necessary and reposition as necessary
      if($('#ev-device-box').length  > 0){
        if($('#devicesSection > div > div > [id*=mvo_ovr_devices]').length > 0){
          var podParentTag = $($('#devicesSection > div > div > [id*=mvo_ovr_devices]').get(0)).parent();

          var lastPodNumber = podParentTag.children().length - 1;
          // remove later - for debugging only
          // lastPodNumber = 2;
          var lastPod = $(podParentTag.children().get(lastPodNumber));

          var width = lastPod.width();
          var height = lastPod.height();

          window.__lastPodDebug = lastPod;

          var deviceBoxTag = $('#ev-device-box');
          deviceBoxTag.css({
            width: width + "px", height: height + "px"
          })
          // console.log({ width: lastPod.width(), height: lastPod.height()});

          if(lastPodNumber > 4 || lastPodNumber === 2){
            // set new row class if last pod is 3rd or 6th
            deviceBoxTag.addClass("ev-device-box-new-row");
            deviceBoxTag.parent().addClass("ev-device-box-container-new-row");
            deviceBoxTag.css({position: "static", top: "auto", left: "auto"});
          }
          else{
            deviceBoxTag.removeClass("ev-device-box-new-row");
            // position according to boxes
            var top = 0;
            var left = 0;
            if(lastPodNumber === 0 || lastPodNumber === 3){
              top = 0 - height;
              left = width;
            }
            if(lastPodNumber === 1 || lastPodNumber === 4){
              top = 0 - height;
              left = (width * 2);
            }
            deviceBoxTag.css({position: "relative", top: top + "px", left: left + "px"});

          }
        }
      }

    },
    updateTreatmentTracking: function(trackingLetter){
      // window.__evolv_accessory_entry_point.trackingCode = "_t_a";
      if(typeof trackingLetter !== "undefined" && trackingLetter.length > 0){
        window.__evolv_accessory_entry_point.trackingCode = "_t_" + trackingLetter;
      }
    }
  }
}



// window.__evolv_accessory_entry_point.updateTreatmentTracking("x");
// window.__evolv_accessory_entry_point.createMainButton();
// window.__evolv_accessory_entry_point.createMainCTALink();
// window.__evolv_accessory_entry_point.createDeviceBox();

/*** tracking script ***/

function evTrackConversion(){
  try {
    window.evolv.client.emit("mydevicesaccessoryentrypoint1.engagement");
  } catch (e) {
    console.log(e);
  }
  console.log("evolv conversion for mydevicesaccessoryentrypoint1.engagement triggered");
}
$(document).on("click touchend",
"#app button", evTrackConversion);
$(document).on("click touchend",
"#app a", evTrackConversion);
$(document).on("click touchend", "[analyticstrack^=mvo_shop_accessories_cta_t_]", evTrackConversion);
$(document).on("click touchend", "[analyticstrack^=mvo_shop_accessories_carot_cta_t_]", evTrackConversion);
$(document).on("click touchend", "[analyticstrack^=mvo_shop_accessories_box_cta_t_]", evTrackConversion);
  };

  evolv.javascript.variants["evolv_web_fzknfdyqx"].timing = "immediate";

  evolv.javascript.variants["evolv_web_a4sk0gzvb_18thbdpmu"] = function (resolve, reject) {
    
window.__evolv_pdp_content_gallery.initImageLists();
window.__evolv_pdp_content_gallery.pushNewImages();
window.__evolv_pdp_content_gallery.startGallery();
;
  };


  evolv.javascript.variants["evolv_web_a4sk0gzvb_ckqy15okw"] = function (resolve, reject) {
    setTimeout(function(){
  window.__evolv_pdp_content_gallery.addVideoBox();
}, 100);
setTimeout(function(){
  window.__evolv_pdp_content_gallery.addVideoBox();
}, 500);
setTimeout(function(){
  window.__evolv_pdp_content_gallery.addVideoBox();
}, 1000);
setTimeout(function(){
  window.__evolv_pdp_content_gallery.addVideoBox();
}, 1500);;
  };


  evolv.javascript.variants["evolv_web_a4sk0gzvb"] = function (resolve, reject) {
    // console.log("test");
if (!window.hasOwnProperty("__evolv_pdp_content_gallery")) {
  window.__evolv_pdp_content_gallery = {
    listOfGalleries: {},
    imageLists: {},
    videoLinks: {
      "XBOOM Go Speaker": "https://ss7.vzw.com/is/content/VerizonWireless/Catalog%20Assets/Accessories/LG/lg-xboom-go-speaker.mp4",
      "Quantum 400 Wired Over-Ear Gaming Headset": "https://ss7.vzw.com/is/content/VerizonWireless/Catalog%20Assets/Accessories/JBL/jbl-quantum-400-jblquantum400blkam.mp4",
      "Pro Signature Wireless Earbuds": "https://ss7.vzw.com/is/content/VerizonWireless/Catalog%20Assets/Accessories/JLAB/jlab-pro-signature-wireless-earbuds.mp4",
      "Charge 4": "https://ss7.vzw.com/is/content/VerizonWireless/Catalog%20Assets/Accessories/Fitbit/fitbit-charge-4-fb417byby.mp4",
      "LIVE 650BTNC Wireless Over-Ear Headphones": "https://ss7.vzw.com/is/content/VerizonWireless/Catalog%20Assets/Accessories/JBL/jbl-live-650btnc-wireless-over-ear-headphones.mp4"
    },
    // no object information should be modified in this way unless the information is on a global variable
    waitUntilReady: function (time, conditionCb, cb) {
      this.waitUntilReadyHelper(time, conditionCb, cb, this.waitUntilReadyHelper);
    },
    // should only use the waitUntilReady function
    // this is only to supplement the recursive functionality
    // no object information should be modified unless the callbacks uses a global variable
    waitUntilReadyHelper: function (time, conditionCb, cb, waitFunc) {
      var us = time;

      if (typeof time === "object") {
        if (time.hasOwnProperty("us")) {
          us = time.us;
        } else {
          us = 50;
          time.us = 50;
        }
      }

      setTimeout(function (time, conditionCb, cb, waitFunc) {
        // us is micro seconds
        var us = time;
        var increment = 1.5;

        if (typeof time === "object") {
          us = time.hasOwnProperty("us") ? time.us : 50000; // 50000 do not want to run for awhile, may be an error

          increment = time.hasOwnProperty("increment") ? time.increment : increment;
        }

        if (conditionCb()) {
          cb();
        } else {
          if (typeof time === "object") {
            time.us = us * increment;
          } else {
            time = us * increment;
          }

          waitFunc(time, conditionCb, cb, waitFunc);
        }
      }, Math.floor(us), time, conditionCb, cb, waitFunc);
    },
    createGalleryObj: function (galleryIdSelector, parent, imageList, options) {
      if($("#" + galleryIdSelector).length == 0){
        var imageClickFunc = null;
        if (typeof options !== "undefined" && options.hasOwnProperty("imageClickFunc")) {
          imageClickFunc = options.imageClickFunc;
        }
        var galleryObj = {
          id: galleryIdSelector,
          maxSlides: 0,
          currentSlide: -1,
          imageClickFunc: imageClickFunc,
          setSlide: function (slideNumber) {
            var gallery = this.getGalleryTag();
            this.updateMaxSlides();
            this.updateCurrentSlide();
            // .ev-slide-visible
            // data-ev-slide="1"
            // console.log(this);
            if (this.currentSlide === slideNumber) {
              // do nothing slide is already correctly selected.
            }
            else {
              gallery.addClass("ev-gallery-transitioning");
              // unset other slide
              // ev__fadeOutLeft
              // ev__fadeOutRight
              var prevSlide = gallery.find("[data-ev-slide=" + this.currentSlide + "]");
              if (slideNumber > this.currentSlide) {
                prevSlide.addClass("ev__fadeOutLeft");
              }
              else {
                prevSlide.addClass("ev__fadeOutRight");
              }
              setTimeout(function (gallery, currentSlide) {
                var prevSlide = gallery.find("[data-ev-slide=" + currentSlide + "]");
                prevSlide.removeClass("ev-slide-visible");
                prevSlide.removeClass("ev__fadeOutLeft");
                prevSlide.removeClass("ev__fadeOutRight");
              }, 500, gallery, this.currentSlide);
              gallery.find(".ev-slider-control-bottom [aria-pressed=true]").attr("aria-pressed", "false");

              gallery.find("[data-ev-slide=" + this.currentSlide + "] > div[aria-hidden]").attr("aria-hidden", "true");
              gallery.find("[data-ev-slide=" + this.currentSlide + "] > div[aria-live]").attr("aria-hidden", "off");

              // set new slide
              var newSlide = gallery.find("[data-ev-slide=" + slideNumber + "]");
              newSlide.addClass("ev-slide-visible");
              if (slideNumber > this.currentSlide) {
                newSlide.addClass("ev__fadeInRight");
              }
              else {
                newSlide.addClass("ev__fadeInLeft");
              }
              setTimeout(function (gallery, slideNumber) {
                var newSlide = gallery.find("[data-ev-slide=" + slideNumber + "]");
                newSlide.removeClass("ev__fadeInLeft");
                newSlide.removeClass("ev__fadeInRight");
              }, 250, gallery, slideNumber);

              gallery.find("[data-ev-slide=" + slideNumber + "] > div[aria-hidden]").attr("aria-hidden", "false");
              gallery.find("[data-ev-slide=" + slideNumber + "] > div[aria-live]").attr("aria-hidden", "polite");

              gallery.find(".ev-slider-control-bottom [data-ev-control-slide=" + slideNumber + "]").attr("aria-pressed", "true");
              gallery.attr("data-ev-selected-slide", slideNumber);
              gallery.find(".ev-slide-number-indicator").text(slideNumber);
              gallery.find("[data-ev-indicator]").attr("data-ev-indicator", slideNumber);
              this.currentSlide = slideNumber;

              setTimeout(function (gallery) {
                gallery.removeClass("ev-gallery-transitioning");
              }, 500, gallery);
            }
          },
          setToControlSlide: function (elem) {
            var gallery = this.getGalleryTag();
            if (!gallery.hasClass("ev-gallery-transitioning")) {
              var controlTag = $(elem);
              var slideNumber = parseInt(controlTag.attr("data-ev-control-slide"));
              if (!isNaN(slideNumber)) {
                this.setSlide(slideNumber);
              }
            }
          },
          setNextSlide: function () {
            var gallery = this.getGalleryTag();
            if (!gallery.hasClass("ev-gallery-transitioning")) {
              this.updateMaxSlides();
              this.updateCurrentSlide();

              var newSlideNumber = this.currentSlide;
              newSlideNumber++;
              if (newSlideNumber > this.maxSlides) {
                newSlideNumber = 1;
              }
              else if (newSlideNumber < 1) {
                newSlideNumber = this.maxSlides;
              }

              this.setSlide(newSlideNumber);
            }
          },

          setPreviousSlide: function () {
            var gallery = this.getGalleryTag();
            if (!gallery.hasClass("ev-gallery-transitioning")) {
              this.updateMaxSlides();
              this.updateCurrentSlide();

              var newSlideNumber = this.currentSlide;
              newSlideNumber--;
              if (newSlideNumber > this.maxSlides) {
                newSlideNumber = 1;
              }
              else if (newSlideNumber < 1) {
                newSlideNumber = this.maxSlides;
              }
              // console.log({currentSlide: this.currentSlide, newSlideNumber })

              this.setSlide(newSlideNumber);
            }
          },
          updateCurrentSlide: function () {
            var gallery = this.getGalleryTag();
            var currentSlide = gallery.attr("data-ev-selected-slide");
            currentSlide = parseInt(currentSlide);
            var foundSlideTag = gallery.find(".ev-slider-list .ev-slide-visible");

            if (foundSlideTag.length > 0) {
              var foundSlide = parseInt($($(foundSlideTag).get(0)).attr("data-ev-slide"));
              if (isNaN(foundSlide)) {
                foundSlide = 1;
              }

              if (foundSlide !== currentSlide) {
                currentSlide = foundSlide;
                gallery.attr("data-ev-selected-slide", foundSlide);
              }

              // gallery.attr("data-ev-max-slides", childCount);
              // maxSlides = childCount;
            }
            this.currentSlide = currentSlide;
          },
          updateMaxSlides: function () {
            var gallery = this.getGalleryTag();
            var maxSlides = gallery.attr("data-ev-max-slides");
            maxSlides = parseInt(maxSlides);
            var childCount = gallery.find(".ev-slider-list").children().length;

            if (maxSlides !== childCount) {
              gallery.attr("data-ev-max-slides", childCount);
              gallery.find(".ev-slide-number-max").text(childCount);
              maxSlides = childCount;
            }
            this.maxSlides = maxSlides;
            // console.log(this);
            // console.log(gallery);
            // console.log(gallery.get(0));
          },
          getGalleryTag: function () {
            return $("#" + this.id);
          },
          changeHeightParameter: function (str, height) {
            var strOut = str;
            if (strOut.indexOf("?") > 0) {
              var splitStr = strOut.split("?");
              var paramSplit = splitStr[1].split("&");

              splitOut = splitStr[0];
              var found = false;
              for (var i = 0; i < paramSplit.length; i++) {

                splitOut += i === 0 ? "?" : "&";
                if (paramSplit[i].indexOf("hei=") === 0) {
                  splitOut += "hei=" + height;
                  found = true;
                }
                else{
                  splitOut += paramSplit[i];
                }
              }
              if(!found){
                splitOut += "&hei=" + height;
              }
              return splitOut;
            }
            return strOut;
          },
          changeWidthParameter: function (str, width) {
            var strOut = str;
            if (strOut.indexOf("?") > 0) {
              var splitStr = strOut.split("?");
              var paramSplit = splitStr[1].split("&");

              splitOut = splitStr[0];
              var found = false;
              for (var i = 0; i < paramSplit.length; i++) {

                splitOut += i === 0 ? "?" : "&";
                if (paramSplit[i].indexOf("wid=") === 0) {
                  splitOut += "wid=" + width;
                  found = true;
                } 
                else{
                  splitOut += paramSplit[i];
                }
              }
              if(!found){
                splitOut += "&wid=" + width;
              }
              return splitOut;
            }
            return strOut;
          },
          createGallery: function (parent, imageList, options) {
            this.imageList = imageList;
            maxSlides = imageList.list.length;
            var sliderNumber = 1;
            if (typeof options !== 'undefined' && options !== null) {
              if (options.hasOwnProperty('sliderNumber')) {
                sliderNumber = options.slideNumber;
              }
            }

            var outerGalleryContainer = $("<div>").addClass("ev-outer-gallery-container ev-override-1 ev-override-2");
            var galleryWrapper = $("<div>").addClass("ev-gallery");
            var galleryWrapper2 = $("<div>");
            var gallery = $("<div>").attr("id", this.id);
            gallery.attr("role", "listbox");
            gallery.attr("data-ev-selected-slide", sliderNumber);
            gallery.attr("data-ev-max-slides", maxSlides);
            var galleryInnerTag = $("<div>").addClass("ev-gallery-inner");

            var slideIndicatorTag = $("<div>").addClass("ev-slide-indicator");
            slideIndicatorTag.attr("aria-live", "polite");
            slideIndicatorTag.attr("aria-atomic", "true");
            slideIndicatorTag.attr("tabindex", -1);
            slideIndicatorTag.append('<span data-ev-indicator="' + sliderNumber + '">Slide <span class="ev-slide-number-indicator">' + sliderNumber + '</span> of <span class="ev-slide-number-max">' + maxSlides + '</span></span>');

            var sliderFrameTag = $("<div>").addClass("ev-slider-frame");
            var sliderListTag = $("<ul>").addClass("ev-slider-list");

            var cH = this.changeHeightParameter;
            var cW = this.changeWidthParameter;

            var imageClickFunc = this.imageClickFunc;
            var imageClickHandler = function () { };
            if (imageClickFunc !== null) {
              // will allow us to use parent of gallery
              imageClickHandler = function (event) {
                imageClickFunc(event, parent);
              }
            }
            imageList.list.forEach(function (imageSrc, i) {
              var currSlide = i + 1;
              var ariaHidden = "true";
              var ariaLive = "off";
              var visibleClass = "";
              var hei = 520;
              var wid = 400;
              var src = cW(cH(imageSrc, hei), wid);
              if (currSlide === sliderNumber) {
                ariaHidden = "false";
                ariaLive = "polite";
                visibleClass = " ev-slide-visible";
              }
              var liTag = $("<li>").addClass("ev-slider-slide" + visibleClass);
              liTag.attr("data-ev-slide", currSlide);
              var optionTag = $("<div>").attr("role", "option");
              optionTag.attr("aria-hidden", ariaHidden);
              optionTag.attr("aria-live", ariaLive);
              var presentationTag = $("<div>").attr("role", "presentation");
              presentationTag.addClass("ev-image-wrapper");

              var imageTag = $("<img>").addClass("ev-image");
              imageTag.attr("src", src);
              imageTag.attr("alt", "phone image");

              presentationTag.append(imageTag);
              optionTag.append(presentationTag);
              if (imageClickFunc !== null) {
                optionTag.on("click", imageClickHandler);
              }
              liTag.append(optionTag);
              sliderListTag.append(liTag);
            });

            var leftAndRightControlTags = '<div class="ev-slider-control-left-wrapper"> <button class="ev-slider-control-left" aria-label="carousel previous" aria-controls="ev-pdp-img-gallery"> <span>Previous Slide</span> </button> </div><div class="ev-slider-control-right-wrapper"> <button class="ev-slider-control-right" aria-label="carousel next" aria-controls="ev-pdp-img-gallery"><span>Next Slide</span> </button> </div>';

            var controlBottomTag = $("<div>").addClass("ev-slider-control-bottom");
            var controlBottomInnerContainerTag = $("<ul>").addClass("ev-bottom-control-container");
            controlBottomInnerContainerTag.attr("aria-controls", this.id);

            var setToControlSlide = this.setToControlSlide.bind(this);
            imageList.list.forEach(function (imageSrc, i) {
              var ariaPressed = "false";
              var currSlide = i + 1;
              var name = imageList.name;
              var ariaLabel = name + " Go to slide " + currSlide;
              if (currSlide === sliderNumber) {
                ariaPressed = "true";
              }

              var controlTag = $("<li>").addClass("ev-bottom-control");
              controlTag.attr("tabindex", 0);
              controlTag.attr("role", "button");
              controlTag.attr("aria-pressed", ariaPressed);
              controlTag.attr("data-ev-control-slide", currSlide);
              controlTag.attr("aria-label", ariaLabel);

              controlBottomInnerContainerTag.append(controlTag);

              controlTag.on("click touchend", function () {
                setToControlSlide(this);
              });
            });

            var setNextSlide = this.setNextSlide.bind(this);
            var setPreviousSlide = this.setPreviousSlide.bind(this);
            gallery.on("click touchend", ".ev-slider-control-left", function () {
              setPreviousSlide();
            });
            gallery.on("click touchend", ".ev-slider-control-right", function () {
              setNextSlide();
            });
            controlBottomTag.append(controlBottomInnerContainerTag);
            sliderFrameTag.append(sliderListTag);
            galleryInnerTag.append(slideIndicatorTag, sliderFrameTag, leftAndRightControlTags, controlBottomTag);
            gallery.append(galleryInnerTag);
            galleryWrapper2.append(gallery);
            galleryWrapper.append(galleryWrapper2);
            outerGalleryContainer.append(galleryWrapper);
            if (typeof options !== "undefined" && options.hasOwnProperty("beforeAppend")) {
              options.beforeAppend(parent, gallery);
            }
            parent.append(outerGalleryContainer);
            // console.log(imageList);

          }
        };
        galleryObj.createGallery(parent, imageList, options);
        this.listOfGalleries[galleryIdSelector] = galleryObj;
        return galleryObj;
    }
    },
    initImageLists: function () {
      // product sku from vzdl.txn.product.current[0].sku
      // product name from vzdl.txn.product.current[0].name
      /*
console.log(vzdl.txn.product.current[0].sku)
console.log(vzdl.txn.product.current[0].name)
var arr = []
$("[id^=image-]").each((i, e) => arr.push($(e).attr("src")));
console.log(JSON.stringify(arr))
*/
      // window.__evolv_pdp_content_gallery.imageLists = {
      this.imageLists = {
        "sku3860176": {
          name: "XBOOM Go Speaker",
          list: [
            "https://ss71.vzw.com/is/image/VerizonWireless/xboom-go-speaker-lbtpl5-allk-a?fmt=pjpg&hei=520&wid=350",
            "https://ss71.vzw.com/is/image/VerizonWireless/xboom-go-speaker-lbtpl5-allk-b?fmt=pjpg&hei=520&wid=350",
            "https://ss73.vzw.com/is/image/VerizonWireless/xboom-go-speaker-lbtpl5-allk-c?fmt=pjpg&hei=520&wid=350",
            "https://ss7.vzw.com/is/image/VerizonWireless/xboom-go-speaker-lbtpl5-allk-d?fmt=pjpg&hei=520&wid=350",
            "https://ss7.vzw.com/is/image/VerizonWireless/xboom-go-speaker-lbtpl5-allk-e?fmt=pjpg&hei=520&wid=350"
          ]
        },
        "sku3880091": {
          name: "Quantum 400 Wired Over-Ear Gaming Headset",
          list: [
            "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-gaming-headset-jblquantum400blkam-a?fmt=pjpg&hei=520&wid=350",
            "https://ss72.vzw.com/is/image/VerizonWireless/jbl-quantum-400-gaming-headset-jblquantum400blkam-b?fmt=pjpg&hei=520&wid=350",
            "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-gaming-headset-jblquantum400blkam-c?fmt=pjpg&hei=520&wid=350",
            "https://ss71.vzw.com/is/image/VerizonWireless/jbl-quantum-400-gaming-headset-jblquantum400blkam-d?fmt=pjpg&hei=520&wid=350",
            "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-gaming-headset-jblquantum400blkam-e?fmt=pjpg&hei=520&wid=350"
          ]
        },
        "sku3570350": {
          name: "LIVE 650BTNC Wireless Over-Ear Headphones",
          list: [
            "https://ss71.vzw.com/is/image/VerizonWireless/jbl-live-650-2019-jbllive650btncbam-a?fmt=pjpg&hei=520&wid=350",
            "https://ss71.vzw.com/is/image/VerizonWireless/jbl-live-650-2019-jbllive650btncbam-b?fmt=pjpg&hei=520&wid=350",
            "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650-2019-jbllive650btncbam-c?fmt=pjpg&hei=520&wid=350",
            "https://ss72.vzw.com/is/image/VerizonWireless/jbl-live-650-2019-jbllive650btncbam-d?fmt=pjpg&hei=520&wid=350"
          ]
        }
      };
    },
    unshiftNewImages: function () {
      // prepend
      // window.__evolv_pdp_content_gallery.imageLists["sku3860176"].list.unshift(
      this.imageLists["sku3860176"].list.unshift(
        "https://ss7.vzw.com/is/image/VerizonWireless/lg-xboom-go-speaker-newpl5-c?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/lg-xboom-go-speaker-newpl5-d?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/lg-xboom-go-speaker-newpl5-e?fmt=pjpg&hei=520"
      );

      this.imageLists["sku3880091"].list.unshift(
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-jblquantum400blkam-e?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-jblquantum400blkam-g?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-jblquantum400blkam-h?fmt=pjpg&hei=520"
      );

      this.imageLists["sku3570350"].list.unshift(
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650btnc-wireless-over-ear-headphones-jbllive650btncbam-f?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650btnc-wireless-over-ear-headphones-jbllive650btncbam-g?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650btnc-wireless-over-ear-headphones-jbllive650btncbam-c?fmt=pjpg&hei=520"
      );

      // end preprend
    },
    pushNewImages: function () {
      // push
      // window.__evolv_pdp_content_gallery.imageLists["sku3860176"].list.unshift(
      this.imageLists["sku3860176"].list.push(
        "https://ss7.vzw.com/is/image/VerizonWireless/lg-xboom-go-speaker-newpl5-c?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/lg-xboom-go-speaker-newpl5-d?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/lg-xboom-go-speaker-newpl5-e?fmt=pjpg&hei=520"
      );

      this.imageLists["sku3880091"].list.push(
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-jblquantum400blkam-f?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-jblquantum400blkam-g?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-quantum-400-jblquantum400blkam-h?fmt=pjpg&hei=520"
      );

      this.imageLists["sku3570350"].list.push(
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650btnc-wireless-over-ear-headphones-jbllive650btncbam-f?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650btnc-wireless-over-ear-headphones-jbllive650btncbam-g?fmt=pjpg&hei=520",
        "https://ss7.vzw.com/is/image/VerizonWireless/jbl-live-650btnc-wireless-over-ear-headphones-jbllive650btncbam-c?fmt=pjpg&hei=520"
      );

      // end push
    },
    startGallery: function () {
      window.__evolv_pdp_content_gallery.waitUntilReady(10, function () { return $(".slider-list li img").length > 0 },
        function () {
          if (
            // window.vzdl.txn.product.current[0].sku
            typeof (window.vzdl) !== "undefined" &&
            window.vzdl.hasOwnProperty("txn") &&
            window.vzdl.txn.hasOwnProperty("product") &&
            window.vzdl.txn.product.hasOwnProperty("current") &&
            window.vzdl.txn.product.current.length > 0 &&
            window.vzdl.txn.product.current[0].hasOwnProperty("sku") &&
            window.vzdl.txn.product.current[0].sku !== null) {
            var sku = window.vzdl.txn.product.current[0].sku;
            if (window.__evolv_pdp_content_gallery.imageLists.hasOwnProperty(sku)) {
              // get the image list based on page sku
              var imageList = window.__evolv_pdp_content_gallery.imageLists[sku];

              window.__evolv_pdp_content_gallery.createGalleryObj(
                "ev-pdp-img-gallery", 
                $(".ImageGallery").parent().parent(),
                imageList,
                {
                  imageClickFunc: function (event, parent) {
                    
                    $(parent.children()[0]).removeClass("ev-hidden");
                    $($(".slider-list li img").get(0)).trigger("click");
                    // removes ev-hidden from parent
                    // console.log("parent")
                    // parent.removeClass("ev-hidden");
                  },
                  beforeAppend: function (parentOfGallery, gallery) {
                    if (parentOfGallery.children().length > 0) {
                      $(parentOfGallery.children()[0]).addClass("ev-hidden");
                      $(parentOfGallery.children()[0]).find("[role=listbox]").addClass("ev-hidden");
                    }
                    $(document).on("click touchend", "[data-testid=modal-close-button]", function () {
                      $(parentOfGallery.children()[0]).addClass("ev-hidden");
                    });
                  }

                });
            }
          }


        });


      // window.__evolv_pdp_content_gallery.createGalleryObj("ev-pdp-img-gallery");
      // window.__evolv_pdp_content_gallery.listOfGalleries["ev-pdp-img-gallery"].setSlide(2);

    },
    addVideoBox: function(){
      var link = null;
      var name = null;
      if (
        // window.vzdl.txn.product.current[0].sku
        typeof (window.vzdl) !== "undefined" &&
        window.vzdl.hasOwnProperty("txn") &&
        window.vzdl.txn.hasOwnProperty("product") &&
        window.vzdl.txn.product.hasOwnProperty("current") &&
        window.vzdl.txn.product.current.length > 0 &&
        window.vzdl.txn.product.current[0].hasOwnProperty("name") &&
        window.vzdl.txn.product.current[0].name !== null) {
        name = window.vzdl.txn.product.current[0].name;
        if(this.videoLinks.hasOwnProperty(name)){
          link = this.videoLinks[name];
        }
      }
      if(typeof link !== "undefined" && link !== null){
        var parent = $("[role=listbox]").parent();
        var outerVideoContainerTag = $("<div>").addClass("ev-outer-video-container");
        var videoWrapperTag = $("<a>").addClass("ev-video-wrapper");
        videoWrapperTag.attr("href", link)
        videoWrapperTag.attr("target", "_blank");
        var imageTag = '<img src="https://scache-ws.vzw.com/e/ssr-digital/static/js/../images/14036113ecd2b85960cedd36bb8488dc.svg" alt="videoicon" class="MediaGallery__VideoIcon-sc-1sn3mcg-7 hXBIdH">';
        var watchTag = '<span class="ev-watch-video-text">Watch videos</span>'
        videoWrapperTag.append(imageTag, watchTag);
        outerVideoContainerTag.append(videoWrapperTag);
        // if(parent.find("ev-watch-video-text").length === 0){
        //   parent.append(outerVideoContainerTag);
        // }
        var greatGrandParent = parent.parent().parent();
        greatGrandParent.addClass("ev-video-great-grandparent ev-override-1 ev-override-2 ev-override-3");
        parent.each(function(i, e){
          if($(e).find(".ev-watch-video-text").length === 0){
            $(e).append(outerVideoContainerTag.clone(true));
          }
        });
      }
    }
  };
}

/* <img src="https://scache-ws.vzw.com/e/ssr-digital/static/js/../images/14036113ecd2b85960cedd36bb8488dc.svg" alt="videoicon" class="MediaGallery__VideoIcon-sc-1sn3mcg-7 hXBIdH"> */

// window.__evolv_pdp_content_gallery.initImageLists();
// window.__evolv_pdp_content_gallery.unshiftNewImages();
// window.__evolv_pdp_content_gallery.startGallery();
// window.__evolv_pdp_content_gallery.addVideoBox();


var __evolv_pdp_accessory_test_conversion = function () {
  try {
    window.evolv.client.emit('pdpacccontent.engagement');
  } catch (e) {
    console.log(e);
  }
  console.log("evolv pdpacccontent.engagement triggered");
};
$('[analyticstrack=Add-to-cart-Btn-PDP]').on('click', __evolv_pdp_accessory_test_conversion);
$('.checkOutBtn').on('click', __evolv_pdp_accessory_test_conversion);
$(document).on("click touchend", "[data-analyticstrack=pdp-addToCart-cta]", __evolv_pdp_accessory_test_conversion);
$(document).on("click touchend", "[data-analyticstrack=pdp-checkout-cta]", __evolv_pdp_accessory_test_conversion);
;
  };


  evolv.javascript.variants["evolv_web_ubg2wnao8_wp9czfk5p"] = function (resolve, reject) {
  };

  evolv.javascript.variants["evolv_web_ubg2wnao8_wp9czfk5p"].timing = "immediate";

  evolv.javascript.variants["evolv_web_ubg2wnao8_rotzx2tg0"] = function (resolve, reject) {
    window._evolvExperimentTrigger.execute("c2v2");;
  };

  evolv.javascript.variants["evolv_web_ubg2wnao8_rotzx2tg0"].timing = "wait-for-elements";
  evolv.javascript.variants["evolv_web_ubg2wnao8_rotzx2tg0"].timingSelectors = ["#nextStepSection > div:nth-child(2)"];

  evolv.javascript.variants["evolv_web_ubg2wnao8"] = function (resolve, reject) {
    window.evolvStore = {
    idempotentLabel: "cart-next-steps",
    get expressCheckout() {
        return document.querySelector('.expressCheckout');
    },
    get checkout() {
        return document.querySelector('.mainContent.checkout');
    },
    get devicesSection() {
        return document.querySelector('#devicesSection');
    },
    get nextStepSection() {
        return document.querySelector('#nextStepSection');
    },
    get heavyLineInDetails() {
        this.nextStepSection.previousSibling.classList.add("evolv-heavy-line");
        return document.querySelector(".evolv-heavy-line");
    },
    get completeSteps() {
        document.querySelector('#nextStepSection > div:nth-child(2)').classList.add("evolv-complete-steps");
        return document.querySelector(".evolv-complete-steps");
    },
    get goToAgreementsContainer() {
        document.querySelector("#orderSummaryDetails > div:last-child > div:last-child").classList.add("evolv-agreements-container");
        return document.querySelector(".evolv-agreements-container");
    },
    get tradeInSection() {
        return document.querySelector('#tradeInSection');
    },
    get promoBanner() {
        var promo = document.createElement("div");
        promo.classList.add("promo-banner");
        promo.innerHTML = `
            <h4>Congrats!</h4>
            <p>You’re saving $440 on the iPhone 12, lowering its monthly payments to $18.66/mo.</p>`;
        return promo;
    },
    c1: {
        c1v1() {
            document.body.classList.add("evolv-applied");
        }
    },
    c2: {
        c2v1() {
            document.body.classList.add("evolv-applied");
            evolvStore.goToAgreementsContainer.before(evolvStore.nextStepSection);
        },
        c2v2() {
            document.body.classList.add("evolv-applied");
            evolvStore.devicesSection.before(evolvStore.nextStepSection);
        },
        c2v3() {
            document.body.classList.add("evolv-applied");
            evolvStore.tradeInSection.before(evolvStore.nextStepSection);
        },
        c2v4() {
            document.body.classList.add("evolv-applied");
            evolvStore.checkout.appendChild(evolvStore.nextStepSection);
        }
    },
    pageloadMethods: function () {
        var interval = setInterval(function () {
            if (document.querySelector('#nextStepSection > div:nth-child(2)')) {
                evolvStore.completeSteps;
                clearInterval(interval);
            }
        }, 50);
        setTimeout(function () {
            clearInterval(interval);
        }, 30000)
    }
};

evolvStore.pageloadMethods();

window._evolvExperimentTrigger = {
    /**
     * Returns array of key names
     *
     * @param { function } selFnc Selector function
     * @param { string } label General label of this concept and variant
     * @param { string[] } classes Array of 2 key names - concept and variant.
     * Array length should be > 0 && < 2 because its impossible to run 2 variants in one
     * concept or without any concept
     * @return { [] | string[] } Array of classes
     */
    getKeyName: function(cls, label, selFnc) {
        // error if no class provided
        if (!cls)  throw new Error('You must pass in a class as the first argument');
        // set idempotency attribute value argument value
        var lbl = 'data-evolv-' + label + '-' + cls;
        // get element where idempotency attribute will be added
        var selector = selFnc();
        // test if attribute already exists on selector
        if (selector && !selector.getAttribute(lbl)) {
            // set attribute on selector
            selector.setAttribute(lbl, true);
            // add concept (variable) class, e.g. 'evolv-c1'
            selector.classList.add('evolv-' + cls.substr(0, cls.indexOf('v')));
            // add variant class, e.g. 'evolv-c1v1'
            selector.classList.add('evolv-' + cls);
            // return class from function
            // it will be the name of method to be called, e.g. 'c1v2'
            return cls;
        }
    },
    // apply object methods
    execute: function(cls, label = evolvStore.idempotentLabel, element = document.body) {
        // execute idempotency and namespacing classes
        var keyName = this.getKeyName(
            cls,
            label,
            function() {
                return element;
            }
        );
        // class won't have length if variant has been already applied
        // refer to idempotent method of this object for clarifications
        if (keyName == null) {
            return;
        }
        // slice concept value from concept-variant class argument
        var concept = keyName.substr(0, keyName.indexOf('v'));
        if (!evolvStore[concept]) {
            return;
        }
        // if beforeEach exists in concept - run it
        evolvStore[concept].beforeEach && evolvStore[concept].beforeEach();
        var variant = keyName;
        // if variant exists in concept - run it
        evolvStore[concept][variant] && evolvStore[concept][variant]();
    }
};
  };

  evolv.javascript.variants["evolv_web_ubg2wnao8"].timing = "immediate";

  evolv.javascript.variants["evolv_web_5auvffouv_kqjbgf264"] = function (resolve, reject) {
  };

  evolv.javascript.variants["evolv_web_5auvffouv_kqjbgf264"].timing = "immediate";

  evolv.javascript.variants["evolv_web_5auvffouv"] = function (resolve, reject) {
    window.evolv.client.emit('cart-next-step-desktop.engagement');
  };

  evolv.javascript.variants["evolv_web_5auvffouv"].timing = "immediate";

  evolv.javascript.variants["evolv_web_2y2k4px6o_c5dswkx70"] = function (resolve, reject) {
  };

  evolv.javascript.variants["evolv_web_2y2k4px6o_c5dswkx70"].timing = "immediate";

  evolv.javascript.variants["evolv_web_2y2k4px6o_gdcja7ryc"] = function (resolve, reject) {
    window._evolvExperimentTrigger.execute("c2v1");;
  };

  evolv.javascript.variants["evolv_web_2y2k4px6o_gdcja7ryc"].timing = "wait-for-elements";
  evolv.javascript.variants["evolv_web_2y2k4px6o_gdcja7ryc"].timingSelectors = ["[class*='NextStep__CustomRowComponent']"];

  evolv.javascript.variants["evolv_web_2y2k4px6o"] = function (resolve, reject) {
    window.evolvStore = {
    idempotentLabel: "cart-next-steps-mobile",
    get header() {
        document.querySelector("[class*='MainHeader__Header']").classList.add("evolv-header");
        return document.querySelector(".evolv-header");
    },
    get firstDeviceSection() {
        document.querySelector("[class*='PromoItemCard__Card']").classList.add("evolv-device-section");
        return document.querySelector(".evolv-device-section");
    },
    get nextStepSection() {
        document.querySelector("[class*='NextStep__CustomRowComponent']").classList.add("evolv-next-step-section");
        return document.querySelector(".evolv-next-step-section");
    },
    get accessoriesSection() {
        var accessories = document.evaluate('//h2//div[contains(text(),"accessories")]', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
        accessories.closest(".row").parentNode.classList.add("evolv-accessories-section")
        return document.querySelector(".evolv-accessories-section");
    },
    get footerSection() {
        document.querySelector("[class*='FooterLink__Footer']").classList.add("evolv-footer");
        return document.querySelector(".evolv-footer");
    },
    c1: {
        c1v1() {
            document.body.classList.add("evolv-applied");
        }
    },
    c2: {
        c2v1() {
            document.body.classList.add("evolv-applied");
            evolvStore.firstDeviceSection.before(evolvStore.nextStepSection);
        },
        c2v2() {
            document.body.classList.add("evolv-applied");
            evolvStore.accessoriesSection.before(evolvStore.nextStepSection);
        }
    },
    pageLoadMethods: function() {
        var interval = setInterval(function() {
            if (document.querySelector("[class*='NextStep__CustomRowComponent']")) {
                evolvStore.nextStepSection;
                evolvStore.header;
                evolvStore.firstDeviceSection;
                evolvStore.footerSection;
                //window._evolvExperimentTrigger.execute("c2v2");
                clearInterval(interval);
            }
        }, 50);
        setTimeout(function() {
            clearInterval(interval);
        }, 30000)
    }
};

evolvStore.pageLoadMethods();

window._evolvExperimentTrigger = {
    // apply object methods
    getKeyName: function(cls, label, selFnc) {
        // error if no class provided
        if (!cls) throw new Error('You must pass in a class as the first argument');
        // set idempotency attribute value argument value
        var lbl = 'data-evolv-' + label + '-' + cls;
        // get element where idempotency attribute will be added
        var selector = selFnc();
        // test if attribute already exists on selector
        if (selector && !selector.getAttribute(lbl)) {
            // set attribute on selector
            selector.setAttribute(lbl, true);
            // add concept (variable) class, e.g. 'evolv-c1'
            selector.classList.add('evolv-' + cls.substr(0, cls.indexOf('v')));
            // add variant class, e.g. 'evolv-c1v1'
            selector.classList.add('evolv-' + cls);
            // return class from function
            // it will be the name of method to be called, e.g. 'c1v2'
            return cls;
        }
    },
    // apply object methods
    execute: function(cls, label = evolvStore.idempotentLabel, element = document.body) {
        // execute idempotency and namespacing classes
        var keyName = this.getKeyName(
            cls,
            label,
            function() {
                return element;
            }
        );
        // class won't have length if variant has been already applied
        // refer to idempotent method of this object for clarifications
        if (keyName == null) {
            return;
        }
        // slice concept value from concept-variant class argument
        var concept = keyName.substr(0, keyName.indexOf('v'));
        if (!evolvStore[concept]) {
            return;
        }
        // if beforeEach exists in concept - run it
        evolvStore[concept].beforeEach && evolvStore[concept].beforeEach();
        var variant = keyName;
        // if variant exists in concept - run it
        evolvStore[concept][variant] && evolvStore[concept][variant]();
    }
};
  };

  evolv.javascript.variants["evolv_web_2y2k4px6o"].timing = "immediate";

  evolv.javascript.variants["evolv_web_0pg3ptvbc_yorwxwcwa"] = function (resolve, reject) {
  };

  evolv.javascript.variants["evolv_web_0pg3ptvbc_yorwxwcwa"].timing = "immediate";

  evolv.javascript.variants["evolv_web_0pg3ptvbc"] = function (resolve, reject) {
    window.evolv.client.emit('cart-next-step-mobile.engagement');
  };

  evolv.javascript.variants["evolv_web_0pg3ptvbc"].timing = "immediate";

  evolv.javascript.variants["evolv_web_g23vjh0q9_q2q76znmv"] = function (resolve, reject) {
    var rule = window._evolvRule;
var $ = rule.$;


rule.setAbsolutePos(3,6);
rule.setAbsolutePos(4,5);
rule.setAbsolutePos(5,3);
rule.setAbsolutePos(6,4);

rule
  .whenDOM('.evolv-hero .hero-content')
  .then(function(hero){
    var container =  $('<div></div>')
      .addClass('evolv-button-container');
    hero.append(container);  
    container.append(hero.find('a.evolv-checkAvailability')
      .addClass('Button Button--secondaryInverse u-colorSecondary --xs12 u-text--md16 u-displayInline u-textBreakNoWrap u-marginAll--0 u-paddingY--12 u-paddingX--14'));
    container.append(
        $('<a>Pricing & Promotions</a>')
          .addClass('Button Button--secondaryInverse u-colorSecondary u-text--xs12 u-text--md16 u-displayInline u-textBreakNoWrap u-marginAll--0 u-paddingY--12 u-paddingX--14 u-displayInlineBlock')
          .addClass('evolv-learn-details-cta')
          .attr({"href": "#evolv-pricing", "aria-label": "Pricing & Promotions",
            "data-track": "Pricing & Promotions"
          })
          .on('click',rule.convert)
      );
})
;
  };

  evolv.javascript.variants["evolv_web_g23vjh0q9_q2q76znmv"].timing = "immediate";

  evolv.javascript.variants["evolv_web_g23vjh0q9"] = function (resolve, reject) {
    //debounce code
function debounce (fn, dur) {
  var timeout;
  return function () {
    clearTimeout(timeout)
    var args = arguments;
    timeout = setTimeout(function () {
      fn.apply(this, args);
    }, (dur || 10))
  }
}

// dom manipulation package
function toNodeValue(sel, context){
  context = context || document;
  if (typeof sel === 'string'){
    if (sel[0] === '<') {
      var div = context.createElement('div');
      div.innerHTML = sel.trim();
      return [div.firstChild]; 
    } else {
      return context.querySelectorAll(sel);
    }
  } else if (sel.constructor === HTMLDivElement){
    return [sel]
  } else if (sel.constructor === Node){
    return sel.el
  } else if (Array.isArray(sel)){
    return sel
  } else {
     return [];
  }
}
var Node = function(sel, context){
  context = context || document;
  var el = toNodeValue(sel, context);
  this.el = Array.prototype.slice.call(el)
  this.length = this.el.length;
}
Node.prototype.find = function(sel){
  var el = this.el
  return new Node(el.map(function(e){
    return Array.prototype.slice.call(toNodeValue(sel, e))
  }).flat(2))
}
Node.prototype.parent = function(){
  var el = this.el
  var parents = el.map(function(e){return e.parentNode})
  parents = parents.filter(function(item, pos){
      return parents.indexOf(item) == pos; 
    });
  return new Node(parents)
}
Node.prototype.addClass = function(classString){
  this.el.forEach(function(e){
    classString.split(' ').forEach(function(className){
      e.classList.add(className)
    })
  })
  return this;
}
Node.prototype.removeClass = function(className){
  function removeTheClass(e){e.classList.remove(className)}
  this.el.forEach(removeTheClass)
  return this;
}
Node.prototype.append = function(item){
  var node = this.el[0];
  if (!node) return;

  var items = toNodeValue(item)
  items.forEach(function(e){node.append(e);});

  return this;
}
Node.prototype.insertBefore = function(item){
  node = this.el[0];
  if (!node) {
    console.info('no content for insert') 
    return this;
  }
  if (typeof item === 'string'){
    item = document.querySelectorAll(item);
  } else if (item.constructor === Node){
    item = item.el[0]
  }
  item.parentNode.insertBefore(node, item);
  return this;
}
Node.prototype.markOnce = function(attr){
  var results = this.el.filter(function(e){
    return !e.getAttribute(attr);
  })
  results.forEach(function(e){e.setAttribute(attr, true)})
  return new Node(results)
}
Node.prototype.on = function(tag, fnc){
  this.el.forEach(function(e){e.addEventListener(tag,fnc)});
  return this;
}
Node.prototype.html = function(str){
  this.el.forEach(function(e){e.innerHTML = str;});
  return this;
}
Node.prototype.attr = function(attributes){
  this.el.forEach(function(e){
    var keys = Object.keys(attributes);
    keys.forEach(function(key){
        e.setAttribute(key,attributes[key])
    });
  })
  return this;
}
var $ = function(sel){
  return new Node(sel);
}

//rule instrumentation package
var store = {
  instrumentDOM: function(data){
    if (data){
      store.cache = data;
    } else {
      data = store.cache;
    }
    var check = function(obj){
      rule
        .when(rule.trigger(function(){ 
          return obj.dom.length >= obj.count || 1
        }))
        .then(function(){
          obj.node = obj.dom.addClass('evolv-' + obj.asClass)
        })
    }
    for(var key in data){
      check(data[key])     
    }
  }
}

var rule = window._evolvRule = {
  $: $,
  exp: 'g',
  store: store,
  when: function (trig) {
    var variant = null;
    var hasTriggered = false;
    var gdom = null;
    trig(function (dom) {
      gdom = dom;
      hasTriggered = true;
      if (variant) variant(dom);
    });
    return {
      then: function (fnc) {
        variant = fnc;
        if (hasTriggered) variant(gdom);
      },
    };
  },
  nextIndex: 0,
  whenDOM: function(sel){
    var index = rule.nextIndex++
    return rule.when(rule.trigger(function() {
      var attr = 'evolv-'+ rule.exp + index;
      var results = $(sel).markOnce(attr)
      return results.length > 0 ? results : null;
    }))
  },
  intervalTrigger: function (selFnc) {
    var int = 80;
    var dur = 20000;
    return function(fnc){
      function render() {
        var dom = selFnc();
        if (dom) {
          try{
            fnc(dom);
          } catch(e){
            console.warn('failed variant', e)
            window.evolv.client.contaminate({reason:'variant-failed', details: e}, true)
          }
          clearInterval(interval);
        }
      }
      var interval = setInterval(render, int);
      $(function(){setTimeout(render,200)})
      setTimeout(function () {
        clearInterval(interval);
      }, dur);
    };
  },
    
  intervalTriggerQueue: null,
  queuedIntervalTrigger: function(selFnc){
    if (!this.intervalTriggerQueue){
      this.intervalTriggerQueue = []
      var int = 60;
      var dur = 20000;
      function process() {
        var items = this.intervalTriggerQueue.slice()
        var results;
        do {
          items = results || items
          results = items.filter(function(task){
            var dom = task.selFnc();
            if (dom) {
              try{
                task.action(dom);
              } catch(e){
                console.warn('failed variant', e)
                window.evolv.client.contaminate({reason:'variant-failed', details: e}, true)
              }
            }
            return !dom;
          })
        } while(items.length > results.length)

        this.intervalTriggerQueue = results;
        if (results.length === 0){
          clearInterval(interval);
          interval = null;
        }
      }
      var interval = setInterval(process.bind(this), int);
      $(function(){setTimeout(process.bind(this),1)})
      setTimeout(function () {
        clearInterval(interval);
      }, dur);
    }
    var task = {
      selFnc: selFnc,
      action: function(){}
    }
    this.intervalTriggerQueue.push(task)
    return function(fnc){
      task.action = fnc;
    }
  }
}

var validate = {
  lengthGreaterThan: function(val){
    return function(dom){ return dom.length >= val}
  }
}


//experiment specific code

//rule.trigger = rule.intervalTrigger;
rule.trigger = rule.queuedIntervalTrigger;
rule.exp = '5gco'

store.instrumentDOM({
  rtb: {
    get dom(){ return $('[id="5g-home-internet-changes"], #switching-to-5g')},
    asClass: 'rtb',
    count: 2
  },
  pricing: {
    get dom(){ return $('#world-wifi')},
    asClass: 'pricing'
  },
  comparisonChart: {
    get dom(){ return $('#world-wifi > :nth-child(2)')},
    asClass: 'comparisonChart'
  },
  easySetup: {
    get dom(){ return $('#easy-setup-desktop, #easy-setup-mobile').parent()},
    asClass: 'easy-setup',
  },
  equip: {
    get dom(){ return $('.content-pod')},
    asClass: 'equip'
  },
  promo: {
    get dom(){ //pull out header and content
      return $('#chromebook #bento-component-3item > div, #chromebook > :first-child h2').parent() 
    },
    asClass: 'promo',
    count: 2
  },
  //for new cta
  hero: {
    get dom(){ return $('#fiveg-hero')},
    asClass: 'hero'
  },
  availablityButton: {
    get dom(){return $('a.Button[href*="Availability"], a.Button[href*="discovery-plus/"]')},
    asClass: 'checkAvailability'
  },
  //cleanup
  worldWifi: {
    get dom(){return $('#world-wifi')},
    asClass: 'world-wifi'
  }
})
  
//model
var items = [
  store.cache.rtb,
  store.cache.pricing, 
  store.cache.comparisonChart,
  store.cache.easySetup,
  store.cache.equip,     
  store.cache.promo          
]

var positionClasses = [
  'evolv-pos-1',
  'evolv-pos-2',
  'evolv-pos-3',
  'evolv-pos-4',
  'evolv-pos-5',
  'evolv-pos-6'
]
var absolutePositions = [];
var relativePositions = [];


//view 
function sortedItems(){
  var results = [];
  var pendingItems = items.filter(function(e,i){
    return !absolutePositions.some(function(a){return i===a});
  })
  for (var i=0; i<items.length; i++){
    var abs = absolutePositions[i];
    var rel = relativePositions[i];
    if (abs !== undefined){
      var item = items[abs];
      results.push(item);
    } else if (rel !== undefined){
      var relIndex = rel - i;
      var item = pendingItems[relIndex];
      results.push(item);
      pendingItems = pendingItems.filter(function(e){return item !== e})
    } else {
      results.push(pendingItems[0])
      pendingItems.splice(0,1)
    }
  }
  return results;
}

function render(){
  var container = $('.evolv-sort-container');
  sortedItems().forEach(function(item, i){
    clearPos(item);
    item.node.addClass(positionClasses[i]);
    container.append(item.node);
  })
  if (window.vzwAnalytics && vzwAnalytics.utils && vzwAnalytics.utils.updateSectionLevels){
    vzwAnalytics.utils.updateSectionLevels();
  }
}

// control
function clearPos(item){
  function removePosition(className){item.node.removeClass(className)}
  positionClasses.forEach(removePosition)
}
function addItem(array, val){
  var matchPos = array.indexOf(val.item);
  if (matchPos >= 0){
    if (matchPos > val.pos) {
      array[matchPos] = undefined;
      array[val.pos] = val.item;
    } //else do nothing
  } else {
    array[val.pos] = val.item;
  }
}

rule.setAbsolutePos = function(pos, item){
  addItem(absolutePositions, {pos:pos-1, item:item-1});
  refreshRender();
}
rule.setRelativePos = function(pos, item){
  relativePositions[pos-1] = item-1;
  refreshRender();
}

// initialization
var debouncedRender = debounce(render);
var hasInitialized = false;
function refreshRender(){
  if (!hasInitialized) return;
  debouncedRender();
}

rule
  .whenDOM('.evolv-promo')
  .then(function(lastElement){
    var parent = $('<div/>')
      .addClass('evolv-sort-container')
      .insertBefore(lastElement);
    var domItems = items.map(function(item){return item.node});
    domItems.forEach(function(dom){
      parent.append(dom)
    })

    $('.evolv-pricing').attr({id: 'evolv-pricing'});
    $('.evolv-comparisonChart').attr({id: 'world-wifi'});//avoid duplicating CSS 

    hasInitialized = true;
    debouncedRender();
  });

  //conversions
rule.convert = function(){
}


var checkLQButton = setInterval(function(){
  if (document.querySelector('#chkAvl:not(.is-disabled)')){
    try {
      window.evolv.client.emit("5g.engagement");
    } catch (e) {
      console.log(e);
    }
    clearInterval(checkLQButton);
  }
},250);

;
  };

  evolv.javascript.variants["evolv_web_g23vjh0q9"].timing = "immediate";

  evolv.javascript.variants["evolv_web_hlbta1rdm"] = function (resolve, reject) {
    // console.log("page level - control code");
// console.log("myversion: 14.5");

/************************************function to set the url*********************************/
window.onbeforeunload = function () {
  let path = window.location.pathname;
  let y = 0;
  window.sessionStorage.setItem("scrollPosition_" + path, y.toString());
};
window.__evolv_5g_plan_change_timer = 0;
window.__evolv_5g_plan_change_func = function (
  event,
  __evolv_5g_plan_change_func,
  start
) {
  //condition to remove extra classes and overlap on shared plan page
  if (
    window.location.href.includes("account") ||
    window.location.href.includes("configSummary") ||
    window.location.href.includes("promoDiscountIntercept")
  ) {
    $("#app").removeClass("ev-plan-selection-page");
    $(".modal-5g-clarity-wrapper").remove();
    $(".ev-BannerOuterMargin").remove();
    $(".ev-c1v2Heading").remove();
    $(".ev-c1v3Heading").remove();
    $("#bannerLearnMore").parent().parent().remove();
    $("#bottomlinkExperiences").parent().parent().remove();
    $("#bannerCoverageMap").parent().parent().remove();
    $("#bottomlink5GCoverageMap").parent().parent().remove();
    $("#c2v3Banner").parent().parent().remove();
    $("#c2v3BottomLinks").parent().parent().remove();
  }
  if (start === true && window.__evolv_5g_plan_change_timer > 0) {
    window.__evolv_5g_plan_change_timer = 200;
    return;
  }
  if (start === true) {
    window.__evolv_5g_plan_change_timer = 200; // tenths of a second
  }
  window.__evolv_5g_plan_change_timer--;
  if (typeof window.evolv !== "undefined") {
    //console.log("evolv_state_updating");
    window.evolv.client.context.set("web.url", window.location.href);
  }
  if (window.__evolv_5g_plan_change_timer > 0) {
    setTimeout(
      function (event, __evolv_5g_plan_change_func) {
        __evolv_5g_plan_change_func(event, __evolv_5g_plan_change_func);
      },
      100,
      event,
      __evolv_5g_plan_change_func
    );
  }
};

$(document).on("click touchend", function (event) {
  //console.log("MONKEY!!!!");
  window.__evolv_5g_plan_change_func(
    event,
    window.__evolv_5g_plan_change_func,
    true
  );
  conditionalStart();
});
/************************************function to set the url*********************************/

function startControl() {
  /*document.querySelector('#content > .row:nth-child(3)').classList.add("ev-all-plans-row");*/
  let path = window.location.pathname;
  let y = Number(window.sessionStorage.getItem("scrollPosition_" + path));
  if (y) {
    $("html").scrollTop(y);
  }
  var isMobile = /iPhone|Android/i.test(navigator.userAgent);

  // see shared plans changes
  var seeSharedDetails = document.querySelector("button.seeDetailsLink");

  if (seeSharedDetails !== null && seeSharedDetails.childNodes.length > 1) {
    seeSharedDetails.removeChild(seeSharedDetails.childNodes[1]); // ? does this fix a known issue, if it does, please use display none instead
  }

  //*************************Control changes for laptop orientation *****************//
  //1."Enroll in paper-free billing....." - text change
  var el = document.querySelector(
    "div.headerIncludes > div.subHeading.displayInlineBlock.margin6.noSideMargin > span"
  );
  if (el !== null) {
    el.innerText =
      "Enroll in paper-free billing and Auto Pay to save an additional $10/mo on these plans.";
    el.classList.add("ev-font14");
  }
  //2."5G Built Right ...." - align it with the shop label and search icon

  $("#app").addClass("ev-plan-selection-page");
  $("#app").addClass("ev-override-1");
  $("#app").addClass("ev-override-2");
  $("#app").addClass("ev-override-3");

  $("#app > div.row > div.col-xs-12").addClass("ev-removeOverallMarginBottom");

  // 3. Remove pipe in between tabs
  if (!isMobile) {
    var elDeskAlignTabs = $('#content > div[class=""] > div.unWrap.row');
    elDeskAlignTabs.first().addClass("ev-tabPadding");
    var elementLegatText = $(
      "div.mmCapri.planListView_legalText > div > ol > li.margin10.onlyTopMargin + li.margin10.onlyTopMargin"
    );
    // legal text 3
    if (
      $(".ev-legal-text-3-ran-un1111").length === 0 &&
      elementLegatText.length > 0
    ) {
      elementLegatText[0].innerHTML =
        '<p>3.</p> <p class="pad10 onlyLeftPad ev-legal-text-3-ran-un1111"><strong>5G Nationwide available in 2,700+ cities.</strong> 5G Ultra Wideband available only in parts of select cities. 5G Nationwide access requires a 5G-capable device.</p>';
    }
    //*****tagging Select Btn*****//
    var elDeskSelectStartUnBtn = $(
      'div.planTileListCapri:contains("Start Unlimited") > div.row + div.row > div.planTileList_btnContainer > button'
    );

    elDeskSelectStartUnBtn.removeAttr("analyticstrack");
    elDeskSelectStartUnBtn.attr("analyticstrack", "aria-label");

    var elDeskSelectPlayMoreBtn = $(
      'div.planTileListCapri:contains("Play More Unlimited") > div.row + div.row > div.planTileList_btnContainer > button'
    );

    elDeskSelectPlayMoreBtn.removeAttr("analyticstrack");
    elDeskSelectPlayMoreBtn.attr("analyticstrack", "aria-label");

    var elDeskSelectDoMoreBtn = $(
      'div.planTileListCapri:contains("Do More Unlimited") > div.row + div.row > div.planTileList_btnContainer > button'
    );

    elDeskSelectDoMoreBtn.removeAttr("analyticstrack");
    elDeskSelectDoMoreBtn.attr("analyticstrack", "aria-label");

    var elDeskSelectGetMoreBtn = $(
      'div.planTileListCapri:contains("Get More Unlimited") > div.row + div.row > div.planTileList_btnContainer > button'
    );

    elDeskSelectGetMoreBtn.removeAttr("analyticstrack");
    elDeskSelectGetMoreBtn.attr("analyticstrack", "aria-label");

    var elDeskSelectJustKidsBtn = $(
      'div.planTileListCapri:contains("Just Kids") > div.row + div.row > div.planTileList_btnContainer > button'
    );

    elDeskSelectJustKidsBtn.removeAttr("analyticstrack");
    elDeskSelectJustKidsBtn.attr("analyticstrack", "aria-label");

    //*****tagging Select Btn*****//

    //*****tagging Plan Details ******//
    var elDeskDetailsStartUnBtn = $(
      'div.planTileListCapri:contains("Start Unlimited") > div.planTileList_planDetails  > a'
    );

    elDeskDetailsStartUnBtn.removeAttr("analyticstrack");
    elDeskDetailsStartUnBtn.removeAttr("data-analyticstrack");
    elDeskDetailsStartUnBtn.attr("analyticstrack", "aria-label");
    elDeskDetailsStartUnBtn.removeAttr("aria-label");
    elDeskDetailsStartUnBtn.attr(
      "aria-label",
      "See Plan Details Start Unlimited"
    );

    var elDeskDetailsPlayMoreBtn = $(
      'div.planTileListCapri:contains("Play More Unlimited") > div.planTileList_planDetails  > a'
    );

    elDeskDetailsPlayMoreBtn.removeAttr("analyticstrack");
    elDeskDetailsPlayMoreBtn.removeAttr("data-analyticstrack");
    elDeskDetailsPlayMoreBtn.attr("analyticstrack", "aria-label");
    elDeskDetailsPlayMoreBtn.removeAttr("aria-label");
    elDeskDetailsPlayMoreBtn.attr(
      "aria-label",
      "See Plan Details Play More Unlimited"
    );

    var elDeskDetailsDoMoreBtn = $(
      'div.planTileListCapri:contains("Do More Unlimited") > div.planTileList_planDetails  > a'
    );

    elDeskDetailsDoMoreBtn.removeAttr("analyticstrack");
    elDeskDetailsDoMoreBtn.removeAttr("data-analyticstrack");
    elDeskDetailsDoMoreBtn.attr("analyticstrack", "aria-label");
    elDeskDetailsDoMoreBtn.removeAttr("aria-label");
    elDeskDetailsDoMoreBtn.attr(
      "aria-label",
      "See Plan Details Do More Unlimited"
    );

    var elDeskDetailsGetMoreBtn = $(
      'div.planTileListCapri:contains("Get More Unlimited") > div.planTileList_planDetails  > a'
    );

    elDeskDetailsGetMoreBtn.removeAttr("analyticstrack");
    elDeskDetailsGetMoreBtn.removeAttr("data-analyticstrack");
    elDeskDetailsGetMoreBtn.attr("analyticstrack", "aria-label");
    elDeskDetailsGetMoreBtn.removeAttr("aria-label");
    elDeskDetailsGetMoreBtn.attr(
      "aria-label",
      "See Plan Details Get More Unlimited"
    );

    var elDeskDetailsJustKidsBtn = $(
      'div.planTileListCapri:contains("Just Kids") > div.planTileList_planDetails  > a'
    );

    elDeskDetailsJustKidsBtn.removeAttr("analyticstrack");
    elDeskDetailsJustKidsBtn.removeAttr("data-analyticstrack");
    elDeskDetailsJustKidsBtn.attr("analyticstrack", "aria-label");
    elDeskDetailsJustKidsBtn.removeAttr("aria-label");
    elDeskDetailsJustKidsBtn.attr("aria-label", "See Plan Details Just Kids");

    //view Details link tagging
    var elDeskViewDetails = $('p[aria-label="View details"]');
    elDeskViewDetails.attr("analyticstrack", "aria-label");

    //*****tagging Plan Details ******//

    var elDeskPlusTaxText = $('p:contains("Plus taxes & fees.")');
    for (var h = 0; h < elDeskPlusTaxText.length; h++) {
      typeof elDeskPlusTaxText[h] !== 'undefined' && elDeskPlusTaxText[h] &&
        elDeskPlusTaxText[h].classList.add("ev-transformlowerCase");
    }
    var elDeskGet5GText = $(
      'div:contains("Get 5G Ultra Wideband for $10/mo") > p'
    );

    if (
      $(".ev-text-change-un1112").length === 0 &&
      elDeskGet5GText.length > 0
    ) {
      for (var t = 0; t < elDeskGet5GText.length; t++) {
        elDeskGet5GText[t].classList.add("ev-font12");
        elDeskGet5GText[t].innerHTML =
          '<span class="ev-text-change-un1112">Get 5G Ultra Wideband for </br>$10/mo</span>';
      }
    }

    var elDeskEnrollText = document.querySelector(
      "div.fiveGheader > div > div"
    );
    if (elDeskEnrollText !== null) {
      elDeskEnrollText.classList.add("ev-enrollTextwidth");
      var elIpadSlider = document.querySelector(
        "div.slick-initialized.slick-slider.capriSlider"
      );
    }

    if (elIpadSlider !== null) {
      elIpadSlider.classList.add("capriSliderIpad");
    }

    var elIpadArrow = document.querySelector(
      "div.slick-initialized.slick-slider.capriSlider > div"
    );
    if (elIpadArrow !== null) {
      elIpadArrow.classList.add("capriSliderIpad");
    }

    var elIpadToggle = document.querySelector("div.pad20.onlyBottomPad.row");

    if (elIpadToggle !== null) {
      elIpadToggle.classList.add("ev-tabsborder");
    }

    var element = document.querySelector(".planViewToggle_divider");
    if (element !== null) {
      element.classList.add("ev-planViewToggle_divider");
    }

    // var eleSeeOtherPlans = document.querySelector('div.mmCapriPlansHeader > div.col-xs-12.col-md-3 > button');

    // eleSeeOtherPlans.classList.add('ev-hideLink');

    var elDeskPromoText = document.querySelectorAll("div.promoQualified_text");

    for (var k = 0; k < elDeskPromoText.length; k++) {
      typeof elDeskPromoText[k] !== 'undefined' && elDeskPromoText[k] && elDeskPromoText[k].classList.add("ev-font14");
      typeof elDeskPromoText[k] !== 'undefined' && elDeskPromoText[k] &&
        elDeskPromoText[k].classList.add("ev-reducePromoTextPadding");
    }

    var elDeskDueMonthyTxt = document.querySelectorAll(
      "div.planTileList_priceContainer > div > p"
    );

    for (var p = 0; p < elDeskDueMonthyTxt.length; p++) {
      elDeskDueMonthyTxt[p] && elDeskDueMonthyTxt[p].classList.add("ev-font30");
    }

    var elDeskDueMonthyTxt1 = document.querySelectorAll(
      "div.planTileList_priceContainer > div > div.clearBoth > div >p.planTileList_price"
    );

    for (var t = 0; t < elDeskDueMonthyTxt1.length; t++) {
      typeof elDeskDueMonthyTxt1[t] !== 'undefined' && elDeskDueMonthyTxt1[t] &&
        elDeskDueMonthyTxt1[t].classList.add("ev-font15");
    }

    var elDeskDueMonthyTxt2 = document.querySelectorAll(
      "div.planTileList_priceContainer > div > div.floatLeft > p"
    );

    for (var q = 0; q < elDeskDueMonthyTxt2.length; q++) {
      typeof elDeskDueMonthyTxt2[q] !== 'undefined' && elDeskDueMonthyTxt2[q] &&
        elDeskDueMonthyTxt2[q].classList.add("ev-font12");
    }

    var elDeskDueMonthyTxt3 = document.querySelectorAll(
      "div.planTileList_priceContainer > div > div.clearBoth > div.floatLeft + div.floatLeft >p"
    );

    for (var g = 0; g < elDeskDueMonthyTxt3.length; g++) {
      typeof elDeskDueMonthyTxt3[g] !== 'undefined' && elDeskDueMonthyTxt3[g] &&
        elDeskDueMonthyTxt3[g].classList.add("ev-font12");
    }

    //5G Built right
    if ($(".ev-plan-control-ran").length === 0) {
      var controlSpanDesk = document.createElement("span");
      controlSpanDesk.classList.add("ev-controlSpanDesk");
      $("div.fiveGNationCopy.subHeading").addClass(
        "ev-font14 ev-plan-control-ran"
      );
      $("div.fiveGNationCopy.subHeading > p.subHeading").addClass("ev-font14");
      if (document.querySelector("div.fiveGNationCopy > p:not(.subHeading)") !== null &&
        document.querySelector("div.fiveGNationCopy > p:not(.subHeading)").childNodes.length > 0) {
        document
          .querySelectorAll("div.fiveGNationCopy > p:not(.subHeading)")[0]
          .childNodes[0].after(controlSpanDesk);
      }
      if (document.querySelector("div.fiveGNationCopy > p:not(.subHeading)") !== null &&
        document.querySelector("div.fiveGNationCopy > p:not(.subHeading)").childNodes.length > 0) {
        document.querySelectorAll(
          "div.fiveGNationCopy > p:not(.subHeading)"
        )[0].childNodes[0].textContent = "";
        $(controlSpanDesk).append(
          "All plans include access to our 5G Nationwide network<br><span>When combined with 5G Ultra Wideband—the fastest 5G</span><br><span>in North America</span><sup>6</sup><span> — you'll get our absolute best performance. </span><sup>2</sup>"
        );
        // var controlSpanDesk7 = $(
        //   "div.fiveGNationCopy > p:not(.subHeading) .ev-controlSpanDesk"
        // );
        // if (controlSpanDesk7.length > 0) {
        //   controlSpanDesk7 = controlSpanDesk7.get(0);
        //   controlSpanDesk7.childNodes[0].after(document.createElement("br"));
        //   controlSpanDesk7.childNodes[1].after(document.createElement("span"));
        //   // if (controlSpanDesk7.childNodes.length > 2) {
        //   //   controlSpanDesk7.childNodes[2].textContent = "When combined with 5G Ultra Wideband—the fastest 5G";
        //   //   controlSpanDesk7.childNodes[2].after(document.createElement("br"));
        //   //   controlSpanDesk7.childNodes[3].after(document.createElement("span"));
        //   //   controlSpanDesk7.childNodes[4].textContent = "in the world";
        //   //   controlSpanDesk7.childNodes[4].after(document.createElement("sup"));
        //   //   controlSpanDesk7.childNodes[5].textContent = "6";
        //   //   controlSpanDesk7.childNodes[5].after(document.createElement("span"));
        //   //   controlSpanDesk7.childNodes[6].textContent = "— you'll get our absolute best performance.";
        //   //   controlSpanDesk7.childNodes[6].after(document.createElement("sup"));
        //   //   controlSpanDesk7.childNodes[7].textContent = "2";
        //   // }

        // }
      }


      if (document.querySelectorAll("div.fiveGNationCopy > p:not(.subHeading)").length > 0 &&
        document.querySelectorAll("div.fiveGNationCopy > p:not(.subHeading)")[0].childNodes.length > 2) {
        document.querySelectorAll("div.fiveGNationCopy > p:not(.subHeading)")[0]
          .childNodes[2] &&
          document
            .querySelectorAll("div.fiveGNationCopy > p:not(.subHeading)")[0]
            .childNodes[2].classList.add("ev-hideText");
      }
    }
  }

  //5.Hide bottom border
  if (!isMobile) {
    var elementLegatText1 = $("div.mmCapri.planListView_legalText > div > ol");
    if ($(".ev-legal-6-ran-un1113").length === 0 && elementLegatText1.length > 0) {
      elementLegatText1.get(0).insertAdjacentHTML(
        "beforeend",
        '<li class="margin10 onlyTopMargin ev-hideLegal6 ev-legal-6-ran-un1113"><p>6.</p> <p class="pad10 onlyLeftPad">Global claim from May 2020, based on Opensignal independent analysis of mobile measurements recorded during the period January 31 – April 30, 2020 © 2021 Opensignal Limited.</p></li>'
      );
    }
    var element9 = document.querySelectorAll("div.planTileList_btnContainer");

    for (var i = 0; i < element9.length; i++) {
      element9[i] && element9[i].classList.add("ev-ContainerInnerPadding");
    }

    var element10 = document.querySelectorAll("div.planTileList_includes");

    if (element10 !== null) {
      for (var i = 0; i < element10.length; i++) {
        element10[i] &&
          element10[i].classList.add("ev-containerBorderInnerMargin");
      }
      element10.length > 0 && element10[0].classList.add("ev-hideLink");
      element10.length > 6 && element10[6].classList.add("ev-hideLink");

    }
    var eldeskJustKidsHeight = $(
      'div.planTileList_priceContainer:contains("Pick an Unlimited plan for your first line, then get Just Kids on another.")'
    );
    if (eldeskJustKidsHeight.length > 0 && eldeskJustKidsHeight[0]) {
      eldeskJustKidsHeight[0].classList.add("ev-justKidsHeight");

      var eldeskJustKidsAlignment = $(
        'div.planTileList_priceContainer:contains("Pick an Unlimited plan for your first line, then get Just Kids on another.") > p'
      );

      eldeskJustKidsAlignment.length > 0 &&
        eldeskJustKidsAlignment[0].classList.add("ev-justKidsAlignment");
    }

    var elDesk1 = document.querySelector(
      '#app > div > div > div[class="row"] > div'
    );

    elDesk1 !== null && elDesk1.classList.add("ev-addBackgroundColorPadding");

    var elDesk2 = document.querySelector(
      "#content > div.fiveGheader.pad48.onlyTopPad.row"
    );

    elDesk2 !== null && elDesk2.classList.add("ev-whiteBgPadding")
      && elDesk2.classList.add("ev-letChoosePlanPaddingTop");

    var elDesk2a = $('div.planViewToggle:contains("Compare plans") > div');
    elDesk2a[0] && elDesk2a[0].classList.add("ev-comparePlansText");

    // var elDesk3 = document.querySelector('#content > div[class=""]');
    // console.log("here19f");
    // elDesk3.classList.add('ev-whiteBgPadding');

    var element2 = document.querySelector("#content > div.greyBorder");

    element2 !== null && element2.classList.add("ev-removeBorder");

    var elDesk4 = document.querySelector("div.capriPlanFooter");

    elDesk4 !== null && elDesk4.classList.add("capriPlanFooter");

    var elDesk4a = document.querySelector(
      "div.capriPlanFooter > div > div > div > div > div > a"
    );

    elDesk4a !== null && elDesk4a.classList.add("ev-font13");

    var elDesk4b = document.querySelector(
      "div.capriPlanFooter > div > div > div > div > div.importantLinkMargin > a"
    );

    elDesk4b !== null && elDesk4b.classList.add("ev-font13");

    var elDesk4c = document.querySelector("div.planListView_legalText");

    elDesk4c !== null && elDesk4c.classList.add("ev-font12");

    var elDesk5 = document.querySelectorAll(
      "div.col-xs-12.col-md-6.col-md-offset-0 > div.fiveGNationCopy.subHeading.displayInlineBlock.margin6.noSideMargin > p"
    );
    for (var i = 0; i < elDesk5.length; i++) {
      elDesk5[i] && elDesk5[i].classList.add("ev-font14");
    }

    var elDesk6 = document.querySelectorAll("div.planViewToggle_btn");
    for (var i = 0; i < elDesk6.length; i++) {
      elDesk6[i] && elDesk6[i].classList.add("ev-font12");
      elDesk6[i] && elDesk6[i].classList.add("ev-togglePaddingBottom");
    }

    var elDesk7 = document.querySelector('[aria-label="All plans include"]');
    elDesk7 !== null && elDesk7.classList.add("ev-font14");

    var elDesk8 = document.querySelectorAll("p.planInclude_txt");
    for (var i = 0; i < elDesk8.length; i++) {
      elDesk8[i] && elDesk8[i].classList.add("ev-font11");
    }

    var elDesk9 = document.querySelectorAll(
      "div.planTileListCapri > h2.planTileList_name"
    );
    for (var i = 0; i < elDesk9.length; i++) {
      elDesk9[i] && elDesk9[i].classList.add("ev-font30");
      elDesk9[i] && elDesk9[i].classList.add("ev-planTileNamePaddingTop");
    }

    // var elDesk10 = document.querySelector('div.planContainer > div.ev-whiteBgPadding > div.unWrap.row');

    // elDesk10.classList.add('ev-removeBorderBottom');

    var elDesk12 = document.querySelectorAll(
      "div.planTileList_btnContainer > button"
    );

    for (var i = 0; i < elDesk12.length > 0; i++) {
      elDesk12[i] && elDesk12[i].classList.add("ev-selectBtnPadding");
      elDesk12[i] && elDesk12[i].classList.add("ev-font13");
    }

    var elDesk12a = document.querySelectorAll("div.planTileList_btnContainer");
    for (var l = 0; l < elDesk12a.length > 0; l++) {
      elDesk12a[l] &&
        elDesk12a[l].classList.add("ev-selectBtnDeskPaddingBottom");
    }

    var elDesk13 = document.querySelectorAll("div.greyBorder");

    for (var i = 0; i < elDesk13.length > 0; i++) {
      elDesk13[i] && elDesk13[i].classList.add("ev-greyBorderMarginRight");
    }

    var elDesk14 = document.querySelectorAll("h3.planTileList_Feature_Header");

    for (var i = 0; i < elDesk14.length > 0; i++) {
      elDesk14[i] && elDesk14[i].classList.add("ev-font15");
    }

    var elDesk15 = $(
      'div.planTileList_Features:not(:contains("Get 5G Ultra Wideband for $10/mo")) > p'
    );

    for (var i = 0; i < elDesk15.length > 0; i++) {
      elDesk15[i] && elDesk15[i].classList.add("ev-font15");
    }

    var elDesk15a = document.querySelectorAll("div.planTileList_Features");

    for (var i = 0; i < elDesk15a.length > 0; i++) {
      elDesk15a[i] &&
        elDesk15a[i].classList.add("ev-planTileFeaturePaddingRight");
    }
    if (
      $('div.planTileList_Features:contains("Unlimited mobile hotspot")')
        .length > 0 &&
      $('div.planTileList_Features:contains("Unlimited mobile hotspot")')
        .length === 3
    ) {
      $(
        'div.planTileList_Features:contains("Unlimited mobile hotspot")'
      )[0].classList.add("ev-hotSpotPaddingRight");
      $(
        'div.planTileList_Features:contains("Unlimited mobile hotspot")'
      )[1].classList.add("ev-hotSpotPaddingRight");
      $(
        'div.planTileList_Features:contains("Unlimited mobile hotspot")'
      )[2].classList.add("ev-hotSpotPaddingRight");
    }
    var elDesk16 = document.querySelectorAll(
      "div.planTileList_planDetails > a"
    );

    for (var i = 0; i < elDesk16.length > 0; i++) {
      elDesk16[i] && elDesk16[i].classList.add("ev-font13");
    }

    var elDesk17 = document.querySelectorAll("div.planTileList_planDetails");

    for (var i = 0; i < elDesk17.length > 0; i++) {
      elDesk17[i] && elDesk17[i].classList.add("ev-greyBorderMarginRight");
    }

    // var elDesk11 = document.querySelector('div.planContainer > div[class="row"]');
    // elDesk11.classList.add('ev-addBorderTop');
    // elDesk11.classList.add('ev-addBackgroundColor');

    var element3 = document.querySelectorAll("#content > div[class=row]");

    for (var i = 0; i < element3.length; i++) {
      element3[i] && element3[i].classList.add("ev-addBackgroundColor");
    }

    //7.Remove planTileContainer border
    var element4 = document.querySelectorAll(
      "#content div.planTileContainer.m-list.planTileContainer_border.planTileListCapriWrapper"
    );

    for (var i = 0; i < element4.length; i++) {
      element4[i] && element4[i].classList.add("ev-RemoverContainerBorder");
    }

    //8.Reduce the planTile padding
    var element5 = document.querySelectorAll("#content div.planTileListCapri");

    for (var i = 0; i < element5.length; i++) {
      element5[i] && element5[i].classList.add("ev-ReduceContainerPadding");
    }

    //9.Move the text inside container to right
    var element7 = document.querySelectorAll("h2.planTileList_name");

    for (var i = 0; i < element7.length; i++) {
      element7[i] && element7[i].classList.add("ev-ContainerInnerPadding");
    }

    var element8 = document.querySelectorAll(
      "div.planTileList_priceContainer.increaseHeight.row"
    );

    for (var i = 0; i < element8.length; i++) {
      element8[i] && element8[i].classList.add("ev-ContainerInnerPadding");
    }

    var element11 = document.querySelectorAll(
      "div.planTileListCapri > div:not([class])"
    );

    for (var i = 0; i < element11.length; i++) {
      element11[i] && element11[i].classList.add("ev-ContainerInnerPadding");
    }

    var element12 = document.querySelectorAll("div.planTileList_planDetails");

    for (var i = 0; i < element12.length; i++) {
      element12[i] && element12[i].classList.add("ev-ContainerInnerPadding");
    }

    var element13 = document.querySelectorAll(
      "div.planTileListCapri > div:not([class]) + div > div > div.greyBorder"
    );

    for (var i = 0; i < element13.length; i++) {
      element13[i] &&
        element13[i].classList.add("ev-containerBorderInnerMargin");
    }

    //10.Change container header color to grey
    var element6 = document.querySelectorAll("div.planTile_topSpace");

    for (var i = 0; i < element6.length; i++) {
      element6[i] && element6[i].classList.add("ev-PlanTileHeaderBackground");
    }

    //11.Remove padding Bottom for Recommended label
    var element14 = document.querySelectorAll("div.planTileList_line");

    for (var i = 0; i < element14.length; i++) {
      element14[i] && element14[i].classList.add("removeTopHeaderMargin");
    }

    var element15 = document.querySelectorAll(
      "div.planTileList_line.recommended.smallMargin"
    );

    for (var i = 0; i < element15.length; i++) {
      element15[i] && element15[i].classList.add("removeTopHeaderMargin");
    }
  }

  //*************************Control changes for mobile orientation *****************//

  if (isMobile) {
    if ($(".ev-plan-content-mobile-ran-un1114").length === 0) {
      var planContainerContent = '<div class="tabpanel" data-tabs="true">';
      planContainerContent +=
        '<ul class="ev-plan-content-mobile-ran-un1114 ev-hideOverflow react-tabs__tab-list ev-tabPanelBackground removeTabHeaderSpacing" role="tablist" style="font-size: 13px; display: flex; overflow-x: scroll; line-height: 16px;"><li class="ev-font13 react-tabs__tab react-tabs__tab--selected" role="tab" id="plan-view" aria-selected="true" aria-disabled="false" aria-controls="react-tabs-11" tabindex="0"><a style="text-decoration: none" analyticstrack="plan-view" aria-label="Plan View" href="#">Plan view</a></li><li class="ev-font13 react-tabs__tab" role="tab" id="compare-all-plan"  aria-disabled="false" aria-controls="react-tabs-11" tabindex="0"><a style="text-decoration: none"  analyticstrack="compare-all-plan" aria-label="Compare all plans" href="javascript:;">Compare all plans</a></li></ul>';

      //seeting the plans in order
      if (
        window._evolv_5g_planJson.payload.pageData.lines[0].compatiblePlans[0]
          .planName !== "Start Unlimited"
      ) {
        window._evolv_5g_planJson.payload.pageData.lines[0].compatiblePlans.push(
          window._evolv_5g_planJson.payload.pageData.lines[0].compatiblePlans.shift()
        );
      }
      window._evolv_5g_planJson.payload.pageData.lines[0].compatiblePlans.forEach(
        (plan) => {
          var showCaseFeatures = plan.planIncluded.filter((feature) => {
            return feature.listVisible;
          });
          var showCasePlanPerks = plan.planPerks.filter((planPerk) => {
            return planPerk.listVisible;
          });
          var showCaseFiveGTotalAccess = plan.fiveGAccessIncluded
            ? plan.fiveGAccessIncluded.filter((fiveG) => {
              return fiveG.listVisible;
            })
            : null;
          var planFeaturesData = "";
          for (var i = 0; i < showCaseFeatures.length; i++) {
            if (
              showCaseFeatures[i].superScript &&
              showCaseFeatures[i].name.includes("Unlimited mobile hotspot")
            ) {
              planFeaturesData +=
                "<div><p aria-label=" +
                showCaseFeatures[i].name +
                ' style="font-size: 15px; line-height:1.25;color: rgb(0, 0, 0);"> <span>' +
                showCaseFeatures[i].name +
                "<sup>" +
                showCaseFeatures[i].superScript +
                "</sup></span></p></div>";
            } else if (showCaseFeatures[i].superScript) {
              planFeaturesData +=
                "<div><p aria-label=" +
                showCaseFeatures[i].name +
                ' style="font-size: 15px; line-height:2; color: rgb(0, 0, 0);"> <span>' +
                showCaseFeatures[i].name +
                "<sup>" +
                showCaseFeatures[i].superScript +
                "</sup></span></p></div>";
            } else if (
              showCaseFeatures[i].name === "Get 5G Ultra Wideband for $10/mo"
            ) {
              planFeaturesData +=
                "<div><p aria-label=" +
                showCaseFeatures[i].name +
                ' style="font-size: 11px; line-height:2; color:#747474;"> <span>' +
                showCaseFeatures[i].name +
                "</span></p></div>";
            } else {
              planFeaturesData +=
                "<div><p aria-label=" +
                showCaseFeatures[i].name +
                ' style="font-size: 15px; line-height:2; color: rgb(0, 0, 0);"> <span>' +
                showCaseFeatures[i].name +
                "</span></p></div>";
            }
          }
          var planPerksData = "";

          for (var i = 0; i < showCasePlanPerks.length; i++) {
            var planPerksImg = "";

            if (showCasePlanPerks[i].name === "Disney+, Hulu, ESPN+ included") {
              planPerksImg =
                '<span><img style="height:20px; width:50px; margin-bottom:10px;" src="https://ss7.vzw.com/is/image/VerizonWireless/plan-selector-icon-capri-hulu-app?&amp;scl=1"></span><span><img style="height:40px; width:72px; margin:0 0 5px 15px;" src="https://ss7.vzw.com/is/image/VerizonWireless/disney-plus-logo-overlay-black-dma?&amp;scl=1"></span><span><img style="height:12px; width:56px; margin:0 0 12px 20px;" src="https://ss7.vzw.com/is/image/VerizonWireless/plan-selector-icon-capri-espn-app?&amp;scl=1"></span>';
            }
            if (showCasePlanPerks[i].superScript) {
              planPerksData +=
                "<div>" +
                planPerksImg +
                "<p aria-label=" +
                showCasePlanPerks[i].name +
                ' style="font-size: 15px; line-height:2;"> <span>' +
                showCasePlanPerks[i].name +
                "<sup>" +
                showCasePlanPerks[i].superScript +
                "</sup></span> </p></div>";
            } else {
              planPerksData +=
                "<div>" +
                planPerksImg +
                "<p aria-label=" +
                showCasePlanPerks[i].name +
                ' style="font-size: 15px; line-height:2;"> <span>' +
                showCasePlanPerks[i].name +
                "<span> </p></div>";
            }
          }
          var fiveGTotalData = "";
          if (
            showCaseFiveGTotalAccess !== null &&
            showCaseFiveGTotalAccess.length > 0
          ) {
            for (var i = 0; i < showCaseFiveGTotalAccess.length; i++) {
              if (showCaseFiveGTotalAccess[i].superScript) {
                fiveGTotalData +=
                  "<div><p aria-label=" +
                  showCaseFiveGTotalAccess[i].name +
                  ' style="font-size: 15px; line-height:2;"> <span>' +
                  showCaseFiveGTotalAccess[i].name +
                  "<sup>" +
                  showCaseFiveGTotalAccess[i].superScript +
                  "</sup></span> </p></div>";
              } else {
                fiveGTotalData +=
                  "<div><p aria-label=" +
                  showCaseFiveGTotalAccess[i].name +
                  ' style="font-size: 15px; line-height:2;"> <span>' +
                  showCaseFiveGTotalAccess[i].name +
                  "<span> </p></div>";
              }
            }
          }

          var fiveGTotalDataHTML = "";
          if (fiveGTotalData.length > 0) {
            fiveGTotalDataHTML =
              '<div><h3 class="margin10 noSideMargin" aria-label="plan features" style="margin-top: 16px; font-size: 16px;">5G total access</h3>' +
              fiveGTotalData +
              '</div><div class="greyBorder"></div>';
          }

          const formatCurrency = (value) => {
            if (isNaN(value)) return;
            const sign = value < 0 ? "-" : "";
            const numValue = Number(Math.abs(value));
            const currencyString = `${sign}$${numValue}`;
            return currencyString;
          };

          var autoPayPrice = plan.planDueMonthly
            ? formatCurrency(plan.planDueMonthly)
            : formatCurrency("0.00");
          var planDueMonthly = plan.autoPayPrice
            ? formatCurrency(plan.planDueMonthly - plan.autoPayPrice)
            : formatCurrency("0.00");

          var AutoPayMargin = "";

          if (autoPayPrice.length === 3) {
            AutoPayMargin = "4px 0px 0px 10px;";
            AutoTextMargin = "3px;";
          } else if (autoPayPrice.length === 4) {
            AutoPayMargin = "4px 0px 0px 3px;";
            AutoTextMargin = "3px;";
          } else if (autoPayPrice.length === 2) {
            AutoPayMargin = "4px 0px 0px 7px;";
            AutoTextMargin = "3px;";
          }

          var evHidePrice = "";
          var evDisableSelect = "";
          var evDisableSelectProp = "";
          var letsSelectUnlimited = "";
          if (parseFloat(plan.planDueMonthly) === 0) {
            evHidePrice = "ev-hidePriceContainer ";
            letsSelectUnlimited =
              '<div class="ev-selectUnlimitedText"><p class="bodyLG fontDisplayBold2">Pick an Unlimited plan for your first line, then get Just Kids on another.</p> </div>';
            evDisableSelect = "ev-disableSelectBtn ";
            evDisableSelectProp = " disabled ";
          }

          planContainerContent +=
            "<div data-plan=" +
            plan.planSorId +
            '><div class="tabpanel react-tabs__tab-panel--selected" role="tabpanel" id="react-tabs-1" aria-labelledby="react-tabs-0"><div style="margin-top: 40px;"></div><div id=' +
            plan.planSkuId +
            ' class="m-slider-tile m-red mob-view floatLeft positionRelative  plan_0 ev-planTileTopPadding"><p class="ev-promoQualified_mobileText bold">' +
            plan.promoText +
            '</p><div class="flex planName mob-view"><h2 class="h1" tabindex="-1">' +
            plan.planName +
            '</h2></div><div class="flex m-promoText" style="display: none; margin-top: 0px;"><p>' +
            plan.promoText +
            "</p></div>" +
            letsSelectUnlimited +
            '<div class="' +
            evHidePrice +
            'planTile_priceContainer mob-view onlyTopPad increaseHeight row" style="position: relative; height:50px !important;"><div class="whiteSpaceNoWrap"><div class="clearBoth whiteSpaceNoWrap ev-font18"><p class="planTileList_price displayInlineBlock ev-font24" aria-label=' +
            planDueMonthly +
            '"due monthly" style="font-size: 24px !important; margin-right:0px !important;margin: 9px 0px 8px 0px !important;">' +
            planDueMonthly +
            '</p><div class="displayInlineBlock"><p class="bodyLG margin6 noTopMargin " style="line-height: inherit; font-size: 12px !important;margin-top:16px; margin-left:2px;">/line per month<sup>1</sup> plus taxes &amp; fees.</p></div></div><div class="clearBoth whiteSpaceNoWrap ev-font18"><p class="floatLeft fontDisplayBold displayInlineBlock" aria-label=' +
            autoPayPrice +
            '"due monthly" style="font-size: 18px !important; margin:' +
            AutoPayMargin +
            '">' +
            autoPayPrice +
            '</p><div class="floatLeft" style="margin-top: 2px;margin-left: ' +
            AutoTextMargin +
            '"><p class="bodyLG margin6 noTopMargin ev-font12" style="line-height: inherit; font-size: 12px !important;margin-top:5px; margin-left:0px">without Auto Pay and paper-free billing.</p></div></div></div><div class=""></div></div><div class="planTile_tax is-hidden"><p class="caption-allySize pad15 onlyTopPad ev-font12">Plus taxes &amp; fees.</p><p class="caption-allySize"><span>&nbsp;</span></p></div><div class="planTile_divider " style="height: 4px; background-color: rgb(0, 0, 0); margin-bottom: 0px; margin-top: 0px;"></div><div class=" planIncludes m-view"><div>' +
            fiveGTotalDataHTML +
            '<div><h3 class="margin10 noSideMargin ev-font15" aria-label="plan features" style="margin-top: 16px; font-size: 15px !important;">Plan features</h3>' +
            planFeaturesData +
            '<div></div><div></div><div></div></div><div class="greyBorder"></div><div><h3 class="margin10 noSideMargin ev-font15" aria-label="plan perks" style="margin-top: 16px; font-size: 15px !important;">Plan perks</h3>' +
            planPerksData +
            '<div></div></div><div id="plan-container-btns" class="row ev-planContainerBtnsAlignment"><div class="col-xs-6 col-md-6"><div style="padding-right:6px;"><button id="select-plan" analyticstrack="aria-label" aria-label="Select Plan' +
            plan.planName +
            '" class="' +
            evDisableSelect +
            ' button secondary m-view-selectPlan" type="button" role="button" plan=' +
            plan.planSkuId +
            evDisableSelectProp +
            '>Select Plan</button></div></div><div class="col-xs-6 col-md-6"><div><button analyticstrack="aria-label" aria-label="Plan Details' +
            plan.planName +
            '" class="button secondary m-view-selectPlan" type="button" role="button" id="plan-details" plan=' +
            plan.planSkuId +
            ">Plan Details</button></div></div></div></div></div></div></div></div>";
        }
      );

      planContainerContent += "</div>";

      //add new structure for displaying plans
      var eMobAddTabs = document.querySelector("div.col-xs-12.mobileMode");
      eMobAddTabs !== null && eMobAddTabs.insertAdjacentHTML("beforeend", planContainerContent);

      //click event for selecting plan
      $(document).on("click", "#select-plan", function (e) {
        //code for saving scroll position
        let path = window.location.pathname;
        let y = $("html").scrollTop();
        window.sessionStorage.setItem("scrollPosition_" + path, y.toString());

        var selectedPlanSkuId = $(this).attr("plan");
        var selectedPlan = window._evolv_5g_planJson.payload.pageData.lines[0].compatiblePlans.find(
          (plan) => {
            return plan.planSkuId === selectedPlanSkuId;
          }
        );

        $('[aria-label="' + selectedPlan.planName + '"]').trigger("click");
        setTimeout(function (event) {
          $('[analyticstrack="select-plan-mobile"]').trigger("click");
        }, 50);
      });
      //click event for selecting plan details
      $(document).on("click", "#plan-details", function (e) {
        //code for saving scroll position
        let path = window.location.pathname;
        let y = $("html").scrollTop();
        window.sessionStorage.setItem("scrollPosition_" + path, y.toString());

        var selectedPlanSkuId = $(this).attr("plan");
        var selectedPlan = window._evolv_5g_planJson.payload.pageData.lines[0].compatiblePlans.find(
          (plan) => {
            return plan.planSkuId === selectedPlanSkuId;
          }
        );

        $('[aria-label="' + selectedPlan.planName + '"]').trigger("click");
        setTimeout(function (event) {
          $('[analyticstrack="see-plan-details"]').trigger("click");
        }, 50);
      });
    }

    //6.Make background color grey
    var element3 = document.querySelectorAll("#content > div[class=row]");

    for (var i = 0; i < element3.length; i++) {
      element3[i] && element3[i].classList.add("ev-addBackgroundColorMobile");
    }

    //1.hide tabs panel
    var eMob1 = document.querySelector(
      "div.col-xs-12.mobileMode > div.tabpanel"
    );
    if (eMob1 !== null) {
      eMob1 && eMob1.classList.add("ev-hideLink");
    }
    //hiding existing select button
    var mobHideBottonBtn = document.querySelector("div.m-view-footer");
    if (mobHideBottonBtn !== null) {
      mobHideBottonBtn.classList.add("ev-hideLink");
    }
    if ($(".ev-event-handler-ran-un3333").length === 0) {
      $(
        document.querySelector(
          'div.col-xs-12.mobileMode > div.tabpanel > ul >li[id="compare-all-plan"] > a'
        )
      ).addClass("ev-event-handler-ran-un3333");
      document
        .querySelector(
          'div.col-xs-12.mobileMode > div.tabpanel > ul >li[id="compare-all-plan"] > a'
        )
        .addEventListener("click", function (event) {
          document
            .querySelector('button[analyticstrack="select-compare-plans"]')
            .click();
        });
    }

    var eMob1a = document.querySelectorAll(
      "div.col-xs-12.mobileMode > div.tabpanel > ul > li"
    );
    for (i = 0; i < eMob1a.length > 0; i++) {
      eMob1a[i].classList.add("tabHeaderWidth");
    }

    var eMob1b = document.querySelector(
      "div.col-xs-12.mobileMode > div.tabpanel > ul"
    );
    eMob1b !== null && eMob1b.classList.add("ev-tabPanelBackground");
    eMob1b !== null && eMob1b.classList.add("removeTabHeaderSpacing");

    var eMob1c = document.querySelectorAll(
      "div.m-slider-tile.m-red.mob-view.floatLeft"
    );

    for (i = 0; i < eMob1c.length > 0; i++) {
      eMob1c[i] &&
        eMob1c[i].classList.add("ev-planContainerMarginBottomMobile");
    }

    var eMob2 = document.querySelector(
      'div.col-xs-12.mobileMode > div[class="tabpanel"] > div > div > div'
    );
    var eMob2p = document.querySelector(
      'div.col-xs-12.mobileMode > div[class="tabpanel"] > div > div >div'
    );

    eMob2p !== null && eMob2p.classList.add("ev-allPlansIncludeMarginTop");
    if (eMob2p !== null) {
      eMob2.innerHTML =
        '<div class="mobilrAllplanincludes" style=" background-color: rgb(246, 246, 246); width: 110%; margin-left: -16px;"><div style="display: inline-flex;"><h3 class="margin10 noSideMargin" style="margin-left:20px;width: 50vw;font-size: 15px;" aria-label="all plans include">All plans include</h3><button analyticstrack="view-details" class="customButton fontDisplayBold seeDetailsLink" style="font-size: 11px;margin-left: 0%;padding-left: 17%;/* line-height: 52px; */width: 50vw;text-decoration: underline;">View details</button></div><ul style="line-height:20px; font-size:13px;"><li aria-label="Unlimited talk, text, &amp; data" style="font-size: 13px; line-height: 2;"> <span>Unlimited talk, text, &amp; data</span> </li><li aria-label="Mexico &amp; Canada talk, text, &amp; data" style="font-size: 13px; line-height: 2;"> <span>Mexico &amp; Canada talk, text, &amp; data</span> </li><li aria-label="International texting" style="font-size: 13px; line-height: 2;"> <span>International texting</span> </li><li aria-label="Verizon Up rewards" style="font-size: 13px; line-height: 2;"> <span>Verizon Up rewards</span> </li></ul>';
    }
    //3.Remove spacing above plan
    var eMob3 = document.querySelector(
      "div.col-xs-12.mobileMode > div.tabpanel > div > div > div"
    );
    eMob3 !== null && eMob3.classList.add("removePlanTileHeaderSpace");

    //4. Remove spacing near the tab header
    var eMob4 = document.querySelector(
      "div.col-xs-12.mobileMode > div.tabpanel > ul"
    );
    eMob4 !== null && eMob4.classList.add("removeTabHeaderSpacing");

    //7. add padding left for all elements inside the plancontainer
    var eMob7 = document.querySelectorAll(
      "div.m-slider-tile.m-red.mob-view.floatLeft.positionRelative.plan_0 > div"
    );

    for (var i = 0; i < eMob7.length; i++) {
      eMob7[i] && eMob7[i].classList.add("planContainerPaddingLeft");
    }
    var eMob7a = document.querySelectorAll(
      "div.m-slider-tile.m-red.mob-view.floatLeft.positionRelative.plan_0 > div.flex.planName.mob-view"
    );
    for (var i = 0; i < eMob7a.length; i++) {
      if (
        document.querySelectorAll(
          "div.m-slider-tile.m-red.mob-view.floatLeft.positionRelative.plan_0 > div.flex.planName.mob-view"
        )[i].childNodes[0].innerText === "Just Kids"
      ) {
        eMob7a[i] && eMob7a[i].classList.add("ev-planTileHeaderMobJustKids");
      } else {
        eMob7a[i] && eMob7a[i].classList.add("ev-planTileHeaderMob");
      }
    }

    var eMob7b = document.querySelectorAll(
      "div.m-slider-tile.m-red.mob-view.floatLeft.positionRelative.plan_0 > div > h2"
    );
    for (var i = 0; i < eMob7b.length; i++) {
      eMob7a[i] && eMob7b[i].classList.add("ev-font25");
    }
    //8.add padding for dividers
    var eMob8 = document.querySelectorAll("div.planTile_divider");
    for (var i = 0; i < eMob8.length; i++) {
      eMob8[i] && eMob8[i].classList.add("planContainerMarginLeft");
      eMob8[i] && eMob8[i].classList.add("planContainerMarginRight");
    }

    var eMob9 = document.querySelectorAll(
      "div.planIncludes.m-view > div > div.greyBorder"
    );
    for (var i = 0; i < eMob9.length; i++) {
      eMob9[i] && eMob9[i].classList.add("planContainerMarginRight");
    }
    //10.add background and remove padding
    var eMob11 = document.querySelector(
      '#app > div > div > div[class="row"] > div.col-xs-12.grid'
    );
    eMob11 !== null && eMob11.classList.add("ev-addBgColor");

    //11.add padding and background  for upper div
    var eMob12 = document.querySelector("div.fiveGheader.pad48.onlyTopPad.row");
    eMob12 !== null && eMob12.classList.add("ev-upperElementBackground");
    eMob12 !== null && eMob12.classList.add("ev-upperElementPaddingTop");

    var eMob12a = document.querySelector(
      "div.fiveGheader.pad48.onlyTopPad.row > div > h1"
    );
    eMob12a !== null && eMob12a.classList.add("ev-upperElementPaddingHeader");
    // var eMob12a1 = document.querySelector('div.fiveGheader.pad48.onlyTopPad.row > div > h1 > span.displayBlock');

    // eMob12a1.innerText='for this line';
    if ($(".ev-text-change-ran-un2222").length === 0) {
      $(
        document.querySelector(".headerIncludes .subHeading span:nth-child(1)")
      ).addClass("ev-text-change-ran-un2222");
      if (document.querySelector(".headerIncludes .subHeading span:nth-child(1)") !== null) {
        document.querySelector(".headerIncludes .subHeading span:nth-child(1)").textContent =
          "Enroll in paper-free billing and Auto Pay to save an additional $10/mo on these plans.";
      }
    }

    document
      .querySelector(".headerIncludes .subHeading")
      .classList.add("ev-EnrollPadding");

    var eMob12c = document.querySelector(
      "div.fiveGheader.pad48.onlyTopPad.row > div > div > div > div > p.fontSize_14Capri"
    );
    eMob12c !== null && eMob12c.classList.add("ev-upperElementPadding");
    eMob12c !== null && eMob12c.classList.add("ev-fiveGBuiltRightPadding");
    eMob12c !== null && eMob12c.classList.add("ev-font13");

    var eMob12c5G = document.querySelector(
      "div.fiveGheader.pad48.onlyTopPad.row > div > div > div > div > p.fontSize_14Capri > p.subHeading"
    );

    eMob12c5G !== null && eMob12c5G.classList.add("ev-font13");

    var eMob12c1 = document.querySelectorAll(
      "div.fiveGheader.pad48.onlyTopPad.row > div > div > div > div > br"
    );

    for (var u = 0; u < eMob12c1.length; u++) {
      eMob12c1[u] !== null && eMob12c1[u].classList.add("ev-hideLink");
    }

    var eMob12d = document.querySelector(
      "div.fiveGheader.pad48.onlyTopPad.row > div > div > div > div"
    );
    eMob12d !== null && eMob12d.classList.add("ev-upperElementRemovePadding");

    //12. add padding for tabs
    var eMob13 = document.querySelector("div.col-xs-12.mobileMode");
    eMob13 !== null && eMob13.classList.add("planContainerPaddingLeft");
    eMob13 !== null && eMob13.classList.add("planContainerPaddingRight");

    //13.add padding for bottom elements
    var eMob14 = document.querySelector("div.pad20.onlyBottomPad.row");
    eMob14 !== null && eMob14.classList.add("planContainerPaddingLeft");
    eMob14 !== null && eMob14.classList.add("planContainerPaddingRight");

    //14.add padding for bottom elements
    var eMob15 = document.querySelector("div.planContainer > div:last-of-type");
    eMob15 !== null && eMob15.classList.add("planContainerPaddingLeft");
    eMob15 !== null && eMob15.classList.add("planContainerPaddingRight");

    // //15.Remove padding above tab pannel
    var eMob16 = document.querySelector(
      'div.planContainer > div[class=""] > div'
    );
    eMob16 !== null && eMob16.classList.add("ev-seeShared");

    if ($(".ev-event-handler-ran-un3334").length === 0) {
      $(
        document.querySelector('button[analyticstrack="see-other-data-plans"]')
      ).addClass("ev-event-handler-ran-un3334");
      if (document.querySelector('button[analyticstrack="see-other-data-plans"]') !== null) {
        document
          .querySelector('button[analyticstrack="see-other-data-plans"]')
          .addEventListener("click", function (event) {
            //code for saving scroll position
            let path = window.location.pathname;
            let y = $("html").scrollTop();
            window.sessionStorage.setItem("scrollPosition_" + path, y.toString());

            window.localStorage.setItem("seeOtherDataPlansClicked", true);
          });
      }
    }

    var eMob20 = document.querySelector("#content > div > div > h1");

    eMob20 !== null && eMob20.classList.add("ev-font25");
    eMob20 !== null && eMob20.classList.add("ev-lineHeight25");

    var eMobLegalText =
      '<div class="ev-plan-legal1-un2222"><ol><li style="display:flex;"><p>1.</p> <p class="pad10 onlyLeftPad">Auto Pay and paper-free billing are required to get the discount. You can get Auto Pay by signing up online or on the phone with your bank account, debit card or Verizon Visa Card. Your discount will be applied each month as long as Auto Pay and paper-free billing stay active. </p></li><li class="margin10 onlyTopMargin" style="display:flex"><p>2.</p> <p class="pad10 onlyLeftPad"><b>5G Ultra Wideband available only in parts of select cities.</b> 5G Ultra Wideband access requires a 5G-capable device inside the 5G Ultra Wideband coverage area.  5G Ultra Wideband (UW) access included with Get More Unlimited, Do More Unlimited and Play More Unlimited plans; or Start Unlimited plan for $10/mo. Downloads over 5G UW. Depending on location, uploads over 5G UW or 4G LTE; uploads over 4G LTE will not count towards your 4G LTE data allowance.</p></li><li class="margin10 onlyTopMargin" style="display:flex"><p>3.</p> <p class="pad10 onlyLeftPad"><b>5G Nationwide available in 2,700+ cities.</b>  5G Nationwide access requires a 5G Nationwide–capable device.</p></li><li class="margin10 onlyTopMargin" style="display:flex"><p>4.</p> <p class="pad10 onlyLeftPad">50 GB of 5G Nationwide / 4G LTE premium data per month. Plus 720p HD streaming when you activate it in your plan settings. In times of congestion, your data may be temporarily slower than other traffic after exceeding 50 GB/mo/line.</p></li><li class="margin10 onlyTopMargin" style="display:flex"><p>5.</p> <p class="pad10 onlyLeftPad">Mobile hotspot usage counts towards Premium Network Access data allotment.</p></li><li class="margin10 onlyTopMargin ev-hideLegal6"><p>6.</p> <p class="pad10 onlyLeftPad">Global claim from May 2020, based on Opensignal independent analysis of mobile measurements recorded during the period January 31 – April 30, 2020 © 2021 Opensignal Limited.</p></li></ol></div>';

    var eMobPlanViewLegal = document.querySelector(
      "div.mmCapri.planListView_legalText"
    );
    if ($(".ev-plan-legal1-un2222").length === 0 && eMobPlanViewLegal !== null) {
      eMobPlanViewLegal.innerHTML = eMobLegalText;
    }
    eMobPlanViewLegal !== null && eMobPlanViewLegal.classList.add("ev-font12");

    //5G Built Right
    if ($(".ev-plan-control-ran").length === 0) {
      var controlSpan = document.createElement("span");
      controlSpan !== null && controlSpan.classList.add("ev-controlSpan");
      controlSpan !== null && controlSpan.classList.add("ev-plan-control-ran");
      $("div.subHeading .onlyMobile").addClass("ev-font13");
      document
        .querySelectorAll("div.subHeading .onlyMobile")[0]
        .childNodes[1].after(controlSpan);
      document.querySelectorAll(
        "div.subHeading .onlyMobile"
      )[0].childNodes[1].textContent = "";
      $(controlSpan).append(
        "All plans include access to our 5G Nationwide network<br><span>When combined with 5G Ultra Wideband—the fastest 5G</span><br><span>in the world</span><sup>6</sup><span> — you'll get our absolute best performance. </span><sup>2</sup>"
      );
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[0].after(document.createElement("br"));
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[1].after(document.createElement("span"));
      // document.querySelectorAll(
      //   "div.subHeading .onlyMobile .ev-controlSpan"
      // )[0].childNodes[2].textContent =
      //   "When combined with 5G Ultra Wideband—the fastest 5G";
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[2].after(document.createElement("br"));
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[3].after(document.createElement("span"));
      // document.querySelectorAll(
      //   "div.subHeading .onlyMobile .ev-controlSpan"
      // )[0].childNodes[4].textContent = "in the world";
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[4].after(document.createElement("sup"));
      // document.querySelectorAll(
      //   "div.subHeading .onlyMobile .ev-controlSpan"
      // )[0].childNodes[5].textContent = "6";
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[5].after(document.createElement("span"));
      // document.querySelectorAll(
      //   "div.subHeading .onlyMobile .ev-controlSpan"
      // )[0].childNodes[6].textContent =
      //   "— you'll get our absolute best performance.";
      // document
      //   .querySelectorAll("div.subHeading .onlyMobile .ev-controlSpan")[0]
      //   .childNodes[6].after(document.createElement("sup"));
      // document.querySelectorAll(
      //   "div.subHeading .onlyMobile .ev-controlSpan"
      // )[0].childNodes[7].textContent = "2";

      document.querySelectorAll("div.subHeading .onlyMobile")[0]
        .childNodes[3] &&
        document
          .querySelectorAll("div.subHeading .onlyMobile")[0]
          .childNodes[3].classList.add("ev-hideText");
    }
  }

  // ****************** MODAL CODE *****************//

  if ($("#modal-plans-5g-clarity").length === 0) {
    // $('body').append(
    $("#app").after(
      '<div class="modal-5g-clarity-wrapper override-1 override-2 override-3"><div><div id="modal-plans-5g-clarity" data-ev-tab="faq"><div class="positionAbsolute ev-close-modal-wrapper"> <button type="button" role="button" analyticstrack="modalCloseIcon" id="ev-close-modal-desktop" aria-label="modal overlay close button" class="closeButton floatRight iconForDesktop"> <svg xmlns="http://www.w3.org/2000/svg" focusable="false" width="28" height="28" viewBox="0 0 36 36"><path fill="#747676" stroke-width="2px" fill-rule="nonzero" d="M35.463 2.213L33.787.537 18 16.322 2.213.537.537 2.213 16.322 18 .537 33.787l1.676 1.676L18 19.678l15.787 15.785 1.676-1.676L19.678 18z"></path></svg> </button> <button type="button" role="button" analyticstrack="modalCloseIcon" id="ev-close-modal-mobile" aria-label="modal overlay close button" class="closeButton floatRight iconForMobile"> <svg xmlns="http://www.w3.org/2000/svg" focusable="false" width="28" height="28" viewBox="0 0 36 36"><path fill="#747676" stroke-width="2px" fill-rule="nonzero" d="M35.463 2.213L33.787.537 18 16.322 2.213.537.537 2.213 16.322 18 .537 33.787l1.676 1.676L18 19.678l15.787 15.785 1.676-1.676L19.678 18z"></path></svg> </button></div><div class="ev-tab-menu"><ul><li class="ev-tab-link ev-tab-faq-link" data-ev-tab-select="faq" analyticstrack="aria-label" aria-label="Top 5G FAQs tab"> <a href="#faq"> Top 5G FAQs </a></li><li class="ev-tab-link ev-tab-map-link" data-ev-tab-select="map" analyticstrack="aria-label" aria-label="5G coverage map tab"> <a href="#map"> 5G coverage map </a></li><li class="ev-tab-link ev-tab-experiences-link" data-ev-tab-select="experiences" analyticstrack="aria-label" aria-label="5G experiences tab"> <a href="#experiences"> 5G experiences </a></li></ul></div><div class="ev-modal-content"><div class="ev-tab-content ev-tab-faq"><h2>Top 5G FAQs</h2><div class="ev-hr"></div><div class="ev-collapsible-sections"> <section class="ev-section-closed"><h3 class="ev-section-heading" analyticstrack="aria-label" aria-label="what is the difference between 5g ultra wideband and 5g nationwide">What is the difference between 5G Ultra Wideband and 5G Nationwide?</h3><div class="ev-section-content"><p> The 5G Ultra Wideband network uses the high-band, ultra-wide millimeter wave spectrum to deliver our best 5G experience available today. Think of 5G Ultra Wideband like an incredibly wide, superfast highway, with millions of trucks traveling inches apart from one another at breakneck speeds. The ultrafast speeds and reduced lag time (latency) can provide smartphones with new capabilities for activities like multi-player gaming on the go, streaming 4K 2 movies and video chatting in HD. And with its massive bandwidth, 5G Ultra Wideband will be able to support many more devices of the future in the Internet of Things.</p><p> 5G Nationwide, meanwhile, uses a different, low-band spectrum that involves dynamic spectrum sharing (DSS). DSS is a technology that allows 5G service to run simultaneously with 4G LTE on multiple spectrum bands. With DSS, whenever customers move outside Verizon’s high-band Ultra Wideband coverage area, their 5G-enabled devices will remain on 5G technology using the lower bands. By deploying both technologies together, Verizon is able to use its full portfolio of current spectrum resources to serve both 4G and 5G customers, maximizing their customers’ 5G experiences on the Verizon network.</p></div> </section> <section class="ev-section-closed"><h3 class="ev-section-heading" analyticstrack="aria-label" aria-label="do i need to pay extra for 5g, what plans have 5g">Do I need to pay extra for 5G? What plans have 5G?</h3><div class="ev-section-content"><p> All of our plans include access to our 5G Nationwide network. And, in addition, Play More, Do More, and Get More Unlimited plans include access to 5G Ultra Wideband. And when you have 5G Nationwide combined with 5G Ultra Wideband 	&mdash; with the fastest 5G in the world* 	&mdash; you\'ll get our absolute best performance.**</p><p class="ev-legal"> * Global claim from May 2020, based on Opensignal independent analysis of mobile measurements recorded during the period January 31-April 30, 2020 © 2020 Opensignal Limited.</p><p class="ev-legal"> ** <b>5G Nationwide available in 2,700+ cities.</b> 5G Nationwide access requires a 5G Nationwide–capable device. <b>5G Ultra Wideband available only in parts of select cities.</b> 5G Ultra Wideband access requires a 5G--capable device inside the 5G Ultra Wideband coverage area. 5G Ultra Wideband (UW) access included with Get More Unlimited, Do More Unlimited and Play More Unlimited plans; or Start Unlimited plan for $10/mo. Downloads over 5G UW. Depending on location, uploads over 5G UW or 4G LTE; uploads over 4G LTE will not count towards your 4G LTE data allowance.</p></div> </section> <section class="ev-section-closed"><h3 class="ev-section-heading" analyticstrack="aria-label" aria-label="where is 5g available">Where is 5G available?</h3><div class="ev-section-content"><p> We said we\'d lead on 5G, and we are. Verizon launched the world’s first 5G mobile network with a commercially available 5G-enabled smartphone, the 5G moto mod. Right now, you can find the Verizon 5G Ultra Wideband network in parts of dozens of major cities including Los Angeles, Denver, Phoenix, Dallas, Houston, Chicago, Boston, Washington DC &mdash; <a href="#go-to-map" class="ev-map-faq-link" analyticstrack="aria-label" aria-label="visit our 5G coverage map">visit our 5G coverage map for the full list.</a> In addition, you can browse to see our 5G Nationwide coverage.</p><p> Don\'t see your city? More 5G Ultra Wideband cities are coming soon, and in fact by the end of 2020, over 60 cities in the U.S. will have 5G Ultra Wideband. Come back often to see updates.</p></div> </section> <section class="ev-section-closed"><h3 class="ev-section-heading" analyticstrack="aria-label" aria-label="what phones support 5g">What phones support 5G?</h3><div class="ev-section-content"><p> We said we would lead on 5G, and we are. We were the first in the world to enable a commercial 5G mobile network with a commercially-available smartphone, the 5G moto mod. We currently provide the most 5G devices available on any 5G network. And we’re committed to continuing to offer you the latest, most advanced models as we expand our 5G footprint nationwide.</p><p> <a href="https://www.verizon.com/shop/online/5g-cell-phones/" analyticstrack="aria-label" aria-label="View our 5g-capable phones link">View our 5G-capable smartphones.</a></p></div> </section></div></div><div class="ev-tab-content ev-tab-map"><h2>Explore 4G LTE and 5G network coverage in your area</h2> <iframe id="vz-map" class="ev-modal-map-iframe" title="Explore 4G LTE and 5G network coverage in your area" src="https://gismaps.verizon.com/map4/?viewName=ui_fiveg&amp;token=kxkm4wMaR6BM2xU7kQ7R+ybRo5galzYFZ2b7NgQxZYEHjeE/Yv91f" allow="geolocation https://gismaps.verizon.com;"></iframe></div><div class="ev-tab-content ev-tab-experiences" data-ev-carousel-slide-number=1 data-ev-carousel-slide-max=5><div class="ev-hero-block"><h1 class="ev-hero-heading"> <span class="ev-hero-5G"><svg id="Artwork" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 363.8 216"><polygon points="347.87 0 308.55 84.33 293.69 52.32 277.63 52.32 302.03 104.65 315 104.65 363.8 0 347.87 0" style="fill:#d52b1e"/><path d="M357,320.38q-17.22,0-30.85-5.82A69.42,69.42,0,0,1,302.43,298a77.37,77.37,0,0,1-16-26.83A100.09,100.09,0,0,1,281,237.42a96.67,96.67,0,0,1,6.15-35A77.56,77.56,0,0,1,304.67,175a71.52,71.52,0,0,1,23.7-15.66q13.63-5.58,31.08-5.59a91.23,91.23,0,0,1,27.73,3.92,64,64,0,0,1,21.24,11.18,56.65,56.65,0,0,1,14.42,17.55,72.71,72.71,0,0,1,7.49,22.81H391.87a29,29,0,0,0-10.06-16.33q-7.83-6.48-21-6.48a37,37,0,0,0-17.33,3.91,35.21,35.21,0,0,0-12.41,10.74,48.14,48.14,0,0,0-7.37,16.1,78.32,78.32,0,0,0-2.46,20.23A71.15,71.15,0,0,0,324,257.77,50.57,50.57,0,0,0,332,274a36.07,36.07,0,0,0,12.63,10.62,36.68,36.68,0,0,0,16.88,3.8,38.88,38.88,0,0,0,14-2.35A33.27,33.27,0,0,0,386,279.79a30.55,30.55,0,0,0,6.93-8.94,31.11,31.11,0,0,0,3.24-10.4V260h-30V230.94h66.63V316.8H405.07l-2.24-19.23h-.45q-7.83,12.3-19.34,17.55A62.13,62.13,0,0,1,357,320.38Zm-145.79.22a95.14,95.14,0,0,1-25.38-3.24,62.41,62.41,0,0,1-20.57-9.73,51.91,51.91,0,0,1-14.42-16.21A56.25,56.25,0,0,1,143.9,269h38q2,10.51,9.84,15.54a33.6,33.6,0,0,0,18.56,5q12.08,0,19-7.71t6.93-20q0-12.51-7.05-19.45t-18.89-6.93a32.67,32.67,0,0,0-13.86,2.79,22.26,22.26,0,0,0-9.17,7.27H150.83l16.1-88.55h98.83v30.86H194.21l-5.81,30h.44q4.47-4.47,12.75-7.37a57.86,57.86,0,0,1,19.23-2.91,60.1,60.1,0,0,1,21.58,3.8,51.53,51.53,0,0,1,17.33,10.84,50.55,50.55,0,0,1,11.62,17.11A58.19,58.19,0,0,1,275.6,262a59.7,59.7,0,0,1-4.69,24.15,54.37,54.37,0,0,1-13.09,18.44,57,57,0,0,1-20.34,11.85A79.94,79.94,0,0,1,211.2,320.6Z" transform="translate(-143.9 -104.6)" style="fill:#fff"/></svg></span> <span class="ev-heading-highlight ev-slide ev-slide-1">gaming</span> <span class="ev-heading-highlight ev-slide ev-slide-2">journalism</span> <span class="ev-heading-highlight ev-slide ev-slide-3">AR</span> <span class="ev-heading-highlight ev-slide ev-slide-4">adventure</span> <span class="ev-heading-highlight ev-slide ev-slide-5">exploring</span> <span class="ev-heading-end">just got <br> real.</span></h1><h2 class="ev-below-heading"> iPhone 12 Pro with 5G meets Verizon 5G Ultra Wideband.</h2><div class="ev-hero-shot ev-slide ev-slide-1"><div class="ev-hero-shot-image"><img src="https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-Wild-Rift?scl=1&$pngalpha$"/></div><h3 class="ev-hero-shot-caption-heading"> League of Legends:<br/> Wild Rift</h3><p class="ev-hero-shot-caption"> 5G Ultra Wideband and the A14 Bionic chip level up your game.</p></div><div class="ev-hero-shot ev-slide ev-slide-2"><div class="ev-hero-shot-image"><img src="https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-NYT?scl=1&$pngalpha$"/></div><h3 class="ev-hero-shot-caption-heading"> From Here<br/> The New York Times</h3><p class="ev-hero-shot-caption"> Verizon 5G Ultra Wideband lets you experience stories from around the world.</p></div><div class="ev-hero-shot ev-slide ev-slide-3"><div class="ev-hero-shot-image"><img src="https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-Snapchat?scl=1&$pngalpha$"/></div><h3 class="ev-hero-shot-caption-heading"> Snapchat<br/></h3><p class="ev-hero-shot-caption"> Verizon 5G Ultra Wideband lets you explore and share thousands of Snapchat Lenses with more detail than ever before.</p></div><div class="ev-hero-shot ev-slide ev-slide-4"><div class="ev-hero-shot-image"><img src="https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-Red-Bull?scl=1&$pngalpha$"/></div><h3 class="ev-hero-shot-caption-heading"> Red Bull TV<br/></h3><p class="ev-hero-shot-caption"> Verizon 5G Ultra Wideband gives you new ways to experience adventures and events from around the world.</p></div><div class="ev-hero-shot ev-slide ev-slide-5"><div class="ev-hero-shot-image"><img src="https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-AllTrails?scl=1&$pngalpha$"/></div><h3 class="ev-hero-shot-caption-heading"> AllTrails<br/></h3><p class="ev-hero-shot-caption"> Verizon 5G Ultra Wideband lets you quickly download trail guides for every type of adventure, whereever you\'re headed.</p></div><div class="bottom-panel"><div class="ev-navigation-panel"> <button class="ev-previous-button" aria-label="Previous slide" class="VZAS-Button-No-Style"> <svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icons / Arrow / White</title> <g id="Re-organized-Concepts-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Modal-wCarousel-2of6-vertical-M" transform="translate(-41.000000, -605.000000)"> <g id="Carousel-Arrows" transform="translate(41.000000, 604.000000)" fill="#FFFFFF" fill-rule="nonzero"> <g id="Group" transform="translate(0.000000, 1.033333)"> <g id="Icons-/-Arrow-/-White" transform="translate(14.983333, 14.983333) rotate(180.000000) translate(-14.983333, -14.983333) "> <polygon id="Combined-Shape" transform="translate(14.983333, 14.983333) rotate(-270.000000) translate(-14.983333, -14.983333) " points="-4.84235429e-15 15.1176401 1.34824561 16.4778171 14.0302339 3.68702065 14.0302339 29.9666667 15.9364327 29.9666667 15.9364327 3.68702065 28.6184211 16.4778171 29.9666667 15.1176401 14.9833333 5.32907052e-15"></polygon> </g> </g> </g> </g> </g> </svg> </button><div class="navigation-page-indicator ev-slide ev-slide-1">1/5</div><div class="navigation-page-indicator ev-slide ev-slide-2">2/5</div><div class="navigation-page-indicator ev-slide ev-slide-3">3/5</div><div class="navigation-page-indicator ev-slide ev-slide-4">4/5</div><div class="navigation-page-indicator ev-slide ev-slide-5">5/5</div> <button class="ev-next-button" aria-label="Next slide" class="VZAS-Button-No-Style"> <svg width="31px" height="30px" viewBox="0 0 31 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icons / Arrow / White</title> <g id="Re-organized-Concepts-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Modal-wCarousel-2of6-vertical-M" transform="translate(-159.000000, -605.000000)"> <g id="Carousel-Arrows" transform="translate(41.000000, 604.000000)" fill="#FFFFFF" fill-rule="nonzero"> <g id="Icons-/-Arrow-/-White" transform="translate(118.833333, 1.033333)"> <polygon id="Combined-Shape" transform="translate(14.983333, 14.983333) rotate(-270.000000) translate(-14.983333, -14.983333) " points="2.00266415e-14 15.1176401 1.34824561 16.4778171 14.0302339 3.68702065 14.0302339 29.9666667 15.9364327 29.9666667 15.9364327 3.68702065 28.6184211 16.4778171 29.9666667 15.1176401 14.9833333 -7.10542736e-15"></polygon> </g> </g> </g> </g> </svg> </button></div></div></div></div></div></div></div></div>'
    );
    $(".ev-section-heading").append(
      '<div class="ev-plus-icon ev-desktop"><svg width="24px" height="25px" viewBox="0 0 24 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon id="Combined-Shape" points="12.6666667 1.2246468e-16 12.6666667 11.3333333 24 11.3333333 24 12.6666667 12.6653333 12.6666667 12.6666667 24 11.3333333 24 11.332 12.6666667 0 12.6666667 0 11.3333333 11.3333333 11.3333333 11.3333333 -1.2246468e-16"></polygon></svg></div><div class="ev-minus-icon ev-desktop"><svg width="24px" height="1px" viewBox="0 0 20 1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Re-organized-Concepts-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="ModalFaq---D---1open" transform="translate(-1106.000000, -494.000000)"><g id="Modal" transform="translate(1.000000, 50.000000)"><g id="Path" transform="translate(1103.000000, 433.000000)" stroke="#000000"><line x1="2" y1="11.5" x2="22" y2="11.5"></line></g></g></g></g></svg></div>'
    );
    $(".ev-section-heading").append(
      '<div class="ev-plus-icon ev-mobile"><svg width="18px" height="19px" viewBox="0 0 24 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon id="Combined-Shape" points="12.6666667 1.2246468e-16 12.6666667 11.3333333 24 11.3333333 24 12.6666667 12.6653333 12.6666667 12.6666667 24 11.3333333 24 11.332 12.6666667 0 12.6666667 0 11.3333333 11.3333333 11.3333333 11.3333333 -1.2246468e-16"></polygon></svg></div><div class="ev-minus-icon ev-mobile"><svg width="18px" height="1px" viewBox="0 0 20 1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Re-organized-Concepts-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="ModalFaq---D---1open" transform="translate(-1106.000000, -494.000000)"><g id="Modal" transform="translate(1.000000, 50.000000)"><g id="Path" transform="translate(1103.000000, 433.000000)" stroke="#000000"><line x1="2" y1="11.5" x2="22" y2="11.5"></line></g></g></g></g></svg></div>'
    );
    // https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-Wild-Rift?scl=1&$pngalpha$
    // https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-NYT?scl=1&$pngalpha$
    // https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-Snapchat?scl=1&$pngalpha$
    // https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-Red-Bull?scl=1&$pngalpha$
    // https://ss7.vzw.com/is/image/VerizonWireless/5G-Immersive-AppShowcase-AllTrails?scl=1&$pngalpha$

    // usage pattern : $('#modal-plans-5g-clarity').trigger("ev-modal:close");
    $("#modal-plans-5g-clarity").on("ev-modal:close", function () {
      $(".modal-5g-clarity-wrapper").removeClass("ev-shown");
      $("body").removeAttr("data-ev-modal-status");
    });
    // usage pattern : $('#modal-plans-5g-clarity').trigger("ev-modal:open", "map");
    $("#modal-plans-5g-clarity").on("ev-modal:open", function (event, tab) {
      $("body").attr("data-ev-modal-status", "open");
      $(".modal-5g-clarity-wrapper").addClass("ev-shown");
      if (["map", "faq", "experiences"].includes(tab)) {
        $("#modal-plans-5g-clarity").attr("data-ev-tab", tab);
      }
    });
    $("[analyticstrack=modalCloseIcon]").on("click touchend", function () {
      $("#modal-plans-5g-clarity").trigger("ev-modal:close");
    });
    $(".ev-tab-link").on("click touchend", function (event) {
      event.preventDefault();
      $("#modal-plans-5g-clarity").trigger(
        "ev-modal:open",
        $(this).attr("data-ev-tab-select")
      );
    });

    $(".ev-map-faq-link").on("click touchend", function (event) {
      event.preventDefault();
      $("#modal-plans-5g-clarity").trigger("ev-modal:open", "map");
    });

    // faq functionality
    $(".ev-section-heading").on("click touchend", function (event) {
      var section = $(this).parent("section");
      section.addClass("ev-transition");
      setTimeout(
        function (section) {
          if (section.hasClass("ev-transition")) {
            if (section.hasClass("ev-section-closed")) {
              section.removeClass("ev-section-closed");
              section.addClass("ev-section-open");
            } else {
              section.addClass("ev-section-closed");
              section.removeClass("ev-section-open");
            }
          }
          section.removeClass("ev-transition");
        },
        100,
        section
      );
    });
    $(".ev-previous-button").on("click touchend", function (event) {
      if (
        $("[data-ev-carousel-slide-number]").attr("data-ev-transitioning") !==
        "true"
      ) {
        $("[data-ev-carousel-slide-number]").attr(
          "data-ev-transitioning",
          "true"
        );
        //data-ev-carousel-slide-number=1 data-ev-carousel-slide-max=5
        var slide = parseInt(
          $("[data-ev-carousel-slide-number]").attr(
            "data-ev-carousel-slide-number"
          )
        );
        $(".ev-hero-shot.ev-slide-" + slide).addClass(
          "animate__animated animate__fadeOutRight"
        );

        setTimeout(function () {
          var slide = parseInt(
            $("[data-ev-carousel-slide-number]").attr(
              "data-ev-carousel-slide-number"
            )
          );

          var prevslide = slide;
          var maxSlide = parseInt(
            $("[data-ev-carousel-slide-number]").attr(
              "data-ev-carousel-slide-max"
            )
          );
          slide--;
          if (slide > maxSlide) {
            slide = 1;
          }
          if (slide < 1) {
            slide = maxSlide;
          }
          $("[data-ev-carousel-slide-number]").attr(
            "data-ev-carousel-slide-number",
            slide
          );
          $(".ev-hero-shot.ev-slide-" + prevslide).removeClass(
            "animate__animated animate__fadeOutRight"
          );

          $(".ev-hero-shot.ev-slide-" + slide).addClass(
            "animate__animated animate__fadeInLeft"
          );
        }, 250);
        setTimeout(function () {
          var slide = parseInt(
            $("[data-ev-carousel-slide-number]").attr(
              "data-ev-carousel-slide-number"
            )
          );

          $(".ev-hero-shot.ev-slide-" + slide).removeClass(
            "animate__animated animate__fadeInLeft"
          );
          $("[data-ev-carousel-slide-number]").attr(
            "data-ev-transitioning",
            "false"
          );
        }, 500);
      }
    });

    $(".ev-next-button").on("click touchend", function (event) {
      if (
        $("[data-ev-carousel-slide-number]").attr("data-ev-transitioning") !==
        "true"
      ) {
        $("[data-ev-carousel-slide-number]").attr(
          "data-ev-transitioning",
          "true"
        );

        var slide = parseInt(
          $("[data-ev-carousel-slide-number]").attr(
            "data-ev-carousel-slide-number"
          )
        );
        $(".ev-hero-shot.ev-slide-" + slide).addClass(
          "animate__animated animate__fadeOutLeft"
        );
        //data-ev-carousel-slide-number=1 data-ev-carousel-slide-max=5
        setTimeout(function () {
          var slide = parseInt(
            $("[data-ev-carousel-slide-number]").attr(
              "data-ev-carousel-slide-number"
            )
          );
          var prevslide = slide;
          var maxSlide = parseInt(
            $("[data-ev-carousel-slide-number]").attr(
              "data-ev-carousel-slide-max"
            )
          );
          slide++;
          if (slide > maxSlide) {
            slide = 1;
          }
          if (slide < 1) {
            slide = maxSlide;
          }
          $("[data-ev-carousel-slide-number]").attr(
            "data-ev-carousel-slide-number",
            slide
          );

          $(".ev-hero-shot.ev-slide-" + prevslide).removeClass(
            "animate__animated animate__fadeOutLeft"
          );

          $(".ev-hero-shot.ev-slide-" + slide).addClass(
            "animate__animated animate__fadeInRight"
          );
        }, 250);
        setTimeout(function () {
          var slide = parseInt(
            $("[data-ev-carousel-slide-number]").attr(
              "data-ev-carousel-slide-number"
            )
          );

          $(".ev-hero-shot.ev-slide-" + slide).removeClass(
            "animate__animated animate__fadeInRight"
          );
          $("[data-ev-carousel-slide-number]").attr(
            "data-ev-transitioning",
            "false"
          );
        }, 500);
      }
    });
  }

  // ****************** END OF MODAL CODE *****************//
  if (
    isMobile &&
    $(
      "div.m-slider-tile:contains('Start Unlimited') > div.planIncludes > div > div:not([class])"
    ).length > 0 &&
    $(
      "div.m-slider-tile:contains('Start Unlimited') > div.planIncludes.m-view > div > div:not([class]) > div:not([class])"
    ).length > 0 &&
    $(
      "div.m-slider-tile:contains('Just Kids') > div.planIncludes.m-view > div > div:not([class]) > div:not([class])"
    ).length > 0
  ) {
    $("body").trigger("ev-5g-plan-control:on");
    $("#app").addClass("ev-planControl");
  } else if (
    !isMobile &&
    $(
      "#content > div.fiveGheader > div + div.col-xs-12 > div.fiveGNationCopy"
    ).length > 0 &&
    $(
      "#content > div.fiveGheader > div + div.col-xs-12 > div.fiveGNationCopy > .subHeading"
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Play More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features"
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Do More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features"
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Get More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features"
    ).length > 0 &&
    $(
      'div.planTileListCapri:contains("Just Kids")'
    ).length > 0 &&
    $(
      'div.planTileListCapri:contains("Pick an Unlimited plan for your first line, then get Just Kids on another.") > h2'
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Play More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')"
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Do More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')"
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Get More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')"
    ).length > 0 &&
    $(
      "div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('Unlimited talk & text to 20 contacts')"
    ).length > 0
  ) {
    $("body").trigger("ev-5g-plan-control:on");
    $("#app").addClass("ev-planControl");
  }
}

//**************API CALL TO GET PLAN DATA ******************//
window._evolv_5g_interval = null;

function conditionalStart() {
  if (window._evolv_5g_interval === null) {
    window._evolv_5g_interval = setInterval(
      function (startControl) {
        if (
          $(".fiveGheader").length > 0 &&
          $('[role="tablist"]').length > 0 &&
          ($('[aria-label="All plans include"]').length > 0 ||
            $('[aria-label="all plan includes"]').length > 0) &&
          ($(".m-list").length > 0 || $(".m-slider-tile").length > 0) &&
          $(".planTileList_price").length > 0 &&
          ($(".capriPlanFooter").length > 0 ||
            $(".planListView_legalText").length > 0)
          && typeof window._evolv_5g_planJson === 'object' 
          && window._evolv_5g_planJson !== null
          && window._evolv_5g_planJson.hasOwnProperty("payload")
          && window._evolv_5g_planJson.payload.hasOwnProperty("pageData")
          && window._evolv_5g_planJson.payload.pageData.hasOwnProperty("lines")
        ) {
          startControl();
          clearInterval(window._evolv_5g_interval);
          window._evolv_5g_interval = null;
        }
      },
      50,
      startControl
    );

    setTimeout(function () {
      clearInterval(window._evolv_5g_interval);
      window._evolv_5g_interval = null;
    }, 20000);
  }
}

//********Device First Flow*********//
if (
  typeof planJson !== 'undefined' &&
  planJson.payload &&
  planJson.payload.sessionData &&
  planJson.payload.sessionData.lines &&
  planJson.payload.sessionData.lines.length > 0 &&
  planJson.payload.sessionData.lines &&
  planJson.payload.sessionData.lines[0].deviceInfo
) {
  var csrfknVal = document.cookie.substr(document.cookie.indexOf("p_csrftkn="));
  csrfknVal = csrfknVal.substr(0, csrfknVal.indexOf(";"));
  csrfknVal = csrfknVal.substr(csrfknVal.indexOf("=") + 1);
  $.ajax({
    url:
      "https://www.verizon.com/onedp/api/plans?sorSkuId=" +
      planJson.payload.sessionData.lines[0].deviceInfo.deviceSorId,
    type: "POST",
    contentType: "application/json;charset=UTF-8",
    dataType: "json",
    headers: { "p-csrf-token": csrfknVal },
    data: JSON.stringify({
      lines: [
        {
          lineNum: 1,
          deviceLineItemId:
            planJson.payload.sessionData.lines[0].deviceInfo.deviceLineItemId,
          retrievePlans: true,
        },
      ],
    }),
  }).then(function (response) {
    window._evolv_5g_planJson = response;
    conditionalStart();
  });
}

//********Plan First Flow*********//
if (typeof planJson !== 'undefined' && planJson.payload.pageData && planJson.payload.pageData.planFirstFlow) {
  var csrfknVal = document.cookie.substr(document.cookie.indexOf("p_csrftkn="));
  csrfknVal = csrfknVal.substr(0, csrfknVal.indexOf(";"));
  csrfknVal = csrfknVal.substr(csrfknVal.indexOf("=") + 1);
  $.ajax({
    url: "https://www.verizon.com/onedp/api/plans",
    type: "POST",
    contentType: "application/json;charset=UTF-8",
    dataType: "json",
    headers: { "p-csrf-token": csrfknVal },
    data: JSON.stringify({
      lines: [
        {
          lineNum: 1,
          deviceLineItemId: "",
          retrievePlans: "true",
          deviceCategoryType: "Phone",
          deviceType: "Smartphone",
        },
      ],
    }),
  }).then(function (response) {
    window._evolv_5g_planJson = response;
    conditionalStart();
  });
}

$(document).on("click", "#list-view-tab", function (e) {
  conditionalStart();
});

//****code for returning from compare plans and on click of plan view ******//
$(document).on(
  "click",
  "[analyticstrack=back-to-unlimited-plans-from-compare]",
  function (e) {
    //**************API CALL TO GET PLAN DATA ******************//
    //********Device First Flow*********//
    if (
      typeof planJson !== 'undefined' &&
      planJson.payload &&
      planJson.payload.sessionData &&
      planJson.payload.sessionData.lines &&
      planJson.payload.sessionData.lines.length > 0 &&
      planJson.payload.sessionData.lines &&
      planJson.payload.sessionData.lines[0].deviceInfo
    ) {
      var csrfknVal = document.cookie.substr(
        document.cookie.indexOf("p_csrftkn=")
      );
      csrfknVal = csrfknVal.substr(0, csrfknVal.indexOf(";"));
      csrfknVal = csrfknVal.substr(csrfknVal.indexOf("=") + 1);
      $.ajax({
        url:
          "https://www.verizon.com/onedp/api/plans?sorSkuId=" +
          planJson.payload.sessionData.lines[0].deviceInfo.deviceSorId,
        type: "POST",
        contentType: "application/json;charset=UTF-8",
        dataType: "json",
        headers: { "p-csrf-token": csrfknVal },
        data: JSON.stringify({
          lines: [
            {
              lineNum: 1,
              deviceLineItemId:
                planJson.payload.sessionData.lines[0].deviceInfo
                  .deviceLineItemId,
              retrievePlans: true,
            },
          ],
        }),
      }).then(function (response) {
        window._evolv_5g_planJson = response;

        conditionalStart();
      });
    }

    //********Plan First Flow*********//
    if (typeof planJson !== 'undefined' && planJson.payload.pageData && planJson.payload.pageData.planFirstFlow) {
      var csrfknVal = document.cookie.substr(
        document.cookie.indexOf("p_csrftkn=")
      );
      csrfknVal = csrfknVal.substr(0, csrfknVal.indexOf(";"));
      csrfknVal = csrfknVal.substr(csrfknVal.indexOf("=") + 1);
      $.ajax({
        url: "https://www.verizon.com/onedp/api/plans",
        type: "POST",
        contentType: "application/json;charset=UTF-8",
        dataType: "json",
        headers: { "p-csrf-token": csrfknVal },
        data: JSON.stringify({
          lines: [
            {
              lineNum: 1,
              deviceLineItemId: "",
              retrievePlans: "true",
              deviceCategoryType: "Phone",
              deviceType: "Smartphone",
            },
          ],
        }),
      }).then(function (response) {
        window._evolv_5g_planJson = response;
        conditionalStart();
      });
    }
  }
);

//****code for returning from see shared plans and on click of plan view ******//
$(document).on("click", "#goBackArrow", function (event) {
  //console.log("clicked");
  let path = window.location.pathname;
  let y = Number(window.sessionStorage.getItem("scrollPosition_" + path));
  $("html").scrollTop(y);

  const seeOtherDataPlansClicked = window.localStorage.getItem(
    "seeOtherDataPlansClicked"
  );
  if (seeOtherDataPlansClicked) {
    window.localStorage.setItem("seeOtherDataPlansClicked", false);

    //**************API CALL TO GET PLAN DATA ******************//
    //********Device First Flow*********//
    if (
      typeof planJson !== 'undefined' &&
      planJson.payload &&
      planJson.payload.sessionData &&
      planJson.payload.sessionData.lines &&
      planJson.payload.sessionData.lines.length > 0 &&
      planJson.payload.sessionData.lines &&
      planJson.payload.sessionData.lines[0].deviceInfo
    ) {
      // console.log("clicked 1!!!!");
      var csrfknVal = document.cookie.substr(
        document.cookie.indexOf("p_csrftkn=")
      );
      csrfknVal = csrfknVal.substr(0, csrfknVal.indexOf(";"));
      csrfknVal = csrfknVal.substr(csrfknVal.indexOf("=") + 1);
      $.ajax({
        url:
          "https://www.verizon.com/onedp/api/plans?sorSkuId=" +
          planJson.payload.sessionData.lines[0].deviceInfo.deviceSorId,
        type: "POST",
        contentType: "application/json;charset=UTF-8",
        dataType: "json",
        headers: { "p-csrf-token": csrfknVal },
        data: JSON.stringify({
          lines: [
            {
              lineNum: 1,
              deviceLineItemId:
                planJson.payload.sessionData.lines[0].deviceInfo
                  .deviceLineItemId,
              retrievePlans: true,
            },
          ],
        }),
      }).then(function (response) {
        window._evolv_5g_planJson = response;

        conditionalStart();
      });
    }

    //********Plan First Flow*********//
    if (typeof planJson !== 'undefined' && planJson.payload.pageData && planJson.payload.pageData.planFirstFlow) {
      //console.log("clicked 2!!!!");
      var csrfknVal = document.cookie.substr(
        document.cookie.indexOf("p_csrftkn=")
      );
      csrfknVal = csrfknVal.substr(0, csrfknVal.indexOf(";"));
      csrfknVal = csrfknVal.substr(csrfknVal.indexOf("=") + 1);
      $.ajax({
        url: "https://www.verizon.com/onedp/api/plans",
        type: "POST",
        contentType: "application/json;charset=UTF-8",
        dataType: "json",
        headers: { "p-csrf-token": csrfknVal },
        data: JSON.stringify({
          lines: [
            {
              lineNum: 1,
              deviceLineItemId: "",
              retrievePlans: "true",
              deviceCategoryType: "Phone",
              deviceType: "Smartphone",
            },
          ],
        }),
      }).then(function (response) {
        window._evolv_5g_planJson = response;
        //console.log("BACK BTN CLICK",response);
        conditionalStart();
      });
    }
  }
});

$(document).on("click", "[analyticstrack=plan-view]", function (e) {
  return false;
});
//****code for returning from compare plans and on click of plan view ******//

//************ Conversion script ************//
//[aria-label="select Play More Unlimited"]
//[aria-label="select Do More Unlimited"]
//[aria-label="select Get More Unlimited"]
var __evolv_5g_clarity_conversion = function () {
  try {
    window.evolv.client.emit("selectplan.engagement");
  } catch (e) {
    console.log(e);
  }
  console.log("evolv select.plan.engagement triggered");
};

$(document).on(
  "click touchend",
  '[aria-label="select Play More Unlimited"]',
  __evolv_5g_clarity_conversion
);
$(document).on(
  "click touchend",
  '[aria-label="select Do More Unlimited"]',
  __evolv_5g_clarity_conversion
);
$(document).on(
  "click touchend",
  '[aria-label="select Get More Unlimited"]',
  __evolv_5g_clarity_conversion
);
$(document).on(
  "click touchend",
  '[aria-label="Select PlanPlay More Unlimited"]',
  __evolv_5g_clarity_conversion
);
$(document).on(
  "click touchend",
  '[aria-label="Select PlanDo More Unlimited"]',
  __evolv_5g_clarity_conversion
);
$(document).on(
  "click touchend",
  '[aria-label="Select PlanGet More Unlimited"]',
  __evolv_5g_clarity_conversion
);



if ($('.ev-planControl').length > 0) {
  variant4v1();
}
else {
  $('body').on('ev-5g-plan-control:on', variant4v1);
}
function variant4v1() {
  $('#app').addClass('ev-plan-c4v1');
  var isMobile = /iPhone|iPod|Android/i.test(navigator.userAgent);

  if (!isMobile) {
    var element1 = $('#content > div.fiveGheader > div + div.col-xs-12 > div.fiveGNationCopy');
    var element2 = $('#content > div.fiveGheader > div + div.col-xs-12 > div.fiveGNationCopy > .subHeading');
    element1.addClass('ev-builtRightBoxDesktop');
    element2.addClass('ev-builtRightBoxSubHeadingDesktop');

  }

  if (isMobile) {
    $('div.subHeading').removeClass('ev-EnrollPadding');
    $('div.subHeading > span:first-child').addClass('ev-EnrollPaddingLeftOnly ev-EnrollWidth');
    $('div.subHeading .onlyMobile').addClass('ev-builtRightBoxMobile ev-EnrollPaddingLeft ev-EnrollPaddingBottom');
    $('div.subHeading .onlyMobile > p').addClass('ev-builtRightBoxMobile');
  }
}


if ($('.ev-planControl').length > 0) {
  variant();
}
else {
  $('body').on('ev-5g-plan-control:on', variant);
}
function variant() {
  var isMobile = /iPhone|iPod|Android/i.test(navigator.userAgent);

  if (!isMobile) {
    if ($('#c6v35gSection').length === 0) {
      var fiveGaccessHTML = '<div id="c6v35gSection" class="ev-ContainerInnerPadding"><div><h3 aria-label="5G access" class="planTileList_Feature_Header bold ev-font15">5G access</h3><div class="planTileList_Features"><p style="color: rgb(0, 0, 0); font-size: 16px;" class="ev-font12"><span>—</span></p></div><div class="planTileList_Features" style="margin-bottom:8px;"><p style="color: rgb(0, 0, 0); font-size: 15px !important;"><span>5G Nationwide</span><sup>3</sup></p></div></div></div>';

      var element3 = $("div.planTileListCapri:contains('Start Unlimited') > div.planTileList_includes");
      if (element3.length > 1) {
        element3[1].insertAdjacentHTML('afterend', fiveGaccessHTML);
      }
      var greyBorderHTML = '<div class="greyBorder ev-greyBorderMarginRight"></div>';

      var element4 = $("div.planTileListCapri:contains('Start Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > h3");
      if (element4.length > 0) {
        element4[0].insertAdjacentHTML('beforebegin', greyBorderHTML);
      }
      var element5 = $("div.planTileListCapri:contains('Start Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > span");

      if (element5.length > 2) {
        element5[0].innerText = "—";
        element5[2].innerText = "—";
        element5[2].insertAdjacentHTML('afterend', '<div class="planTileList_Features" style="margin-bottom:16px;"><p style="color: rgb(116, 118, 118); font-size: 12px;" class="ev-font12"><span>Get 5G Ultra Wideband for $10/mo</span></p></div>');
      }
      var element6 = $("div.planTileListCapri:contains('Start Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > sup");
      if (element6.length > 0) {
        element6[0].innerText = "";
      }
      element7 = $("div.planTileListCapri:contains('Just Kids') > div.planTileList_includes");

      if (element7.length > 1) {
        element7[1].insertAdjacentHTML('afterend', fiveGaccessHTML);
      }
      element8 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > h3");
      if (element8.length > 0) {
        element8[0].insertAdjacentHTML('beforebegin', greyBorderHTML);
      }
      element9 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > span");
      if (element9.length > 0) {
        element9[0].innerText = "—";
      }
      var element10 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > sup");
      if (element10.length > 0) {
        element10[0].innerText = "";
      }
      var element11 = $("div.planTileListCapri:contains('Play More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features");
      if (element11.length > 2) {
        element11[2].classList.add('ev-planFeaturesBlockAlignment');
      }
      var element12 = $("div.planTileListCapri:contains('Do More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features");
      if (element12.length > 2) {
        element12[2].classList.add('ev-planFeaturesBlockAlignment');
      }
      var element13 = $("div.planTileListCapri:contains('Get More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features");
      if (element13.length > 2) {
        element13[2].classList.add('ev-planFeaturesBlockAlignment');
      }
      element14 = $('div.planTileListCapri:contains("Just Kids")' && 'div.planTileListCapri:contains("Pick an Unlimited plan for your first line, then get Just Kids on another.") > h2');
      if (element14.length > 0) {
        element14[0].classList.add('ev-justKidsBlockAlignment');
      }
      var elDesk1 = $("div.planTileListCapri:contains('Play More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')");
      if (elDesk1.length > 0) {
        elDesk1[0].classList.add('ev-paddingBottomAlignment');
      }
      var elDesk2 = $("div.planTileListCapri:contains('Do More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')");
      if (elDesk2.length > 0) {
        elDesk2[0].classList.add('ev-paddingBottomAlignment');
      }
      var elDesk3 = $("div.planTileListCapri:contains('Get More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')");
      if (elDesk3.length > 0) {
        elDesk3[0].classList.add('ev-paddingBottomAlignment');
      }
      var elDesk4 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('Unlimited talk & text to 20 contacts')");
      if (elDesk4.length > 0) {
        elDesk4[0].classList.add('ev-paddinTopCorrection');
      }
    }
  }

  if (isMobile) {
    if ($('#c6v35gSection').length === 0) {
      var fiveGaccessHTMLMob = '<div id="c6v35gSection" ><h3 class="margin10 noSideMargin" aria-label="plan features" style="margin-top: 16px; font-size: 16px;">5G access</h3><div><p aria-label="5G" nationwide="" style="font-size: 15px; line-height:2;"> <span>5G Nationwide<sup>3</sup></span> </p></div></div>';

      var element19 = $("div.m-slider-tile:contains('Start Unlimited') > div.planIncludes.m-view > div > div:not([class])");

      if (element19.length > 6) {
        element19[6].insertAdjacentHTML('beforebegin', fiveGaccessHTMLMob);
      }

      var greyBorderHTMLMob = '<div class="greyBorder planContainerMarginRight"></div>';

      var element20 = $("div.m-slider-tile:contains('Start Unlimited') > div.planIncludes.m-view > div > div:not([class])");


      if (element20.length > 6) {
        element20[6].insertAdjacentHTML('afterend', greyBorderHTMLMob);
      }
      var element21 = $("div.m-slider-tile:contains('Start Unlimited') > div.planIncludes.m-view > div > div:not([class]) > div:not([class])");

      if (element21.length > 11) {
        element21[11].classList.add('ev-hidePlanFeatureMob');
      }
      //element21[3].classList.add('ev-hidePlanFeatureMob');
      if (element21.length > 2) {
        element21[2].insertAdjacentHTML('afterend', '<div ><p aria-label="Get 5G Ultra Wideband for $10/mo" style="color: rgb(116, 118, 118); font-size: 11px;"><span>Get 5G Ultra Wideband for $10/mo</span></p></div>');
      }

      var element22 = $("div.m-slider-tile:contains('Just Kids') > div.planIncludes.m-view > div > div:not([class])");
      if (element22.length > 0) {
        element22[0].insertAdjacentHTML('beforebegin', fiveGaccessHTMLMob);
      }
      var element23 = $("div.m-slider-tile:contains('Just Kids') > div.planIncludes.m-view > div > div:not([class])");
      if (element23.length > 0) {
        element23[0].insertAdjacentHTML('afterend', greyBorderHTMLMob);
      }
      var element24 = $("div.m-slider-tile:contains('Just Kids') > div.planIncludes.m-view > div > div:not([class]) > div:not([class])");
      if (element24.length > 1) {
        element24[1].classList.add('ev-hidePlanFeatureMob');
      }
    }
  }
}
;
  };


  evolv.javascript.variants["evolv_web_2fcpsjedy_b09ffy3qn"] = function (resolve, reject) {
    console.log("nse no-op");;
  };


  evolv.javascript.variants["evolv_web_2fcpsjedy"] = function (resolve, reject) {
    if (!window.hasOwnProperty("__evolv_5g_clarity_exp_tracker")) {
  window.__evolv_5g_clarity_exp_tracker = {
    column1: null,
    column2: null,
    column3: null,
    column4: null,
    column5: null,
    resizeHandler: null
  };
}

// 5g plans - sales/nse
function doTest() {
  // ******* c4v1 start ****** 
  if ($(window).width() < 768) {
    // $("#app > div").addClass("ev-test-active ev-override-1 ev-override-2 ev-override-3");
    $("#main-app-container").addClass("ev-test-active ev-override-1 ev-override-2 ev-override-3");
    
    if ($(".ev-mobile-inverted").length === 0) {
      var pTag = $('h3').filter(function (i, e) {
        return $(e).text() === "5G Built Right";
      }).parent().find("p");
      var divTagContainer = $('h3').filter(function (i, e) {
        return $(e).text() === "5G Built Right";
      }).parent();
      divTagContainer.addClass("ev-mobile-inverted");
      // var divTag = $("<div>").addClass("ev-mobile-inverted");
      // divTagContainer.append(divTag.append(pTag));
    }

    // replaces text
    $("#plan-fiveGBuiltSubTitle > p > span").html("All plans include access to our 5G Nationwide network. <br><span>When combined with 5G Ultra Wideband—the fastest 5G</span><br><span> in North America</span><sup>6</sup><span> — you'll get our absolute best performance. </span><sup>2</sup>");


  }
  if ($(window).width() >= 768) {
    $("#main-app-container").addClass("ev-test-active ev-override-1 ev-override-2 ev-override-3");

    $("#plan-fiveGBuiltSubTitle").parent().addClass("ev-subtitle-container");

    // replaces text
    $("#plan-fiveGBuiltSubTitle > p > span").html("All plans include access to our 5G Nationwide network. <br><span>When combined with 5G Ultra Wideband—the fastest 5G</span><br><span> in North America</span><sup>6</sup><span> — you'll get our absolute best performance. </span><sup>2</sup>");
  }

  // ******* c6v3 start ****** 

  if ($(window).width() >= 768) {
    function addColumnHeadings(column, className, checkKids, addSectionOptions, change5GHeadingOptions) {
      column.addClass(className);
      var kidPass = true;
      if (checkKids) {
        // always set to false for now
        // kidPass = false;
        // check if the kids column is filled in otherwise do not fill in


      }

      // normally defaults to true, if we are checking for kid data, this will be filled in.
      if (kidPass) {
        if (addSectionOptions !== null) {
          var heading = addSectionOptions.heading;
          var classId = addSectionOptions.classId;
          var dashId1 = addSectionOptions.dashId1;
          var dashId2 = addSectionOptions.dashId2;
          var dashId3 = addSectionOptions.dashId3;
          var dashId4 = addSectionOptions.dashId4;
          if ($("." + classId).length === 0) {
            //<div class="PlanTiles__StyledFeatures-sc-amriu3-14 fUMQyA"><p font-size="14" font-weight="750" font-family="BrandFont-Text" lineheight="16.8" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 hyQUhm StyledBody-sc-1s1yqd8-0 etfxRD">Plan features</p><div class="margin10 noSideMargin"><p font-size="14" font-weight="400" font-family="BrandFont-Text" lineheight="16.8" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 ifoiDD StyledBody-sc-1s1yqd8-0 etfxRD"><div></div><span>5G Nationwide</span><span font-size="10" font-weight="400" font-family="BrandFont-Text" lineheight="12" primitive="span" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 dcZkdA StyledMicro-sc-13h2lsp-0 bKOWDO"><sup>2</sup></span></p></div><div class="margin10 noSideMargin"><p font-size="14" font-weight="400" font-family="BrandFont-Text" lineheight="16.8" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 ifoiDD StyledBody-sc-1s1yqd8-0 etfxRD"><div></div><span>4G LTE</span><span font-size="10" font-weight="400" font-family="BrandFont-Text" lineheight="12" primitive="span" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 dcZkdA StyledMicro-sc-13h2lsp-0 bKOWDO"><sup></sup></span></p></div><div class="PlanTiles__StyledUpDiv-sc-amriu3-15 dOKwWC">Get 5G Ultra Wideband for $10/mo.</div><div type="xLight" class="StyledLine-sc-7j8mur-0 egAsCe"></div></div>
            //<p font-size="14" font-weight="750" font-family="BrandFont-Text" lineheight="16.8" primitive="p" color="#000000" aria-hidden="false" fontsconfig="[object Object]" class="StyledTypography-sc-5k55co-0 hyQUhm StyledBody-sc-1s1yqd8-0 etfxRD">Plan features</p>
            var sectionTag = $("<div>");
            sectionTag.addClass(classId + " ev-feature-section");

            var headingTag = $("<p>");
            // headingTag.addClass("StyledTypography-sc-5k55co-0 hyQUhm StyledBody-sc-1s1yqd8-0 etfxRD");
            sectionTag.addClass("ev-feature-section-heading");
            headingTag.html(heading);
            var attributeWrapper1 = $("<div>");
            attributeWrapper1.addClass("ev-feature-attribute-wrapper");

            var attributeP1 = $("<p>");
            attributeP1.addClass("ev-feature-attribute-p");

            var attributeSpan1_1 = $("<span>");
            attributeSpan1_1.addClass("ev-feature-attribute");
            attributeSpan1_1.html("&#8212;");

            var attributeWrapper2 = $("<div>");
            attributeWrapper2.addClass("ev-feature-attribute-wrapper");

            var attributeP2 = $("<p>");
            attributeP2.addClass("ev-feature-attribute-p");

            var attributeSpan2_1 = $("<span>");
            attributeSpan2_1.addClass("ev-feature-attribute");
            attributeSpan2_1.html("5G Nationwide");

            var attributeSpan2_2 = $("<span>");
            attributeSpan2_2.addClass("ev-feature-attribute-sup-wrapper");

            var sup2 = $("<sup>");
            sup2.addClass("ev-feature-attribute-sup");
            sup2.text(3);

            // 
            var lineTag = $("<div>");
            lineTag.addClass("ev-feature-line");

            attributeWrapper1.append(attributeP1.append(attributeSpan1_1));
            attributeWrapper2.append(attributeP2.append(attributeSpan2_1, attributeSpan2_2.append(sup2)));
            sectionTag.append(headingTag);
            sectionTag.append(attributeWrapper1);
            sectionTag.append(attributeWrapper2);
            column.find(".planFeatures").before(sectionTag);
            column.find(".planFeatures").before(lineTag);
          }

          if (column.find("p[class*=StyledBody] span").length > 0 && column.find("p[class*=StyledBody] span").filter(function (i, e) { return $(e).text().indexOf("5G Nationwide") === 0; }).length > 0) {
            var nationwideTagWrapper = column.find("p[class*=StyledBody] span").filter(function (i, e) { return $(e).text().indexOf("5G Nationwide") === 0; }).parent().parent();
            // hide nationwide
            nationwideTagWrapper.addClass("ev-hide-attribute");

            if ($("." + dashId1).length === 0) {
              // replace with dash
              var attributeWrapper3 = $("<div>");
              attributeWrapper3.addClass("ev-feature-attribute-wrapper");
              attributeWrapper3.addClass(dashId1);

              var attributeP3 = $("<p>");
              attributeP3.addClass("ev-feature-attribute-p");

              var attributeSpan3_1 = $("<span>");
              attributeSpan3_1.addClass("ev-feature-attribute");
              attributeSpan3_1.html("&#8212;");

              attributeWrapper3.append(attributeP3.append(attributeSpan3_1));

              nationwideTagWrapper.before(attributeWrapper3);
            }
          }
          if (dashId2 != null && dashId2.length != 0) {
            if (column.find("p[class*=StyledBody] span").length > 0 && column.find("p[class*=StyledBody] span").filter(function (i, e) { return $(e).text().indexOf("4G LTE") === 0; }).length > 0) {
              var fourGTagWrapper = column.find("p[class*=StyledBody] span").filter(function (i, e) { return $(e).text().indexOf("4G LTE") === 0; }).parent().parent();
              //
              if ($("." + dashId2).length === 0) {
                // replace with dash
                var attributeWrapper4 = $("<div>");
                attributeWrapper4.addClass("ev-feature-attribute-wrapper");
                attributeWrapper4.addClass(dashId2);

                var attributeP4 = $("<p>");
                attributeP4.addClass("ev-feature-attribute-p");

                var attributeSpan4_1 = $("<span>");
                attributeSpan4_1.addClass("ev-feature-attribute");
                attributeSpan4_1.html("&#8212;");

                attributeWrapper4.append(attributeP4.append(attributeSpan4_1));

                fourGTagWrapper.after(attributeWrapper4);
              }
            }
          }


          if (column.find(".monthlyPrice").length === 0) {
            // match with other columns using class
            $(column.find("button").get(0)).parent().addClass("ev-fix-margin-top-select");
          }

        }
        if (change5GHeadingOptions !== null) {

        }
      }
    }
    if ($('.ev-c6v3').length === 0) {
      var startH2 = $('h2').filter((i, e) => $(e).text() === "Start Unlimited");
      var planColumnContainer = null;
      if (startH2.length > 0) {
        planColumnContainer = startH2.parent().parent().parent().parent();
        var options5GaccessStart = {
          heading: "5G access",
          classId: "ev-feature-start-id",
          dashId1: "ev-start-dash-1",
          dashId2: "ev-start-dash-2",
          dashId3: "ev-start-dash-3",
          dashId4: "ev-start-dash-4"
        };
        var options5GaccessKids = {
          heading: "5G access",
          classId: "ev-feature-kid-id",
          dashId1: "ev-kid-dash-1",
          // dashId2: "ev-kid-dash-2",
          dashId2: null,
          dashId3: "ev-kid-dash-3",
          dashId4: "ev-kid-dash-4"
        };
        var options5Gchange = {
          // heading: "5G total access"
        }
        var planColumnContainerChildren = planColumnContainer.children();

        if (planColumnContainerChildren.length > 0) {
          // start unlimited
          var column = $(planColumnContainerChildren[0]);
          if ($(column.find("h2").get(0)).text().trim() === "Start Unlimited") {
            addColumnHeadings(column, "ev-start-column", false, options5GaccessStart, null);
            window.__evolv_5g_clarity_exp_tracker.column1 = column;
          }
        }
        if (planColumnContainerChildren.length > 1) {
          // play more unlimited
          var column = $(planColumnContainerChildren[1]);
          if ($(column.find("h2").get(0)).text().trim() === "Play More Unlimited") {
            addColumnHeadings(column, "ev-play-column", false, null, options5Gchange);
            window.__evolv_5g_clarity_exp_tracker.column2 = column;
          }
        }
        if (planColumnContainerChildren.length > 2) {
          // do more unlimited
          var column = $(planColumnContainerChildren[2]);

          if ($(column.find("h2").get(0)).text().trim() === "Do More Unlimited") {
            addColumnHeadings(column, "ev-do-column", false, null, options5Gchange);
            window.__evolv_5g_clarity_exp_tracker.column3 = column;
          }
        }
        if (planColumnContainerChildren.length > 3) {
          // get more unlimited
          var column = $(planColumnContainerChildren[3]);
          if ($(column.find("h2").get(0)).text().trim() === "Get More Unlimited") {
            addColumnHeadings(column, "ev-get-column", false, null, options5Gchange);
            window.__evolv_5g_clarity_exp_tracker.column4 = column;
          }

        }
        if (planColumnContainerChildren.length > 4) {
          // just kids
          var column = $(planColumnContainerChildren[4]);
          if ($(column.find("h2").get(0)).text().trim() === "Just Kids") {
            addColumnHeadings(column, "ev-kids-column", true, options5GaccessKids, null);
            window.__evolv_5g_clarity_exp_tracker.column5 = column;
          }
        }
      }
      // need a div with a p tag inside
      // attributes are inside spans

      // var fiveGaccessHTML = '<div id="c6v35gSection" class="ev-ContainerInnerPadding"><div><h3 aria-label="5G access" class="planTileList_Feature_Header bold ev-font15">5G access</h3><div class="planTileList_Features"><p style="color: rgb(0, 0, 0); font-size: 16px;" class="ev-font12"><span>—</span></p></div><div class="planTileList_Features" style="margin-bottom:8px;"><p style="color: rgb(0, 0, 0); font-size: 15px !important;"><span>5G Nationwide</span><sup>3</sup></p></div></div></div>';

      // var element3 = $("div.planTileListCapri:contains('Start Unlimited') > div.planTileList_includes");

      // element3[1].insertAdjacentHTML('afterend', fiveGaccessHTML);

      // var greyBorderHTML = '<div class="greyBorder ev-greyBorderMarginRight"></div>';

      // var element4 = $("div.planTileListCapri:contains('Start Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > h3");

      // element4[0].insertAdjacentHTML('beforebegin', greyBorderHTML);

      // var element5 = $("div.planTileListCapri:contains('Start Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > span");

      // element5[0].innerText = "—";
      // element5[2].innerText = "—";

      // element5[2].insertAdjacentHTML('afterend', '<div class="planTileList_Features" style="margin-bottom:16px;"><p style="color: rgb(116, 118, 118); font-size: 12px;" class="ev-font12"><span>Get 5G Ultra Wideband for $10/mo</span></p></div>');

      // var element6 = $("div.planTileListCapri:contains('Start Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > sup");

      // element6[0].innerText = "";

      // element7 = $("div.planTileListCapri:contains('Just Kids') > div.planTileList_includes");

      // element7[1].insertAdjacentHTML('afterend', fiveGaccessHTML);

      // element8 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > h3");
      // element8[0].insertAdjacentHTML('beforebegin', greyBorderHTML);

      // element9 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > span");
      // element9[0].innerText = "—";

      // var element10 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features > p > sup");

      // element10[0].innerText = "";

      // var element11 = $("div.planTileListCapri:contains('Play More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features");

      // element11[2].classList.add('ev-planFeaturesBlockAlignment');

      // var element12 = $("div.planTileListCapri:contains('Do More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features");

      // element12[2].classList.add('ev-planFeaturesBlockAlignment');

      // var element13 = $("div.planTileListCapri:contains('Get More Unlimited') > div.ev-ContainerInnerPadding + .ev-ContainerInnerPadding > div > div.planTileList_Features");

      // element13[2].classList.add('ev-planFeaturesBlockAlignment');

      // element14 = $('div.planTileListCapri:contains("Just Kids")' && 'div.planTileListCapri:contains("Pick an Unlimited plan for your first line, then get Just Kids on another.") > h2');

      // element14[0].classList.add('ev-justKidsBlockAlignment');

      // var elDesk1 = $("div.planTileListCapri:contains('Play More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')");
      // elDesk1[0].classList.add('ev-paddingBottomAlignment');

      // var elDesk2 = $("div.planTileListCapri:contains('Do More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')");
      // elDesk2[0].classList.add('ev-paddingBottomAlignment');
      // var elDesk3 = $("div.planTileListCapri:contains('Get More Unlimited') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('5G Nationwide')");
      // elDesk3[0].classList.add('ev-paddingBottomAlignment');

      // var elDesk4 = $("div.planTileListCapri:contains('Just Kids') > div.ev-ContainerInnerPadding > div > div.planTileList_Features:contains('Unlimited talk & text to 20 contacts')");
      // elDesk4[0].classList.add('ev-paddinTopCorrection');

      if (window.__evolv_5g_clarity_exp_tracker.resizeHandler === null) {
        window.__evolv_5g_clarity_exp_tracker.resizeHandler = function () {
          function removeAllStyles(exp, lightType, xLightType, featureType){
            for(var i = 1; i < 6; i++){
              var column = exp["column" + i];
              if(column != null){
                // column.find(lightType).css("marginTop", "");
                // column.find(xLightType).css("marginTop", "");
                // column.find(featureType).css("marginTop", "");
                column.find(lightType).removeClass("ev-top-line");
                column.find(xLightType).removeClass("ev-second-line");
                column.find(xLightType).removeClass("ev-third-line");
                column.find(xLightType).removeClass("ev-fourth-line");
                column.find(featureType).removeClass("ev-second-line");
                column.find(featureType).removeClass("ev-third-line");
                column.find(featureType).removeClass("ev-fourth-line");
              }
            }
            
          }
          var exp = window.__evolv_5g_clarity_exp_tracker;
          var lightType = "[type=light]";
          var xLightType = "[type=xLight]";
          var featureType = ".ev-feature-line";
          // .css("transform","");
          if ($(window).width() < 768) {
            removeAllStyles(exp, lightType, xLightType, featureType);
          }
          else {
            removeAllStyles(exp, lightType, xLightType, featureType);
            setTimeout(function(exp, lightType, xLightType, featureType){
              if (exp.column1 != null && exp.column2 != null && exp.column3 != null && exp.column4 != null && exp.column5 != null) {
                // var bodyTop = document.body.getBoundingClientRect().top;
                // var maxTop1 = 0;
                // var maxTop2 = 0;
                // var maxTop3 = 0;
                // var maxTop4 = 0;
  
                // add all classes
                for (var i = 1; i < 6; i++) {
                  var column = exp["column" + i];
                  var elem = column.find(lightType);
                  elem = $(elem.get(0));
                  elem.addClass("ev-top-line");
                  if(i === 1 || i === 5){
                    elem = column.find(featureType);
                    elem = $(elem.get(0));
                    elem.addClass("ev-second-line");

                    elem = column.find(xLightType);
                    elem = $(elem.get(0));
                    elem.addClass("ev-third-line");
                    elem = column.find(xLightType);
                    elem = $(elem.get(1));
                    elem.addClass("ev-fourth-line");
                  }
                  else{
                    elem = column.find(xLightType);
                    elem = $(elem.get(0));
                    elem.addClass("ev-second-line");
                    elem = column.find(xLightType);
                    elem = $(elem.get(1));
                    elem.addClass("ev-third-line");
                    elem = column.find(xLightType);
                    elem = $(elem.get(2));
                    elem.addClass("ev-fourth-line");
                  }
                  
                  // var columnTop = elem.get(0).getBoundingClientRect().top;
                  // if (columnTop > maxTop1) {
                  //   maxTop1 = columnTop;
                  // }
                }
  
                // // console.log("ev-me: " + maxTop1);
                // for (var i = 1; i < 6; i++) {
                //   var column = exp["column" + i];
                //   var elem = column.find(lightType);
                //   var columnTop = elem.get(0).getBoundingClientRect().top;
                //   var diff = maxTop1 - columnTop;
                //   if (maxTop1 - columnTop != 0) {
                //     var margin = parseFloat(elem.css("marginTop"));
                //     var finalmargin = margin + diff;
                //     // console.log();
                //     // console.log("ev-me final margin: " + finalmargin);
                //     elem.css("marginTop", finalmargin + "px");
                //   }
                // }
  
                // line 2
                for (var i = 1; i < 6; i++) {
                  var column = exp["column" + i];
                  if(i == 1 || i === 5){
                    var elem = column.find(featureType);
                    var columnTop = elem.get(0).getBoundingClientRect().top;
                    // console.log("ev-me i, columnTop: " + i + ", " + columnTop);
                    if (columnTop > maxTop2) {
                      maxTop2 = columnTop;
                    }
                  }
                  else{
                    var elem = column.find(xLightType);
                    var columnTop = elem.get(0).getBoundingClientRect().top;
                    // console.log("ev-me i, columnTop: " + i + ", " + columnTop);
                    if (columnTop > maxTop2) {
                      maxTop2 = columnTop;
                    }
                  }
                }
  

                // for (var i = 1; i < 6; i++) {
                //   var column = exp["column" + i];
                //   if(i === 1 || i === 5){
                //     var elem = column.find(featureType);
                //     var columnTop = elem.get(0).getBoundingClientRect().top;
                //     var diff = maxTop2 - columnTop;
                //     if (maxTop2 - columnTop != 0) {
                //       var margin = parseFloat(elem.css("marginTop"));
                //       var finalmargin = margin + diff;
                //       // console.log();
                //       // console.log("ev-me final margin: " + finalmargin);
                //       elem.css("marginTop", finalmargin + "px");
                //     }
                //   }
                //   else{
                //     var elem = column.find(xLightType);
                //     var columnTop = elem.get(0).getBoundingClientRect().top;
                //     var diff = maxTop2 - columnTop;
                //     if (maxTop2 - columnTop != 0) {
                //       var margin = parseFloat(elem.css("marginTop"));
                //       var finalmargin = margin + diff;
                //       // console.log();
                //       // console.log("ev-me final margin: " + finalmargin);
                //       elem.css("marginTop", finalmargin + "px");
                //     }
                //   }
                // }
  
                // // line 3
                // for (var i = 1; i < 6; i++) {
                //   var column = exp["column" + i];
                //   var featureOffset = 1;
                //   if(i == 1 || i === 5){
                //     featureOffset = featureOffset - 1;
                //   }
                //   var elem = column.find(xLightType);
                //   var columnTop = elem.get(0 + featureOffset).getBoundingClientRect().top;
                //   if (columnTop > maxTop3) {
                //     maxTop3 = columnTop;
                //   }
                // }
  
                // for (var i = 1; i < 6; i++) {
                //   var column = exp["column" + i];
                //   var featureOffset = 1;
                //   if(i == 1 || i === 5){
                //     featureOffset = featureOffset - 1;
                //   }
                //   var elem = column.find(xLightType);
                //   var columnTop = elem.get(0 + featureOffset).getBoundingClientRect().top;
                //   var diff = maxTop3 - columnTop;
                //   if (maxTop3 - columnTop != 0) {
                //     var margin = parseFloat(elem.css("marginTop"));
                //     var finalmargin = margin + diff;
                //     // console.log();
                //     // console.log("ev-me final margin: " + finalmargin);
                //     elem.css("marginTop", finalmargin + "px");
                //   }
                // }
  
                // // line 4
                // for (var i = 1; i < 6; i++) {
                //   var column = exp["column" + i];
                //   var featureOffset = 2;
                //   if(i == 1 || i === 5){
                //     featureOffset = featureOffset - 1;
                //   }
                //   var elem = column.find(xLightType);
                //   var columnTop = elem.get(0 + featureOffset).getBoundingClientRect().top;
                //   if (columnTop > maxTop4) {
                //     maxTop4 = columnTop;
                //   }
                // }
  
                // for (var i = 1; i < 6; i++) {
                //   var column = exp["column" + i];
                //   var featureOffset = 2;
                //   if(i == 1 || i === 5){
                //     featureOffset = featureOffset - 1;
                //   }
                //   var elem = column.find(lightType);
                //   var columnTop = elem.get(0 + featureOffset).getBoundingClientRect().top;
                //   var diff = maxTop4 - columnTop;
                //   if (maxTop4 - columnTop != 0) {
                //     var margin = parseFloat(elem.css("marginTop"));
                //     var finalmargin = margin + diff;
                //     // console.log();
                //     // console.log("ev-me final margin: " + finalmargin);
                //     elem.css("marginTop", finalmargin + "px");
                //   }
                // }
              }
            }, 100, exp, lightType, xLightType, featureType);
          
          }

        }
        function timedResizeHandler() {
          setTimeout(window.__evolv_5g_clarity_exp_tracker.resizeHandler, 10);
          setTimeout(window.__evolv_5g_clarity_exp_tracker.resizeHandler, 100);
          setTimeout(window.__evolv_5g_clarity_exp_tracker.resizeHandler, 500);
          setTimeout(window.__evolv_5g_clarity_exp_tracker.resizeHandler, 1000);
          setTimeout(window.__evolv_5g_clarity_exp_tracker.resizeHandler, 2000);
          setTimeout(window.__evolv_5g_clarity_exp_tracker.resizeHandler, 5000);
        }
        $(window).on("resize", timedResizeHandler);
        timedResizeHandler();
      }

      if (planColumnContainer !== null) {
        planColumnContainer.addClass('ev-c6v3 ev-c6v3-active');
      }
    }
  }
}
doTest();
$(document).on("click touchend", function () {
  setTimeout(doTest, 10);
  setTimeout(doTest, 100);
  setTimeout(doTest, 1000);
  setTimeout(doTest, 2000);
  setTimeout(doTest, 3000);
  setTimeout(doTest, 4000);
  setTimeout(doTest, 5000);
});

var __evolv_5g_clarity_conversion = function () {
  try {
    window.evolv.client.emit("selectplan.engagement");
  } catch (e) {
    console.log(e);
  }
  console.log("evolv select.plan.engagement triggered");
};
  };


  (function () {
    const fn = (function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var t={confirmed:"experiments.confirmations",contaminated:"experiments.contaminations"},e={};function o(n){return 0===n.indexOf("@")}function r(n){for(var t=window.evolv.context.get("experiments").allocations,e=0;e<t.length;e++)if(t[e].cid===n)return t[e]}function i(n){var e=n.poll||{duration:2e3,interval:50},o=n.events||["confirmed"],i={confirmed:{},contaminated:{},others:{}},a=n.check,u=n.emit;c((function(){return window.evolv}),(function(){o.forEach((function(n){function o(){(function(n,e,o){for(var i=o[n]||o.others,c=t[n]||"",a=window.evolv.context.get(c)||[],u=0;u<a.length;u++)try{var l=a[u].cid;i[l]||(e(n,r(l)),i[l]=!0)}catch(n){console.info("analytics not sent for evolv")}})(n,u,i)}window.evolv.client.on(n,(function(n){c(a,o,e)}))}))}),e)}function c(n,t,e){if(n())return t(),void 0;var o=setInterval((function(){try{n()&&(t(),clearInterval(o),o=null)}catch(n){console.info("listener not processed")}}),e.interval);setTimeout((function(){o&&(clearInterval(o),console.info("listener timeout"))}),e.duration)}function a(n){return Array.isArray(n)?n:n.split(".")}function u(n,t,r){var i=a(n),c=i.pop(),u=f(i);o(c)&&(u=e),u&&(r?u[c]+=t:u[c]=t)}function l(n,t,e){var o=a(n),r=o.pop(),i=f(o);return"function"!=typeof i[r]?(console.warn("not proper emit function",i,r),void 0):e?new(Function.prototype.bind.apply(i[r],[null].concat(t))):i[r].apply(i,t)}function f(n){var t=a(n),e=window;for("window"===t[0]&&(t=t.slice(1));t.length>0&&e;){var o=t[0];if(t=t.slice(1),o.indexOf("(")>0)try{var r=e[o=o.slice(0,-2)];e="function"==typeof r?r.apply(e,[]):void 0}catch(n){}else{var i=e[o];e="function"==typeof i&&0===t.length?i.bind(e):i}}return e}function s(n){this.event=n}function p(n,t){var e;return e=n.with?t.extractValue(n.with):p(n.withExpression,t),n.bind?u(n.bind,e):n.append?u(n.append,e,!0):n.invoke?l(n.invoke,e):n.init?l(n.init,e,!0):(console.info("nothing to run for",this.statement),void 0)}function v(n,t,e){var o=n.statements,r=new s(e);try{o.forEach((function(n){p(n,r)}))}catch(n){console.info("statement failed",n)}}function d(n){return n.invoke||n.bind||n.init||n.append}function y(n){return n.statements.every((function(n){if(n.bind){var t=a(d(n)).slice(0,-1);return 0===t.length||!!f(t)}return!!f(d(n))}))}s.prototype.eventValue=function(n){var t=this.event;switch(n){case"combination_id":return t.ordinal;case"experiment_id":return t.group_id;case"user_id":return t.uid;default:return t[n]}},s.prototype.parseTemplateString=function(n){var t=/\${([^}]*)}/,e=n.match(/((\${([^}]*)})|([^${}])+)/g),o=function(n,e){var o=e.match(t);return n+(o?this.eventValue(o[1]):e)}.bind(this);return e.reduce(o,"")},s.prototype.extractValue=function(t){return Array.isArray(t)?this.buildArray(t):"object"===n(t)?this.buildMap(t):o(t)?e[t]:this.parseTemplateString(t)},s.prototype.buildMap=function(n){var t=this,e=Object.keys(n),o={};return e.forEach((function(e){o[e]=t.extractValue(n[e])})),o},s.prototype.buildArray=function(n){var t=this;return n.map((function(n){return t.extractValue(n)}))};var h=function(n){Object.keys(n).forEach((function(t){try{var e=(function(n){for(var t=0;t<n.length;t++){var e=n[t];if(!e.page||new RegExp(e.page).test(location.pathname))return e}return null})(n[t]||[]);if(!e)return;i({events:e.events,check:y.bind(null,e),emit:v.bind(null,e),poll:e.poll})}catch(n){console.info("analytics not setup for evolv",t)}}))};return{__proto__:null,default:h,__moduleExports:h}})().default;
    fn({"adobe":[{"page":"^/home/","statements":[{"bind":"window.s.eVar119","with":"Combination_${combination_id}:${experiment_id}"},{"append":"window.s.linkTrackVars","with":"eVar119"},{"invoke":"window.s.tl","with":[true,"o","Evolv"]}],"poll":{"duration":20000,"interval":50}},{"statements":[{"invoke":"window.vzwAnalytics.events.track","with":["variableUpdater",{"customLinkName":"evolv impression","eVar91":"Combination_${combination_id}:${experiment_id}","prop74":"${user_id}"}]}],"poll":{"duration":20000,"interval":50}}],"omni":[{"page":"^/home/","statements":[]},{"statements":[{"invoke":"window.vztag.api.dispatch","with":["sendData",{"name":"evolv test","data":{"target":{"evolvCID":"Combination_${combination_id}:${experiment_id}"}}}]}],"poll":{"duration":20000,"interval":50}}]});
  })();


  (function () {
    const fn = (function(){"use strict";function t(t){return!!t&&new RegExp(t).test(location.pathname)}function e(){return window.evolv}var n=function(n){var o=(n.pages||[]).some(t),i=n.renderDelay||0;o&&(function(t,e,n){if(n||(n={}),t())return e(),void 0;var o=setInterval((function(){try{t()&&(e(),clearInterval(o),o=null)}catch(t){console.info("listener not processed")}}),n.interval||50);setTimeout((function(){o&&(clearInterval(o),console.info("listener timeout"))}),n.duration||2e3)})(e,(function(){(function(t,e){var n=history.pushState,o=history.replaceState;function i(){setTimeout((function(){t.context.set("web.url",window.location.href)}),e||0)}function r(t){var e,n=Array.prototype.slice.call(arguments,1);t.apply(history,n);var o="stateupdate_evolv";Event.prototype.constructor?e=new CustomEvent(o,{}):(e=document.createEvent("Event")).initEvent(o),window.dispatchEvent(e)}history.pushState=r.bind(this,n),history.replaceState=r.bind(this,o),window.addEventListener("popstate",i),window.addEventListener("stateupdate_evolv",i)})(window.evolv.client,i)}),n.poll)};return{__proto__:null,default:n,__moduleExports:n}})().default;
    fn({"pages":["/sales/","/ui/","/onedp/plans","/digital/nsa"],"renderDelay":1000,"poll":{"duration":10000,"interval":50}});
  })();


  (function () {
    const fn = (function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t={};function n(){window.evolv.context.update(t)}var o={map:function(e){return function(t){return e.map((function(e){return l.getExpressionValue(t,e)}))}}};function r(e,t){var n=o[e];return n?n(t):function(){console.info("Warning: ",e," not a valid macro")}}function i(e){return Array.isArray(e)?e:e.split(".")}var a,u,l={getExpressionValue:function(e,t){var n=i(e),o=t||window;for("window"===n[0]&&(n=n.slice(1));n.length>0&&o;){var a=n[0];n=n.slice(1);var u=a.indexOf("(");if(u>0)try{var l=a.indexOf(")"),c=a.slice(u+1,l),f=o[a=a.slice(0,u)];if("function"==typeof f)o=f.apply(o,[c]);else if("@"===a[0]){o=r(a.slice(1),o)(c)}else o=void 0}catch(e){}else!o[a]&&n.length>0&&(a=a+"."+n[0],n=n.slice(1)),o=o[a]}return o},setExpressionValue:function(e,t,n){var o=i(e),r=o.pop(),a=l.getExpressionValue(o);a&&(n?a[r]+=t:a[r]=t)},getFetchValue:function(e){var t=e.url||"",n=e.method||"POST",o=e.data||{};return fetch(t,{method:n,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(t){var n=e.expression||null,o=e.bindTo||null,r=t.data,i=l.getExpressionValue(n,r);return o&&l.setExpressionValue(o,r),i?i.toString():""}))},getCookieValue:function(e){var t=document.cookie.split(";").find((function(t){return t.trim().split("=")[0]===e}));return t?t.split("=")[1]:null},getDomValue:function(e){return document.querySelector(e)&&"found"},getJqDomValue:function(e){return window.$&&$(e).length>0&&"found"}};function c(e){return"expression"===e.type?l.getExpressionValue(e.value):"fetch"===e.type?l.getFetchValue(e.value):"dom"===e.type?l.getDomValue(e.value):"jqdom"===e.type?l.getJqDomValue(e.value):"cookie"===e.type?l.getCookieValue(e.value):null}t.config=(a="evolv:distribution",(u=window.localStorage.getItem(a))||(u=Math.floor(100*Math.random()),window.localStorage.setItem(a,u)),{distribution:u,qaAudienceEnabled:window.localStorage.getItem("evolv:qa_audience_enabled")});var f=function(o){try{Object.keys(o).forEach((function(r){var i=o[r];if("object"===e(i)){var a=Object.keys(i);t[r]||(t[r]={}),a.forEach((function(e){var o=i[e];o.page&&!new RegExp(o.page).test(location.pathname)||(function(e,o,r){function i(n,r){t[e][o]=(function(e){return e.toString()})(n),r&&(t[e][o+"_pollingCount"]=""+r)}try{var a=c(r);if(a)return a.then?(a.then((function(e){i(e,0),n()})),void 0):(i(a),void 0);if(!r.poll)return i(""),void 0;var u=0,l=setInterval((function(){try{var e=c(r);u++,e&&(i(e,u),n(),clearInterval(l))}catch(e){console.info("audience not processed",r)}}),r.poll.interval||50);setTimeout((function(){clearInterval(l)}),r.poll.duration||250)}catch(t){console.warn("Unable to add audience for",e,o,r,t)}})(r,e,o)}))}})),n()}catch(e){}};return{__proto__:null,default:f,__moduleExports:f}})().default;
    fn({"project":{"refUrl":{"page":"ui/","type":"expression","value":"document.referrer"},"placeOrder":{"page":"sales/digital/expressCheckout","type":"jqdom","value":"button[aria-label*='Place order']","poll":{"interval":250,"duration":3600000}},"promotype":{"page":"sales/digital/expressCheckout.html","type":"fetch","value":{"method":"POST","url":"https://www.verizon.com/soe/digital/auth/orderprocessservice/checkoutapi/get-checkout-details","expression":"cart.lineDetails.lineInfo.@map(promoType)","bindTo":"window.evolv.promoType"}}},"vz":{"authStatus":{"type":"expression","value":"window.vzwDL.page.authStatus"},"myaccount":{"type":"cookie","value":"myaccount","default":"false"},"pageName":{"type":"expression","value":"window.vzwDL.page.pageName"},"flowName":{"type":"expression","value":"window.vzwDL.page.flowName"},"platform":{"type":"expression","value":"window.vzwDL.page.platform","poll":{"interval":50,"duration":500}},"bucketAllocator":{"type":"expression","value":"window.vzwDL.page.bucketAllocator"},"targetActivity":{"type":"expression","value":"window.vzwDL.cp.target_activity"}}});
  })();

})(window.evolv);

